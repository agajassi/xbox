{"version":3,"file":"cvp.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/es6-object-assign/index.js","../node_modules/es6-promise/dist/config/versionTemplate.txt","../node_modules/es6-promise/dist/lib/es6-promise/utils.js","../node_modules/es6-promise/dist/lib/es6-promise/asap.js","../node_modules/es6-promise/dist/lib/es6-promise/then.js","../node_modules/es6-promise/dist/lib/es6-promise/promise/resolve.js","../node_modules/es6-promise/dist/lib/es6-promise/-internal.js","../node_modules/es6-promise/dist/lib/es6-promise/enumerator.js","../node_modules/es6-promise/dist/lib/es6-promise/promise/all.js","../node_modules/es6-promise/dist/lib/es6-promise/promise/race.js","../node_modules/es6-promise/dist/lib/es6-promise/promise/reject.js","../node_modules/es6-promise/dist/lib/es6-promise/promise.js","../node_modules/es6-promise/dist/lib/es6-promise/polyfill.js","../node_modules/es6-promise/dist/lib/es6-promise.js","../node_modules/es6-promise/auto.js","../src/enum/LogLevel.ts","../src/core/BaseClass.ts","../src/core/CoreEvent.ts","../src/core/LinkedList.ts","../src/util/enum/MediaCapabilitiesMimeType.ts","../src/enum/MimeType.ts","../src/core/Util.ts","../src/core/Emitter.ts","../src/core/Logger.ts","../src/enum/ServiceName.ts","../src/mvc/MvcMessages.ts","../src/service/ServiceContainer.ts","../src/mvc/Observer.ts","../src/mvc/View.ts","../src/mvc/Controller.ts","../src/mvc/Model.ts","../src/mvc/Notification.ts","../src/mvc/Facade.ts","../src/service/ServiceBase.ts","../src/service/BuildInfoService.ts","../src/service/MediaCapabilitiesService.ts","../src/enum/Device.ts","../src/enum/Os.ts","../src/enum/Browser.ts","../src/enum/Platform.ts","../src/util/System.ts","../src/util/VirtualVideoElement.ts","../src/service/SystemService.ts","../src/util/config/MediaDecodeConfigs.ts","../src/util/enum/MediaCapabilitiesCodec.ts","../src/util/MediaCapabilities.ts","../src/app/ResourceConfiguration.ts","../src/enum/MediatorName.ts","../src/enum/ModelName.ts","../src/enum/NativePlugin.ts","../src/enum/NotificationName.ts","../src/enum/NotificationType.ts","../src/enum/PlaybackState.ts","../src/enum/PlayerEvent.ts","../src/enum/ProxyName.ts","../src/enum/StreamType.ts","../src/playback/enum/Playback.ts","../src/service/LogService.ts","../src/app/event_map.ts","../node_modules/axios/lib/helpers/bind.js","../node_modules/is-buffer/index.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/axios.js","../node_modules/axios/index.js","../src/dataservice/RecoveryEnabledRequest.ts","../src/dataservice/AsyncDataRequest.ts","../src/enum/XhrResponseType.ts","../src/dataservice/AsyncDataRequestOptions.ts","../src/enum/QualityCategory.ts","../src/util/QualityMap.ts","../src/util/Utils.ts","../src/mvc/Notifier.ts","../src/mvc/AbstractMediator.ts","../src/view/LogAwareMediator.ts","../src/view/AppMediator.ts","../src/enum/AccessibilityAction.ts","../src/enum/DiagnosticAction.ts","../src/enum/NonPrintingKey.ts","../src/enum/PluginPriority.ts","../src/util/KeyCode.ts","../src/app/AppResources.ts","../src/service/AutoplayCapabilitiesService.ts","../src/app/AbstractApplication.ts","../src/app/ApiDecorators.ts","../src/mvc/AbstractSimpleCommand.ts","../src/controller/LogAwareSimpleCommand.ts","../src/controller/AbrSwitchCommand.ts","../src/mvc/AbstractMacroCommand.ts","../src/enum/LocalizationId.ts","../src/mvc/Proxy.ts","../src/model/LocalizationProxy.ts","../src/model/ModelCollectionProxy.ts","../src/enum/PerformanceMode.ts","../src/model/PerformanceProxy.ts","../src/enum/PlayerDom.ts","../src/model/PlayerDomProxy.ts","../src/model/PlaylistProxy.ts","../src/playback/enum/TextTrackMode.ts","../src/model/TextTrackProxy.ts","../src/enum/AdBreakType.ts","../src/model/vo/Validator.ts","../src/model/cfg/ad_break_info_config.ts","../src/model/cfg/ad_item_config.ts","../src/model/cfg/build_info_config.ts","../src/model/cfg/content_playback_state_config.ts","../src/model/cfg/player_dom_config.ts","../src/enum/Autoplay.ts","../src/model/cfg/player_options_config.ts","../src/model/vo/Transformer.ts","../src/model/cfg/presentation_state_config.ts","../src/model/cfg/index.ts","../src/model/vo/Generator.ts","../src/model/vo/ConfigurablePropertyContainer.ts","../src/model/vo/AdBreakInfo.ts","../src/model/vo/AdItem.ts","../src/model/vo/BuildInfo.ts","../src/model/vo/ContentPlaybackState.ts","../src/model/vo/PlayerDom.ts","../src/model/vo/PlayerOptions.ts","../src/model/vo/PresentationState.ts","../src/model/vo/ModelCollection.ts","../src/controller/boot/PrepModelCommand.ts","../src/enum/KeyboardScope.ts","../src/view/AbstractKeyCommandMediator.ts","../src/view/AccessibilityKeyCommandMediator.ts","../node_modules/screenfull/dist/screenfull.js","../src/view/FullscreenMediator.ts","../src/enum/VideoMode.ts","../src/view/UiMediator.ts","../src/view/UserKeyCommandMediator.ts","../src/controller/boot/PrepViewCommand.ts","../src/controller/boot/PrepServiceCommand.ts","../src/controller/command-helpers/PlayerDomCreator.ts","../src/controller/boot/CreateDomCommand.ts","../src/util/Timer.ts","../src/view/TimerMediator.ts","../src/controller/boot/PrepTimerCommand.ts","../src/core/QueryString.ts","../src/app/PluginServices.ts","../src/dataservice/ScriptLoader.ts","../src/view/PluginMediator.ts","../src/controller/boot/PrepPluginsCommand.ts","../src/controller/boot/BootCommand.ts","../src/controller/boot/BootWebMafCommand.ts","../src/event/PlayerErrorEvent.ts","../src/event/AdErrorEvent.ts","../src/controller/HandleErrorCommand.ts","../src/controller/KillResourcePresentationCommand.ts","../src/controller/LocalizationCommand.ts","../src/controller/PlaybackCommand.ts","../src/controller/PlaylistCommand.ts","../src/enum/ErrorCode.ts","../src/enum/VideoFormat.ts","../src/ad/dai-api/Ad.ts","../src/ad/dai-api/AdPodInfo.ts","../src/ad/dai-api/StreamEvent.ts","../src/ad/dai-api/StreamManager.ts","../src/ad/dai-api/VODStreamRequest.ts","../src/ad/dai-api/DaiProxyApi.ts","../src/enum/AdContext.ts","../src/model/ContentPlaybackStateProxy.ts","../src/ad/MoatTracker.ts","../src/service/GamAdService.ts","../src/service/DaiAdService.ts","../src/ad/ImaAdsLoader.ts","../src/enum/ImaVpaidMode.ts","../src/service/ImaAdService.ts","../src/playback/enum/ExtLibEndpoint.ts","../src/playback/enum/PlaybackAdapterType.ts","../src/playback/enum/StreamingLibraryVersion.ts","../src/playback/enum/TextTrackSurfaceEvents.ts","../src/playback/enum/VideoSurfaceEvents.ts","../src/playback/enum/TextTrackEvents.ts","../src/playback/enum/TextTrackType.ts","../src/playback/util/SmpteToVttCueConverter.ts","../src/playback/surface/TextTrackSurface.ts","../src/playback/surface/Html5VideoSurface.ts","../src/playback/enum/PlaybackAdapterEvents.ts","../src/playback/enum/PlayStation.ts","../src/playback/surface/WebMafVideoSurface.ts","../src/util/enum/DrmType.ts","../src/playback/enum/DashEmsg.ts","../src/playback/enum/DashjsRobustness.ts","../src/playback/adapter/BasePlaybackAdapter.ts","../src/playback/adapter/DashjsAdapter.ts","../src/playback/enum/HlsjsRobustness.ts","../src/playback/adapter/BaseHtml5Adapter.ts","../src/playback/adapter/HlsjsAdapter.ts","../src/enum/MediaError.ts","../src/playback/enum/DrmVendor.ts","../src/playback/util/FairPlay.ts","../src/playback/adapter/Html5Adapter.ts","../src/playback/adapter/PlayStationAdapter.ts","../src/playback/enum/ShakaRobustness.ts","../src/playback/adapter/ShakaAdapter.ts","../src/playback/adapter/TwitchLowLatencyAdapter.ts","../src/playback/adapter/PlaybackAdapterFactory.ts","../src/core/Request.ts","../src/playback/util/WebVTTParser.ts","../src/playback/surface/ThumbnailTrackSurface.ts","../src/view/AbstractPresentationMediator.ts","../src/view/CommonPresentationMediator.ts","../src/view/ContentPresentationMediator.ts","../src/ad/AdBreakSchedule.ts","../src/ad/DaiStreamManager.ts","../src/ad/gam_static_params.ts","../src/ad/AdParamAssembler.ts","../src/ad/DaiStreamRequestAssembler.ts","../src/model/AdDataProxy.ts","../src/view/DaiPresentationMediator.ts","../src/enum/Env.ts","../src/ad/ImaAdCallAssembler.ts","../src/ad/ImaAdPlayer.ts","../src/view/ImaPresentationMediator.ts","../src/controller/PrepPlaybackCommand.ts","../src/model/ResourceProxy.ts","../src/controller/command-helpers/ResourceValidator.ts","../src/controller/PrepResourceCommand.ts","../src/controller/PresentationStateChangeCommand.ts","../src/controller/ReadyCommand.ts","../src/controller/ResumePlaybackCommand.ts","../src/controller/command-helpers/CmsDataRetriever.ts","../src/controller/RetrieveResourceCommand.ts","../src/controller/StartPresentationCommand.ts","../src/controller/SuspendPlaybackCommand.ts","../src/controller/TransformResourceCommand.ts","../src/controller/UserKeyboardCommand.ts","../src/app/command_map.ts","../src/app/VideoPlayer.ts","../src/app/Shell.ts","../src/enum/LocalizedLanguage.ts","../src/cvp.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * Code refactored from Mozilla Developer Network:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n\n'use strict';\n\nfunction assign(target, firstSource) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nfunction polyfill() {\n  if (!Object.assign) {\n    Object.defineProperty(Object, 'assign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: assign\n    });\n  }\n}\n\nmodule.exports = {\n  assign: assign,\n  polyfill: polyfill\n};\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.8+1e68dce6\n */\n","export function objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nexport function isFunction(x) {\n  return typeof x === 'function';\n}\n\nexport function isMaybeThenable(x) {\n  return x !== null && typeof x === 'object';\n}\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nexport var isArray = _isArray;","var len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nexport var asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nexport function setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nexport function setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var vertx = Function('return this')().require('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}","import { invokeCallback, subscribe, FULFILLED, REJECTED, noop, makePromise, PROMISE_ID } from './-internal';\n\nimport { asap } from './asap';\n\nexport default function then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}","import { noop, resolve as _resolve } from '../-internal';\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nexport default function resolve(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  _resolve(promise, object);\n  return promise;\n}","import { objectOrFunction, isFunction } from './utils';\n\nimport { asap } from './asap';\n\nimport originalThen from './then';\nimport originalResolve from './promise/resolve';\n\nexport var PROMISE_ID = Math.random().toString(36).substring(2);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then) {\n  if (maybeThenable.constructor === promise.constructor && then === originalThen && maybeThenable.constructor.resolve === originalResolve) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then)) {\n      handleForeignThenable(promise, maybeThenable, then);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    var then = void 0;\n    try {\n      then = value.then;\n    } catch (error) {\n      reject(promise, error);\n      return;\n    }\n    handleMaybeThenable(promise, value, then);\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = true;\n\n  if (hasCallback) {\n    try {\n      value = callback(detail);\n    } catch (e) {\n      succeeded = false;\n      error = e;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (succeeded === false) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nexport { nextId, makePromise, noop, resolve, reject, fulfill, subscribe, publish, publishRejection, initializePromise, invokeCallback, FULFILLED, REJECTED, PENDING, handleMaybeThenable };","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { isArray, isMaybeThenable } from './utils';\nimport { noop, reject, fulfill, subscribe, FULFILLED, REJECTED, PENDING, handleMaybeThenable } from './-internal';\n\nimport then from './then';\nimport Promise from './promise';\nimport originalResolve from './promise/resolve';\nimport originalThen from './then';\nimport { makePromise, PROMISE_ID } from './-internal';\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n};\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve = c.resolve;\n\n\n    if (resolve === originalResolve) {\n      var _then = void 0;\n      var error = void 0;\n      var didError = false;\n      try {\n        _then = entry.then;\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n\n      if (_then === originalThen && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise) {\n        var promise = new c(noop);\n        if (didError) {\n          reject(promise, error);\n        } else {\n          handleMaybeThenable(promise, entry, _then);\n        }\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve) {\n          return resolve(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\nexport default Enumerator;\n;","import Enumerator from '../enumerator';\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nexport default function all(entries) {\n  return new Enumerator(this, entries).promise;\n}","import { isArray } from \"../utils\";\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nexport default function race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}","import { noop, reject as _reject } from '../-internal';\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nexport default function reject(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  _reject(promise, reason);\n  return promise;\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { isFunction } from './utils';\nimport { noop, nextId, PROMISE_ID, initializePromise } from './-internal';\nimport { asap, setAsap, setScheduler } from './asap';\n\nimport all from './promise/all';\nimport race from './promise/race';\nimport Resolve from './promise/resolve';\nimport Reject from './promise/reject';\nimport then from './then';\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    if (isFunction(callback)) {\n      return promise.then(function (value) {\n        return constructor.resolve(callback()).then(function () {\n          return value;\n        });\n      }, function (reason) {\n        return constructor.resolve(callback()).then(function () {\n          throw reason;\n        });\n      });\n    }\n\n    return promise.then(callback, callback);\n  };\n\n  return Promise;\n}();\n\nPromise.prototype.then = then;\nexport default Promise;\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = Resolve;\nPromise.reject = Reject;\nPromise._setScheduler = setScheduler;\nPromise._setAsap = setAsap;\nPromise._asap = asap;","/*global self*/\nimport Promise from './promise';\n\nexport default function polyfill() {\n  var local = void 0;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n\n  var P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n      promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch (e) {\n      // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast) {\n      return;\n    }\n  }\n\n  local.Promise = Promise;\n}","import Promise from './es6-promise/promise';\nimport polyfill from './es6-promise/polyfill';\n\n// Strange compat..\nPromise.polyfill = polyfill;\nPromise.Promise = Promise;\nexport default Promise;","// This file can be required in Browserify and Node.js for automatic polyfill\n// To use it:  require('es6-promise/auto');\n'use strict';\nmodule.exports = require('./').polyfill();\n","export enum LogLevel {\n\n    /**Turn off all logging*/\n    OFF = 'off',\n\n    /**Only Errors will be logged */\n    ERROR = 'error',\n\n    /** Warn and all levels below will be logged */\n    WARN = 'warn',\n\n    /** Info and all levels below will be logged */\n    INFO = 'info',\n\n    /** Debug and all levels below will be logged*/\n    DEBUG = 'debug',\n}\n","export class BaseClass {\n\n    protected constructor() {}\n\n    get className(): string {\n        return (<any>this.constructor).name;\n    }\n}\n","import { EmitterInterface } from \"../iface/EmitterInterface\";\nimport { EventInterface } from \"../iface/EventInterface\";\nimport { StrAnyDict } from \"../iface/StrAnyDict\";\n\nexport class CoreEvent implements EventInterface {\n\n    timeStamp: number;\n    data: StrAnyDict;\n    target: EmitterInterface;\n    type: string;\n\n    /**\n     * Custom event class\n     */\n    constructor(type: string, target: EmitterInterface, data: StrAnyDict) {\n        this.timeStamp = Date.now();\n        this.data = data;\n        this.target = target;\n        this.type = type;\n    }\n}\n","class LinkedNode<T> {\n\tconstructor(public value: T, public next?: LinkedNode<T>) { }\n}\n\nexport class LinkedList<T> {\n\thead: LinkedNode<T> = null;\n\ttail: LinkedNode<T> = null;\n\n\tget empty(): boolean {\n\t\treturn this.head == null;\n\t}\n\n\tforEach(func: (item: T) => void) {\n\t\tlet node: LinkedNode<T> = this.head;\n\t\twhile (node) {\n\t\t\tfunc(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t}\n\n\tadd(value: T) {\n\t\tconst node = new LinkedNode<T>(value);\n\n\t\tif (this.head == null) {\n\t\t\tthis.head = node;\n\t\t}\n\t\telse if (this.tail == null) {\n\t\t\tthis.head.next = this.tail = node;\n\t\t}\n\t\telse {\n\t\t\tthis.tail.next = this.tail = node;\n\t\t}\n\t}\n\n\thas(value: T): boolean {\n\t\tlet node = this.head;\n\t\twhile (node) {\n\t\t\tif (node.value == value) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn false;\n\t}\n\n\tdelete(value: T): boolean {\n\t\tlet previous = null;\n\t\tlet node = this.head;\n\t\twhile (node) {\n\t\t\tif (node.value == value) {\n\t\t\t\tif (previous) {\n\t\t\t\t\tprevious.next = node.next;\n\t\t\t\t}\n\n\t\t\t\tif (node == this.head) {\n\t\t\t\t\tthis.head = node.next;\n\t\t\t\t}\n\t\t\t\telse if (node == this.tail) {\n\t\t\t\t\tthis.tail = previous;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tprevious = node;\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn false;\n\t}\n\n\tclear(): void {\n\t\tlet node = this.head;\n\t\tlet next;\n\t\twhile (node) {\n\t\t\tnext = node.next;\n\t\t\tnode.value = node.next = null;\n\t\t\tnode = next;\n\t\t}\n\t\tthis.head = this.tail = null;\n\t}\n}\n","\nexport enum MediaCapabilitiesMimeType {\n    MP4_VIDEO = 'video/mp4',\n    MP4_AUDIO = 'audio/mp4',\n    HLS = 'application/vnd.apple.mpegurl',\n    DASH = 'application/dash+xml',\n    WEBM_VIDEO = 'video/webm',\n    WEBM_AUDIO = 'audio/webm',\n    TS_VIDEO = 'video/mp2t',\n}\n\n","import { MediaCapabilitiesMimeType } from \"../util/enum/MediaCapabilitiesMimeType\";\n\nexport const MimeType: Record<string, string> = {\n    VTT: 'text/vtt',\n    XML: 'application/ttml+xml',\n    M3U8: MediaCapabilitiesMimeType.HLS,\n    MPD: MediaCapabilitiesMimeType.DASH,\n    TS: MediaCapabilitiesMimeType.TS_VIDEO,\n    MP4: MediaCapabilitiesMimeType.MP4_VIDEO,\n    MPV: MediaCapabilitiesMimeType.MP4_VIDEO,\n    MPA: MediaCapabilitiesMimeType.MP4_AUDIO,\n    WEBM: MediaCapabilitiesMimeType.WEBM_VIDEO,\n};\n","import { MimeType } from \"../enum/MimeType\";\nimport { ArrayLike } from \"../iface/ArrayLike\";\nimport { Entry } from \"../iface/Entry\";\nimport { LanguageTagInterface } from \"../iface/LanguageTagInterface\";\nimport { StrAnyDict } from \"../iface/StrAnyDict\";\n\n\nexport class Util {\n\n    protected constructor() { }\n\n    private static dre: RegExp = /([a-z\\d])([A-Z])/g;\n    private static cdr: RegExp = /\\W+/g;\n\n    static camelToDash(term: string) {\n        let d = \"-\";\n\n        return (term.replace(this.cdr, d).replace(this.dre, '$1-$2')).toLowerCase();\n    }\n\n    /**\n     * Returns an 8 character random string id\n     */\n    static uid8(): string {\n        let s4 = function () {\n            return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n        };\n\n        return s4() + s4();\n    }\n\n    static isEmpty(obj: any): boolean {\n        return obj === null || obj === undefined ||\n            (Array.isArray(obj) && obj.length === 0) ||\n            Util.isObject(obj) && Object.keys(obj).length === 0 ||\n            Util.isString(obj) && obj === '';\n    }\n\n    static isFunction(obj: any): boolean {\n        return typeof obj === 'function';\n    }\n\n    static isString(obj: any): boolean {\n        return typeof obj === 'string';\n    }\n\n    static isUndefined(obj: any): boolean {\n        return typeof obj === 'undefined';\n    }\n\n    static isNumber(obj: any): boolean {\n        return typeof obj === 'number';\n    }\n\n    static isBoolean(obj: any): boolean {\n        return typeof obj === 'boolean';\n    }\n\n    static isObject(obj: any): boolean {\n        return typeof obj === 'object';\n    }\n\n    /**\n     * Sidefill for ES6 `Array.prototype.includes` and `String.prototype.includes` functions. \n     * See https://tc39.es/ecma262/#sec-array.prototype.includes\n     *     https://tc39.es/ecma262/#sec-string.prototype.includes\n     */\n    static includes(search: Array<any> | string, item: any): boolean {\n        return search.indexOf(item) > -1;\n    }\n\n    /**\n     * Sidefill for ES6 `Object.assign` function. See https://tc39.es/ecma262/#sec-object.assign\n     */\n    static assign(tgt: StrAnyDict, ...args: StrAnyDict[]): StrAnyDict {\n        return Object.assign(tgt || {}, ...args);\n    }\n\n    /**\n     * Sidefill for ES6 `Object.entries` function. See https://tc39.es/ecma262/#sec-object.entries\n     */\n    static entries(obj: any): Entry[] {\n        return Object.keys(obj).reduce((a, k, i) => (a[i] = [k, obj[k]], a), []);\n    }\n\n    /**\n     * Sidefill for ES6 `Object.fromEntries` function. See https://tc39.es/ecma262/#sec-object.fromentries\n     */\n    static fromEntries(entries: Entry[]): StrAnyDict {\n        return entries.reduce((o, [k, v]) => (o[k] = v, o), {} as StrAnyDict);\n    }\n\n    /**\n     * Sidefill for ES6 `String.prototype.padStart` function. See https://tc39.es/ecma262/#sec-string.prototype.padstart\n     */\n    static padStart(str: string, targetLength: number, padString: string = ' '): string {\n        targetLength = targetLength | 0;\n        const len = str.length;\n\n        if (len > targetLength) {\n            return str;\n        }\n\n        targetLength = targetLength - len;\n        if (targetLength > padString.length) {\n            padString += this.repeat(padString, targetLength / padString.length); //append to original to ensure we are longer than needed\n        }\n        return padString.slice(0, targetLength) + str;\n    }\n\n    /**\n     * Sidefill for ES6 `String.prototype.repeat` function. See https://tc39.es/ecma262/#sec-string.prototype.repeat\n     */\n    static repeat(str: string, count: number = 0) {\n        count = count | 0;\n        let i = 0, result = \"\";\n        while (i++ < count) {\n            result += str;\n        }\n\n        return result;\n    }\n\n    /**\n     * Merge the properties of a list of object. Similar to Object.assign, with the following exceptions:\n     * - Performs a deep merge\n     * - `undefined` values will not override defined values.\n     */\n    static merge(...args: any[]): any {\n        const override = (base: any, overrides: any): any => {\n            if (base == null) {\n                return overrides;\n            }\n            else if (overrides == null) {\n                return base;\n            }\n\n            Object.getOwnPropertyNames(overrides).forEach(key => {\n                const value = overrides[key];\n                const baseValue = base[key];\n                const type = typeof value;\n\n                if (type === \"undefined\") {\n                    return;\n                }\n                else if (baseValue == null || !Util.isObject(baseValue) || Array.isArray(value)) {\n                    base[key] = value;\n                }\n                else if (type === \"object\") {\n                    base[key] = override(baseValue, value);\n                }\n            });\n\n            return base;\n        }\n\n        return args.reduce((acc, obj) => override(acc, obj), {});\n    }\n\n    /**\n     * Returns formatted time; e.g, 00:04:20;\n     * \n     * @param seconds   The number of seconds to display\n     * @param max       The maximum number of seconds. Dictates how many number groups to display.\n     */\n    static secToHms(seconds: number, max: number = 61): string {\n        // default\n        if (seconds == null || isNaN(seconds)) {\n            return \"00:00\";\n        }\n\n        // seconds. Use bitwise OR operator for fast number truncation\n        seconds = seconds | 0;\n        let time: string = this.zeroFill(seconds % 60);\n\n        // minutes\n        seconds = seconds / 60 | 0;\n        time = this.zeroFill(seconds % 60) + \":\" + time;\n\n        // hours\n        seconds = seconds / 60 | 0;\n        if (seconds > 0) {\n            time = this.zeroFill(seconds) + \":\" + time;\n        }\n\n        if (max >= 3600 && time.length === 5) {\n            time = \"00:\" + time;\n        }\n\n        return time;\n    }\n\n    static msToHms(ms: number): string {\n        return this.formatTime(new Date(ms), \"HH:mm:ss:sss\", { offset: 0 });\n    }\n\n    static zeroFill(time: number, len: number = 2): string {\n        return this.padStart(String(time), len, \"0\");\n    }\n\n    /**\n     * Converts timecode to seconds.\n     *\n     * @param   timeCode   A SMTP formatted string.\n     * @param   framerate  The frame rate. Used to calculate milliseconds.\n     * @return             The number of seconds represented by the time code\n     */\n    static hmsToSec(timeCode: string, framerate = 30) {\n        if (!timeCode) {\n            return NaN;\n        }\n        const pieces = timeCode.split(\":\");\n        let ms = 0;\n        if (pieces.length === 4) {\n            ms = parseInt(pieces.pop()) / framerate;\n        }\n        else if (pieces.length === 3) {\n            // sometimes ms separator is a comma\n            pieces[2] = pieces[2].replace(\",\", \".\");\n            if (pieces[2].indexOf(\".\") !== -1) {\n                let parts = pieces[2].split(\".\");\n                if ((parts != null ? parts.length : void 0) > 1) {\n                    pieces[2] = parts[0];\n                    ms = parseInt(parts[1]) / 1000;\n                }\n            }\n        }\n        let time = parseInt(pieces.pop());\n        while (pieces.length > 0) {\n            time += Math.pow(60, pieces.length) * parseInt(pieces.shift());\n        }\n        return time + ms;\n    }\n\n    /**\n     * Converts a date into a time string based on a ISO 8601 formatted time string.\n     */\n    static formatTime(date: Date, format = \"h:mm:ss A\", tz: { timezone?: string, offset: number } = { timezone: \"\", offset: -((new Date()).getTimezoneOffset() / 60) }): string {\n        if ((tz.offset != null) && tz.offset !== 0) {\n            date = new Date(date.getTime() + Math.round(tz.offset * 60 * 60 * 1000));\n        }\n        if (isNaN(date.getTime())) {\n            return \"\";\n        }\n        const hours = date.getUTCHours();\n        const minutes = date.getUTCMinutes();\n        const seconds = date.getUTCSeconds();\n        const milliseconds = date.getUTCMilliseconds();\n        const twelve = hours % 12 || 12;\n        const a = hours < 12 ? \"am\" : \"pm\";\n        const replace = {\n            hh: this.zeroFill(twelve),\n            h: twelve,\n            HH: this.zeroFill(hours),\n            H: hours,\n            mm: this.zeroFill(minutes),\n            m: minutes,\n            sss: this.zeroFill(milliseconds, 3),\n            ss: this.zeroFill(seconds),\n            s: seconds,\n            a: a,\n            A: a.toUpperCase(),\n            z: tz.timezone\n        } as StrAnyDict;\n        for (let key in replace) {\n            format = format.replace(key, replace[key]);\n        }\n        return format;\n    }\n\n    /**\n     * Sidefill for ES6 `Array.prototype.findIndex` function. See https://tc39.es/ecma262/#sec-array.prototype.findindex\n     */\n    static findIndex<T>(arr: ArrayLike<T>, predicate: (item: T, index?: number, arr?: ArrayLike<T>) => boolean): number {\n        if (!Util.isFunction(predicate)) {\n            throw new TypeError('predicate must be a function');\n        }\n\n        const len = arr.length >>> 0;\n        let i = 0;\n\n        while (i < len) {\n            if (predicate(arr[i], i, arr)) {\n                return i;\n            }\n            i++;\n        }\n\n        return -1;\n    }\n\n    /**\n     * Sidefill for ES6 `Array.prototype.find` function. See https://tc39.es/ecma262/#sec-array.prototype.find\n     */\n    static find<T>(arr: ArrayLike<T>, predicate: (item: T, index?: number, arr?: ArrayLike<T>) => boolean): T {\n        if (!Util.isFunction(predicate)) {\n            throw new TypeError('predicate must be a function');\n        }\n\n        const index = this.findIndex(arr, predicate);\n        return (index > -1) ? arr[index] : undefined;\n    }\n\n    static template(input: string, context: any, open = \"{{\", close = \"}}\"): string {\n        if (!input) {\n            return input;\n        }\n        const regex: RegExp = new RegExp(`${open}((?:(?!(${open}|${close})).)+)${close}`, \"g\");\n        return input.replace(regex, (match, token) => (!Util.isUndefined(context[token])) ? context[token] : match);\n    }\n\n    static toArray<T>(arr: ArrayLike<T>): Array<T> {\n        return Array.prototype.slice.call(arr);\n    }\n\n    static forEach<T>(list: ArrayLike<T>, func: (item: T, index: number, array: ArrayLike<T>) => any): void {\n        if (!list || !list.length || !Util.isFunction(func)) {\n            return;\n        }\n\n        for (let i = 0, len = list.length; i < len; i++) {\n            func(list[i], i, list);\n        }\n    }\n\n    static debounce(func: Function, delay: number): () => void {\n        let timeout: number;\n        return function () {\n            clearTimeout(timeout);\n            timeout = setTimeout(func, delay);\n        };\n    }\n\n    static clampValue(value: number, min: number, max: number): number {\n        return Math.max(min, Math.min(max, value));\n    }\n\n    static inRange(value: number, lower: number, upper: number): boolean {\n        return Util.isNumber(value) && value >= lower && value <= upper;\n    }\n\n    static mapToRange(value: number, fromMin: number, fromMax: number, toMin: number = 0, toMax: number = 1): number {\n        return (value - fromMin) * (toMax - toMin) / (fromMax - fromMin) + toMin;\n    }\n\n    static base64DecodeUint8Array(input: string): Uint8Array {\n        const raw = atob(input);\n        const rawLength = raw.length;\n        const array = new Uint8Array(new ArrayBuffer(rawLength));\n\n        for (let i = 0; i < rawLength; i++) {\n            array[i] = raw.charCodeAt(i);\n        }\n\n        return array;\n    }\n\n    static base64EncodeUint8Array(input: Uint8Array) {\n        const str = String.fromCharCode.apply(null, input);\n        return btoa(str);\n    }\n\n    static xmlToJson(xml: StrAnyDict): StrAnyDict {\n        var obj: any = {};\n\n        // Node types:\n        //   1: ELEMENT_NODE\n        //   3: TEXT_NODE\n\n        // Elements and attributes.\n        if (xml.nodeType === 1 && xml.attributes.length > 0) {\n            for (var j = 0, k = xml.attributes.length; j < k; j++) {\n                var attribute = xml.attributes.item(j);\n\n                //@ts-ignore\n                obj[attribute.nodeName] = attribute.nodeValue;\n            }\n        }\n        // #text elements.\n        else if (xml.nodeType === 3) {\n            obj = xml.nodeValue;\n        }\n\n        // Special caption <p> elements.\n        if (xml.nodeName === 'p') {\n            obj.text = '';\n\n            xml.childNodes.forEach((node: any) => {\n\n                //Skip <metadata> tags.\n                if (node.nodeName === 'metadata') {\n                    return;\n                }\n\n                const text = (new XMLSerializer()).serializeToString(node);\n\n                // Element nodes.\n                if (node.nodeType === 1) {\n                    // Line breaks get ignored by the VTTCue object, so we\n                    // convert them here to newline characters.\n                    obj.text += node.tagName === 'br' ? '\\n' : text;\n                }\n\n                // Text nodes.\n                if (node.nodeType === 3) {\n                    obj.text += text;\n                }\n\n            });\n        }\n\n        // Child nodes.\n        if (xml.hasChildNodes()) {\n            for (var i = 0, h = xml.childNodes.length; i < h; i++) {\n                var item = xml.childNodes.item(i),\n                    nodeName = item.nodeName;\n\n                if (Util.isUndefined(obj[nodeName])) {\n                    obj[nodeName] = this.xmlToJson(item);\n                    continue;\n                }\n\n                // If more than one child, create an array\n                if (Util.isUndefined(obj[nodeName].push)) {\n                    var old = obj[nodeName];\n                    obj[nodeName] = [];\n                    obj[nodeName].push(old);\n                }\n\n                obj[nodeName].push(this.xmlToJson(item));\n            }\n        }\n\n        return obj;\n    }\n\n    static getNumLines(text: string): number {\n        return text && ((text.match(/\\n/g) || []).length + 1);\n    }\n\n    static roundTo(num: number, len: number) {\n        return Math.round(num * Math.pow(10, len)) / Math.pow(10, len);\n    }\n\n    /**\n     * Utility method that constructs the url by prepending the protocol based \n     * on the ssl boolean and the location. Ex: \"https://www.cbssports.com/live\"\n     * \n     * @param ssl \n     * @param location \n     * @returns string the url\n     */\n    static makeUrl(ssl: boolean, location: string): string {\n        return (ssl ? 'https:' : 'http:') + '//' + location;\n    }\n\n    /**\n     * Parse a IETF BCP 47 language tag\n     */\n    static parseLanguageTag(tag: string = ''): LanguageTagInterface {\n        const regex = /^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;\n        const match = tag.match(regex) || [];\n        return {\n            tag: tag,\n            language: match[1] || '',\n            extended: match[2] || '',\n            script: match[3] || '',\n            region: match[4] || '',\n            toString(): string {\n                return this.tag;\n            }\n        } as LanguageTagInterface;\n    }\n\n    /**\n     * Extract file extension from URI.\n     */\n    static getFileExtension(uri: string): string {\n        return uri.replace(/\\?.*/, '').replace(/#.*/, '').split('.').pop();\n    }\n\n    /**\n     * Determine mime type from file extension.\n     */\n    static getMimeType(uri: string): string {\n        if (!uri) {\n            return '';\n        }\n\n        const ext = Util.getFileExtension(uri).toUpperCase();\n\n        return MimeType[ext];\n    }\n}\n","import { EmitterInterface } from \"../iface/EmitterInterface\";\nimport { EventHandler } from \"../iface/EventHandler\";\nimport { EventInterface } from \"../iface/EventInterface\";\nimport { StrAnyDict } from \"../iface/StrAnyDict\";\nimport { BaseClass } from './BaseClass';\nimport { CoreEvent } from './CoreEvent';\nimport { LinkedList } from './LinkedList';\nimport { Util } from \"./Util\";\n\n\nexport class Emitter extends BaseClass implements EmitterInterface {\n\n    protected opts: StrAnyDict;\n\n    protected eventMap: Record<string, LinkedList<EventHandler>>;\n\n    /**\n     * An event emitter, with methods to add and remove event listeners.\n     * Base class for any class using event-based communication.\n     */\n    constructor(options?: StrAnyDict) {\n        super();\n        this.opts = options || {};\n        this.eventMap = {};\n\n        let o = this.opts, e;\n\n        for (let q in o) {\n            if (Util.isFunction(o[q]) && /^on[A-Z]/.test(q)) {\n                e = q.charAt(2).toLowerCase() + q.substring(3);\n                this.on(e, o[q]);\n                delete this.opts[q];\n            }\n        }\n    }\n\n    destroy(): void {\n        let q;\n\n        if (this.opts) {\n            for (q in this.opts) {\n                delete this.opts[q];\n            }\n            this.opts = null;\n        }\n\n        this.offAll(null);\n\n        if (this.eventMap) {\n            for (q in this.eventMap) {\n                delete this.eventMap[q];\n            }\n            this.eventMap = null;\n        }\n    }\n\n    /**\n     * Adds an event listener\n     */\n    on(name: string, func: EventHandler): void {\n        if (!this.eventMap || !name || !Util.isFunction(func)) {\n            return;\n        }\n\n        const handlers = this.eventMap[name] || (this.eventMap[name] = new LinkedList<EventHandler>());\n\n        if (handlers.has(func)) {\n            return;\n        }\n\n        handlers.add(func);\n    }\n\n    /**\n     * Adds a one time event listener\n     */\n    once(name: string, func: EventHandler): void {\n        if (!this.eventMap || !name || !Util.isFunction(func)) {\n            return;\n        }\n\n        const handler = (event: EventInterface) => {\n            this.off(name, handler);\n            func(event);\n        };\n\n        this.on(name, handler);\n    }\n\n    /**\n     * Removes the supplied EventHandler, or, if omitted, will remove all\n     * handlers for the supplied (required) event name\n     */\n    off(name: string, func?: EventHandler): void {\n        !func && this.offAll(name);\n        func && this.remove(name, func);\n    }\n\n    /**\n     * Removes all event handlers for the supplied (required) event name\n     */\n    offAll(name?: string): void {\n        if (!this.eventMap) {\n            return;\n        }\n        let map = this.eventMap, q;\n\n        if (name) {\n            this.remove(name, null);\n\n            return;\n        }\n\n        for (q in map) {\n            this.remove(q, null);\n        }\n    }\n\n    hasListenerFor(name: string): boolean {\n        return !!(this.eventMap && this.eventMap[name] && !this.eventMap[name].empty);\n    }\n\n    emit(name: string, data: StrAnyDict = null): void {\n        let e = new CoreEvent(name, this, data);\n        this.dispatchEvt(e);\n    }\n\n    protected dispatchEvt(e: EventInterface) {\n        if (!this.eventMap || !this.eventMap[e.type]) {\n            return;\n        }\n        this.eventMap[e.type].forEach(h => h(e));\n    }\n\n    private remove(name: string, func: EventHandler = null): void {\n        if (!this.eventMap || !this.eventMap[name]) {\n            return;\n        }\n\n        if (!func) {\n            this.eventMap[name].clear();\n        }\n        else {\n            this.eventMap[name].delete(func);\n        }\n    }\n}\n","import { LogLevel } from '../enum/LogLevel';\nimport { LogEventInterface } from '../iface/LogEventInterface';\nimport { LoggerInterface } from \"../iface/LoggerInterface\";\nimport { LoggerOptions } from \"../iface/LoggerOptions\";\nimport { StrAnyDict } from \"../iface/StrAnyDict\";\nimport { Emitter } from './Emitter';\nimport { Util } from './Util';\n\n\nconst Levels = {\n    [LogLevel.OFF]: 0,\n    [LogLevel.ERROR]: 100,\n    [LogLevel.WARN]: 200,\n    [LogLevel.INFO]: 300,\n    [LogLevel.DEBUG]: 400,\n}\n\nexport class Logger extends Emitter implements LoggerInterface {\n\n    static LOG_EVENT: string = 'logEvent';\n\n    static error(e: any): void {\n        console && console.error(e);\n    }\n\n    static warn(m: any): void {\n        console && console.warn(m);\n    }\n\n    static log(m: any): void {\n        console && console.log(m);\n    }\n\n    protected opts: LoggerOptions;\n    protected tzero: number;\n\n    private useConsole: boolean = false;\n    private pLogLevel: LogLevel;\n    private readonly id: string;\n\n    constructor(opts: LoggerOptions) {\n        super(opts);\n\n        this.useConsole = Util.isObject(console);\n        this.id = opts.id || Util.uid8();\n        this.tzero = Date.now();\n        this.logLevel = Util.isEmpty(this.opts.logLevel) ? LogLevel.OFF : this.opts.logLevel;\n    }\n\n    get logLevel(): LogLevel {\n        return this.pLogLevel;\n    }\n\n    set logLevel(level: LogLevel) {\n        this.pLogLevel = level;\n    }\n\n    assert(expression: boolean | any, label?: string): void {\n        if (!expression) {\n            this.error(`Assertion failed! - \"${label || ''}\"`);\n        }\n    }\n\n    log(logLevel: LogLevel, ...items: any[]): void {\n        for (let i = 0, n = items.length; i < n; i++) {\n            this.emit(Logger.LOG_EVENT, this.assembleEvent(items[i], logLevel));\n        }\n\n        if (!this.shouldLog(logLevel)) { return; }\n\n        items.unshift(this.getStamp());\n        console.log.apply(console, items);\n    }\n\n    dir(logLevel: LogLevel, obj: StrAnyDict, label: string): void {\n        const lbl = label || 'Unnamed Object';\n        this.emit(Logger.LOG_EVENT, this.assembleEvent(obj, logLevel, lbl));\n\n        if (!this.shouldLog(logLevel)) { return; }\n\n        console.log(this.getStamp() + ` Object: ${lbl}`);\n        console.dir(obj);\n    }\n\n    error(msg: string): void {\n        this.emit(Logger.LOG_EVENT, this.assembleEvent(msg, LogLevel.ERROR));\n\n        if (!this.shouldLog(LogLevel.ERROR)) { return; }\n\n        console.error(this.getStamp() + msg);\n    }\n\n    warn(msg: string): void {\n        this.emit(Logger.LOG_EVENT, this.assembleEvent(msg, LogLevel.WARN));\n\n        if (!this.shouldLog(LogLevel.WARN)) { return; }\n\n        console.warn(this.getStamp() + msg);\n    }\n\n    private assembleEvent(item: any, level: LogLevel, label: string = null): LogEventInterface {\n        return {\n            item: item,\n            id: this.id,\n            level: level,\n            label: label\n        }\n    }\n\n    private shouldLog(level: LogLevel) {\n        return this.useConsole && Levels[this.pLogLevel] >= Levels[level];\n    }\n\n    private getStamp() {\n        return `[${this.id + ']  ' + Util.msToHms(Date.now() - this.tzero)} > `;\n    }\n}\n","export enum ServiceName {\n    ImaAd = 'ImaAd',\n    DaiAd = \"DaiAd\",\n    System = 'System',\n    MediaCapabilities = 'MediaCapabilities',\n    Logging = 'Logging',\n    Tracking = 'Tracking',\n    BuildInfo = 'BuildInfo',\n    TrackingService = 'TrackingService',\n    AutoplayCapabilities = 'AutoplayCapabilities'\n}\n\n","\nexport class MvcMessages {\n\n    protected constructor() {}\n\n    static ERROR_NO_KEY: 'A unique key must be supplied for each Facade constructed.';\n\n    static ERROR_KEY_EXISTS: 'A $ACTOR_NAME$ instance for this key already exists.';\n\n}\n","/* Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port by Video Technology Group, CBSi Inc. */\n\nimport {\n    ServiceContainerInterface,\n    ServiceContainerMap,\n    ServiceInterface,\n    ServiceMap\n} from \"../iface\";\n\nimport {MvcMessages} from \"../mvc/MvcMessages\";\nimport { Logger } from \"../core/Logger\";\n\nexport class ServiceContainer implements ServiceContainerInterface {\n\n    protected static serviceContainerMap: ServiceContainerMap = {};\n\n    private serviceMap: ServiceMap;\n    private readonly multiCoreKey: string;\n\n    constructor(key: string) {\n        if(ServiceContainer.serviceContainerMap[key]) {\n            Logger.error(MvcMessages.ERROR_KEY_EXISTS.replace('$ACTOR_NAME$', 'ServiceContainer'));\n            return;\n        }\n\n        this.multiCoreKey = key;\n        this.serviceMap = {};\n    }\n\n    static getInstance (key: string): ServiceContainerInterface {\n        if (!key) return null;\n\n        if(this.serviceContainerMap[key] == null) {\n            this.serviceContainerMap[key] = new ServiceContainer(key);\n        }\n\n        return this.serviceContainerMap[key];\n    }\n\n    static removeServiceContainer(key: string): void {\n        this.serviceContainerMap[key] && this.serviceContainerMap[key].destroy();\n        delete this.serviceContainerMap[key];\n    }\n\n    destroy(): void {\n        for (let q in this.serviceMap) {\n            this.removeService(q);\n        }\n        this.serviceMap = null;\n    }\n\n    registerService(service: ServiceInterface): void  {\n        this.serviceMap[service.name] = service;\n        service.onRegister(this.multiCoreKey);\n    }\n\n    retrieveService(serviceName: string): ServiceInterface {\n        return this.serviceMap[serviceName] || null;\n    }\n\n    hasService(serviceName: string): boolean {\n        return this.serviceMap[serviceName] != null;\n    }\n\n    removeService(serviceName: string): void {\n        if (this.serviceMap[serviceName]) {\n            this.serviceMap[serviceName].destroy();\n        }\n        delete this.serviceMap[serviceName];\n    }\n\n}\n","/* Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port by Video Technology Group, CBSi Inc. */\n\nimport {NotificationHandler, NotificationInterface, ObserverInterface} from \"../iface\";\n\nexport class Observer implements ObserverInterface {\n\n    private notify: NotificationHandler;\n    private context: any;\n\n    constructor (notifyMethod: NotificationHandler, notifyContext: any) {\n        this.setNotifyMethod(notifyMethod);\n        this.setNotifyContext(notifyContext);\n    }\n\n    destroy(): void {\n        this.context = null;\n        this.notify = null;\n    }\n\n    setNotifyMethod(notifyMethod: NotificationHandler): void {\n        this.notify = notifyMethod;\n    }\n\n    setNotifyContext(notifyContext: any): void {\n        this.context = notifyContext;\n    }\n\n    getNotifyMethod(): NotificationHandler {\n        return this.notify;\n    }\n\n    getNotifyContext(): any {\n        return this.context;\n    }\n\n    notifyObserver(notification: NotificationInterface): void {\n        this.getNotifyMethod().call(this.getNotifyContext(), notification);\n    }\n\n    /**\n     * Compare an object to this instance's notification context.\n     */\n    compareNotifyContext(object: any): boolean {\n        return object === this.context;\n    }\n}\n","/* Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port by Video Technology Group, CBSi Inc. */\n\nimport {MvcMessages} from \"./MvcMessages\";\nimport {Observer} from \"./Observer\";\nimport {\n    MediatorInterface,\n    MediatorMap,\n    NotificationInterface,\n    ObserverInterface,\n    ObserverMap,\n    ViewInterface,\n    ViewMap\n} from \"../iface\";\nimport { Logger } from \"../core/Logger\";\n\n\nexport class View implements ViewInterface {\n\n    protected static viewMap: ViewMap = {};\n\n    private mediatorMap: MediatorMap;\n    private observerMap: ObserverMap;\n    private readonly multiCoreKey: string;\n\n\n    constructor(key: string) {\n        if(View.viewMap[key] != null) {\n            Logger.error(MvcMessages.ERROR_KEY_EXISTS.replace('$ACTOR_NAME$', 'View'));\n            return;\n        }\n\n        this.multiCoreKey = key;\n        this.mediatorMap = {};\n        this.observerMap = {};\n\n        View.viewMap[this.multiCoreKey] = this;\n\n        this.initializeView();\n    }\n\n    static getInstance(key: string): ViewInterface {\n        if (!key) return null;\n\n        if (!this.viewMap[key]) {\n            this.viewMap[key] = new View(key);\n        }\n\n        return this.viewMap[key];\n    }\n\n    static removeView(key: string): void {\n        this.viewMap[key] && this.viewMap[key].destroy();\n        delete this.viewMap[key];\n    }\n\n    destroy(): void {\n        for (let q in this.mediatorMap) {\n            this.removeMediator(this.mediatorMap[q].name);\n        }\n\n        this.mediatorMap = null;\n        this.observerMap = null;\n    }\n\n    registerObserver(notificationName: string, observer: ObserverInterface): void {\n        if(this.observerMap[notificationName] != null) {\n            this.observerMap[notificationName].push(observer);\n        }\n        else {\n            this.observerMap[notificationName] = [observer];\n        }\n    }\n\n    notifyObservers(notification: NotificationInterface): void {\n        let i, n;\n\n        if (this.observerMap[notification.name] != null) {\n            let observers_ref = this.observerMap[notification.name],\n                observers = [], observer;\n\n            for(i = 0, n = observers_ref.length; i < n; i++) {\n                observer = observers_ref[i];\n                observers.push(observer);\n            }\n\n            for(i = 0, n = observers.length; i < n; i++) {\n                observer = observers[i];\n                observer.notifyObserver(notification);\n            }\n        }\n    }\n\n    removeObserver(notificationName: string, notifyContext: any) {\n        if (!this.observerMap) {\n            return;\n        }\n        let observers = this.observerMap[notificationName],\n            i = observers.length;\n\n        while(i--) {\n            if(observers[i].compareNotifyContext(notifyContext) === true) {\n                observers.splice(i, 1);\n                break;\n            }\n        }\n\n        if(observers.length == 0) {\n            delete this.observerMap[notificationName];\n        }\n    }\n    \n    registerMediator(mediator: MediatorInterface): void {\n        let name = mediator.name,\n            interests, i, n, obs;\n\n        if(this.mediatorMap[name]) return;\n\n        mediator.initializeNotifier(this.multiCoreKey);\n        this.mediatorMap[name] = mediator;\n        interests = mediator.listNotificationInterests();\n\n        if(interests.length > 0) {\n            obs = new Observer(mediator.handleNotification, mediator);\n\n            for (i = 0, n = interests.length; i < n; i++) {\n                this.registerObserver(interests[i], obs);\n            }\n        }\n\n        mediator.onRegister();\n    }\n\n    retrieveMediator(mediatorName: string): MediatorInterface  {\n        return this.mediatorMap[mediatorName];\n    }\n\n    removeMediator(mediatorName: string): void {\n        let mediator = this.mediatorMap[mediatorName],\n            interests, i;\n\n        if(mediator) {\n            interests = mediator.listNotificationInterests();\n            i = interests.length;\n\n            // remove observers\n            while(i--) {\n                this.removeObserver(interests[i], mediator);\n            }\n\n            delete this.mediatorMap[mediatorName];\n            mediator.onRemove();\n        }\n    }\n\n    hasMediator(mediatorName: string): boolean {\n        return this.mediatorMap[mediatorName] != null;\n    }\n\n    initializeView(): void {\n        /* implementation optional*/\n    }\n}\n\n","/* Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port by Video Technology Group, CBSi Inc. */\n\nimport {MvcMessages} from \"./MvcMessages\";\nimport {View} from \"./View\";\nimport {Observer} from \"./Observer\";\nimport {\n    CommandInterface,\n    CommandMap,\n    ControllerInterface,\n    ControllerMap,\n    NotificationInterface,\n    ViewInterface\n} from \"../iface\";\nimport { Logger } from \"../core/Logger\";\n\nexport class Controller implements ControllerInterface {\n\n    private static controllerMap: ControllerMap = {};\n\n    private readonly multiCoreKey: string;\n    private commandMap: CommandMap;\n    private view: ViewInterface;\n\n    constructor(key: string) {\n        if (Controller.controllerMap[key]) {\n            Logger.error(MvcMessages.ERROR_KEY_EXISTS.replace('$ACTOR_NAME$', 'Controller'));\n            return;\n        }\n\n        this.multiCoreKey = key;\n        Controller.controllerMap[this.multiCoreKey] = this;\n\n        this.commandMap = {};\n        this.view = null;\n        this.initializeController();\n    }\n\n    static getInstance(key: string): ControllerInterface  {\n        if (!key) return null;\n\n        if (!this.controllerMap[key]) {\n            this.controllerMap[key] = new Controller(key);\n        }\n\n        return this.controllerMap[key];\n    }\n\n    static removeController(key: string): void {\n        this.controllerMap[key] && this.controllerMap[key].destroy();\n        delete this.controllerMap[key];\n    }\n\n    destroy(): void {\n        for (let q in this.commandMap) {\n            this.removeCommand(q);\n        }\n\n        this.commandMap = null;\n        this.view = null;\n    }\n\n    initializeController(): void {\n        this.view = View.getInstance(this.multiCoreKey);\n    }\n\n    executeCommand(notification: NotificationInterface): void {\n        let commandClassRef = this.commandMap[notification.name];\n\n        if (!commandClassRef) return;\n\n        let commandInstance: CommandInterface = new (<any>commandClassRef)();\n\n        commandInstance.initializeNotifier(this.multiCoreKey);\n        commandInstance.execute(notification);\n    }\n\n    registerCommand(notificationName: string, commandClassRef: any) {\n        if(!this.commandMap[notificationName]) {\n            this.view.registerObserver(notificationName, new Observer(this.executeCommand, this));\n        }\n\n        this.commandMap[notificationName] = commandClassRef;\n    }\n\n\n    hasCommand(notificationName: string): boolean {\n        return !!this.commandMap[notificationName];\n    }\n\n    removeCommand(notificationName: string): void {\n        if(this.hasCommand(notificationName)) {\n            this.view.removeObserver(notificationName, this);\n            this.commandMap[notificationName]= null;\n        }\n    }\n}\n","/* Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port by Video Technology Group, CBSi Inc. */\n\nimport {MvcMessages} from \"./MvcMessages\";\nimport {MvcModelInterface, ModelMap, ProxyInterface, ProxyMap} from \"../iface\";\nimport { Logger } from \"../core/Logger\";\n\nexport class Model implements MvcModelInterface {\n\n    protected static modelMap: ModelMap = {};\n\n    private proxyMap: ProxyMap = null;\n    private readonly multiCoreKey: string;\n\n    constructor(key: string) {\n        if(Model.modelMap[key]) {\n            Logger.error(MvcMessages.ERROR_KEY_EXISTS.replace('$ACTOR_NAME$', 'Model'));\n            return;\n        }\n\n        this.multiCoreKey = key;\n        Model.modelMap[key]= this;\n\n        this.proxyMap = {};\n        this.initializeModel();\n    }\n\n    static getInstance (key: string): MvcModelInterface {\n        if (!key) return null;\n\n        if(this.modelMap[key] == null) {\n            this.modelMap[key] = new Model(key);\n        }\n\n        return this.modelMap[key];\n    }\n\n    static removeModel(key: string): void {\n        this.modelMap[key] && this.modelMap[key].destroy();\n        delete this.modelMap[key];\n    }\n\n    destroy(): void {\n        for (let q in this.proxyMap) {\n            this.removeProxy(q);\n        }\n        this.proxyMap = null;\n    }\n\n    initializeModel(): void {\n        /* implementation optional */\n    }\n\n    registerProxy(proxy: ProxyInterface): void  {\n        this.proxyMap[proxy.name] = proxy;\n        proxy.initializeNotifier(this.multiCoreKey);\n        proxy.onRegister();\n    }\n\n    retrieveProxy(proxyName: string): ProxyInterface {\n        return this.proxyMap[proxyName] || null;\n    }\n\n    hasProxy(proxyName: string): boolean {\n        return this.proxyMap[proxyName] != null;\n    }\n\n    removeProxy(proxyName: string): void {\n        let proxy = this.proxyMap[proxyName];\n\n        if(proxy) {\n            proxy.onRemove();\n            this.proxyMap[proxyName] = null;\n        }\n    }\n\n}\n","/* Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port by Video Technology Group, CBSi Inc. */\n\nimport { NotificationInterface } from '../iface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\n\n\nexport class Notification implements NotificationInterface {\n\n    private readonly pName: string | null;\n    private readonly pBody: StrAnyDict | null;\n    private readonly pType: string | null;\n\n    constructor(name: string, body?: StrAnyDict, type?: string) {\n        this.pName = name;\n        this.pBody = body;\n        this.pType = type;\n    }\n\n    get name(): string | null {\n        return this.pName || null;\n    }\n\n    get body(): StrAnyDict | null {\n        return this.pBody || null;\n    }\n\n    get type(): string | null {\n        return this.pType || null;\n    }\n\n    toString(): string {\n        let bdy = `\\nBody: ${this.pBody == null ? 'null' : JSON.stringify(this.body)}`,\n            typ = `\\nType: ${this.pType == null ? 'null' : this.type}`;\n\n        return `Notification Name: ${this.name + bdy + typ}`;\n    }\n}\n","/* Based on Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port and service tier mod by Video Technology Group, CBSi Inc. */\n\nimport { ServiceName } from '../enum/ServiceName';\nimport {\n    ControllerInterface,\n    FacadeInterface,\n    FacadeMap, LogServiceInterface, MediatorInterface,\n    MvcModelInterface,\n    NotificationCommandMapInterface,\n    NotificationInterface,\n    ProxyInterface, ServiceCollection, ServiceContainerInterface, ServiceInterface,\n    ViewInterface\n} from '../iface';\nimport { LoggerInterface } from '../iface/LoggerInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { ServiceContainer } from '../service/ServiceContainer';\nimport { Controller } from './Controller';\nimport { Model } from './Model';\nimport { MvcMessages } from './MvcMessages';\nimport { Notification } from './Notification';\nimport { View } from './View';\nimport { Logger } from '../core/Logger';\n\n\nexport class Facade implements FacadeInterface {\n\n    protected static facadeMap: FacadeMap = {};\n\n    protected model: MvcModelInterface = null;\n    protected view: ViewInterface = null;\n    protected controller: ControllerInterface = null;\n    protected serviceContainer: ServiceContainerInterface = null;\n\n    protected multiCoreKey: string;\n    private initialized: boolean = false;\n\n    protected constructor(key: string, commandMap: NotificationCommandMapInterface) {\n        this.multiCoreKey = key;\n\n        this.initializeFacade();\n\n        this.registerCommands(commandMap);\n    }\n\n    static removeCore(key: string): void {\n        if (!this.facadeMap[key]) {\n            return;\n        }\n\n        Model.removeModel(key);\n        View.removeView(key);\n        Controller.removeController(key);\n        ServiceContainer.removeServiceContainer(key);\n\n        this.facadeMap[key].destroy();\n\n        delete this.facadeMap[key];\n    }\n\n    static hasCore(key: string): boolean {\n        return Facade.facadeMap[key] != null;\n    }\n\n    // used internally by mvc actors\n    static getInstance(key: string): FacadeInterface {\n        if (!key) {\n            Logger.error(MvcMessages.ERROR_NO_KEY);\n            return null;\n        }\n\n        return this.facadeMap[key];\n    }\n\n    static createFacade(key: string, commandMap: NotificationCommandMapInterface): FacadeInterface {\n        if (!key) {\n            Logger.error(MvcMessages.ERROR_NO_KEY);\n            return null;\n        }\n\n        if (!this.facadeMap[key]) {\n            this.facadeMap[key] = new Facade(key, commandMap);\n        }\n        else {\n            Logger.warn(`Not creating facade - key \"${key}\" already exists!`);\n        }\n\n        return this.facadeMap[key];\n    }\n\n    ///////////////////////////////////////////////\n    // Instance members\n\n    destroy(): void {\n        this.model = null;\n        this.view = null;\n        this.controller = null;\n        this.serviceContainer = null;\n    }\n\n    get key(): string {\n        return this.multiCoreKey;\n    }\n\n    // supplied as a semantic alternative to get key()\n    get appId(): string {\n        return this.multiCoreKey;\n    }\n\n    get logger(): LoggerInterface {\n        return (<LogServiceInterface>this.retrieveService(ServiceName.Logging)).logger;\n    }\n\n    log(...args: any[]): void {\n        this.logger.log.apply(this.logger, args);\n    }\n\n\n    // Controller: Commands\n    registerCommand(notificationName: string, commandClassRef: any): void {\n        this.controller.registerCommand(notificationName, commandClassRef);\n    }\n\n    removeCommand(notificationName: string): void {\n        this.controller.removeCommand(notificationName);\n    }\n\n    hasCommand(notificationName: string): boolean {\n        return this.controller.hasCommand(notificationName);\n    }\n\n    // Model: Proxies\n    registerProxy(proxy: ProxyInterface): void {\n        this.model.registerProxy(proxy);\n    }\n\n    retrieveProxy(proxyName: string): ProxyInterface {\n        return this.model ? this.model.retrieveProxy(proxyName) : null;\n    }\n\n    removeProxy(proxyName: string): void {\n        this.model && this.model.removeProxy(proxyName);\n    }\n\n    hasProxy(proxyName: string) {\n        return this.model.hasProxy(proxyName);\n    }\n\n    // View: Mediators\n    registerMediator(mediator: MediatorInterface): void {\n        this.view.registerMediator(mediator);\n    }\n\n    retrieveMediator(mediatorName: string): MediatorInterface {\n        return this.view ? this.view.retrieveMediator(mediatorName) : null;\n    }\n\n    removeMediator(mediatorName: string): void {\n        this.view && this.view.removeMediator(mediatorName);\n    }\n\n    hasMediator(mediatorName: string): boolean {\n        return this.view.hasMediator(mediatorName);\n    }\n\n    // ServiceContainer: Services\n    registerService(service: ServiceInterface): void {\n        this.serviceContainer.registerService(service);\n    }\n\n    retrieveService(serviceName: string): ServiceInterface {\n        return this.serviceContainer ? this.serviceContainer.retrieveService(serviceName) : null;\n    }\n\n    removeService(serviceName: string): void {\n        this.model && this.serviceContainer.removeService(serviceName);\n    }\n\n    hasService(serviceName: string) {\n        return this.serviceContainer.hasService(serviceName);\n    }\n\n    registerGlobalServices(svcCollection: ServiceCollection) {\n        for (let s in svcCollection) {\n            this.registerService(svcCollection[s]);\n        }\n    }\n\n    // send notification\n    /* eslint-disable*/\n    sendNotification(name: string, type: string): void;\n    sendNotification(name: string, body: StrAnyDict, type: string): void;\n\n    sendNotification(name: string, param1?: StrAnyDict | string, param2?: string): void {\n        let notification: Notification;\n\n        if (typeof param1 === 'string') {\n            notification = new Notification(name, {}, param1);\n        }\n\n        else {\n            notification = new Notification(name, param1, param2);\n        }\n\n        this.notifyObservers(notification);\n    }\n    /* eslint-enable*/\n\n    protected notifyObservers(notification: NotificationInterface): void {\n        this.view != null && this.view.notifyObservers(notification);\n    }\n\n    // command reg\n    protected registerCommands(map: NotificationCommandMapInterface) {\n        if (!map) {\n            return;\n        }\n\n        for (let q in map) {\n            !!map[q] && this.registerCommand(q, map[q]);\n        }\n    }\n\n    // init\n    protected initializeServiceContainer(): void {\n        this.serviceContainer = ServiceContainer.getInstance(this.multiCoreKey);\n    }\n\n    protected initializeController(): void {\n        this.controller = Controller.getInstance(this.multiCoreKey);\n    }\n\n    protected initializeModel(): void {\n        this.model = Model.getInstance(this.multiCoreKey);\n    }\n\n    protected initializeView(): void {\n        this.view = View.getInstance(this.multiCoreKey);\n    }\n\n    protected initializeFacade(): void {\n        if (this.initialized) {\n            Logger.error('Unexpected Condition: Facade already initialized');\n            return;\n        }\n        this.initializeModel();\n        this.initializeController();\n        this.initializeView();\n        this.initializeServiceContainer();\n\n        this.initialized = true;\n    }\n}\n","import { ServiceName } from '../enum/ServiceName';\nimport { LogServiceInterface, ServiceInterface } from '../iface';\nimport { LoggerInterface } from '../iface/LoggerInterface';\nimport { Facade } from '../mvc/Facade';\n\n\nexport class ServiceBase implements ServiceInterface {\n\n    private readonly pName: string;\n    private facadeKey: string;\n\n    constructor(name: string) {\n        this.pName = name;\n    }\n\n    get name(): string {\n        return this.pName;\n    }\n\n    destroy(): void {\n        // null op, provide in subclass if desired\n    }\n\n    onRegister(key: string): void {\n        this.facadeKey = key;\n    }\n\n    protected getLogger(): LoggerInterface {\n        const logSvc = <LogServiceInterface>this.getService(ServiceName.Logging);\n        return logSvc.logger;\n    }\n\n    protected getService(name: string): ServiceInterface {\n        return Facade.getInstance(this.facadeKey).retrieveService(name);\n    }\n}\n","import { BuildInfoServiceInterface } from \"../iface\";\nimport { BuildInfoInterface } from \"../iface/BuildInfoInterface\";\nimport { ServiceBase } from './ServiceBase';\n\n\nexport class BuildInfoService extends ServiceBase implements BuildInfoServiceInterface {\n\n    private readonly pBuildInfo: BuildInfoInterface;\n    private static instance: BuildInfoService;\n\n    constructor(name: string, buildInfo: BuildInfoInterface) {\n        super(name);\n        this.pBuildInfo = buildInfo;\n    }\n\n    static getInstance(name: string, info: BuildInfoInterface): BuildInfoService {\n        if (!this.instance) {\n            this.instance = new BuildInfoService(name, info);\n        }\n\n        return this.instance;\n    }\n\n    get env(): string {\n        return this.pBuildInfo.env;\n    }\n\n    get playerName(): string {\n        return this.pBuildInfo.playerName;\n    }\n\n    get playerVersion(): string {\n        return this.pBuildInfo.playerVersion;\n    }\n\n    get buildTime(): string {\n        return this.pBuildInfo.buildTime;\n    }\n\n    toObject() {\n        return {\n            env: this.pBuildInfo.env,\n            playerName: this.pBuildInfo.playerName,\n            playerVersion: this.pBuildInfo.playerVersion,\n            buildTime: this.pBuildInfo.buildTime\n        };\n    }\n}\n\n","import {ServiceBase} from \"./ServiceBase\";\nimport {\n    MediaCapabilitiesResultInterface,\n    MediaCapabilitiesServiceInterface\n} from \"../iface\";\nimport {MediaCapabilities} from \"../util/MediaCapabilities\";\n\nexport class MediaCapabilitiesService extends ServiceBase implements MediaCapabilitiesServiceInterface {\n\n    private mediaCaps: MediaCapabilities;\n    private static instance: MediaCapabilitiesService;\n\n    constructor(name: string, mediaCapabilities: MediaCapabilities) {\n        super(name);\n\n        this.mediaCaps = mediaCapabilities;\n    }\n\n    static getInstance(name: string, mcInstance: MediaCapabilities): MediaCapabilitiesService {\n        if (!this.instance) {\n            this.instance = new MediaCapabilitiesService(name, mcInstance);\n        }\n        \n        return this.instance;\n    }\n\n    get capabilities(): MediaCapabilitiesResultInterface {\n        return this.mediaCaps.capabilities;\n    }\n}\n","\nexport enum Device {\n    /** Unspecified Desktop */\n    DESKTOP = 'Desktop',\n\n    /** Android™ Phone */\n    ANDROID_PHONE = 'Android Phone',\n\n    /** Windows™ Phone */\n    WINDOWS_PHONE = 'Windows Phone',\n\n    /** Apple iPhone™ */\n    IPHONE = 'iPhone',\n\n    /** Apple iPod™ */\n    IPOD = 'iPod',\n\n    /** Apple iPad™ */\n    IPAD = 'iPad',\n\n    /** Amazon Kindle™ */\n    KINDLE = 'Kindle',\n\n    /** Unspecified Tablet */\n    TABLET = 'Tablet',\n\n    /** Unspecified Mobile */\n    MOBILE = 'Mobile',\n\n    /** Unspecified Embedded */\n    EMBEDDED = 'Embedded',\n\n    /** > Only Web0S 3.5 and above is supported */\n    LG_SMART_TV = 'LG Smart Tv',\n\n    /** Only Vizio Smartcast Devices */\n    VIZIO_SMART_TV = 'Vizio Smart Tv',\n\n    /** Samsung Tizen Devices */\n    SAMSUNG_SMART_TV = 'Samsung Smart Tv',\n\n    /** Comcast X1 Devices */\n    COMCAST_X1 = 'Comcast X1',\n\n    /** Xbox One X one S Devices */\n    XBOX_ONE = 'Xbox One',\n\n    /** Unspecified or unknown */\n    UNKNOWN = 'UNKNOWN'\n}\n","\nexport enum Os {\n    /** */\n    OSX = 'OS X',\n\n    /** */\n    WINDOWS = 'Windows',\n\n    /** */\n    WINDOWS7 = 'Windows 7',\n\n    /** */\n    WINDOWS8 = 'Windows 8',\n\n    /** */\n    WINDOWS10 = 'Windows 10',\n\n    /** */\n    WINDOWS_VISTA = 'Windows Vista',\n\n    /** */\n    WINDOWS_PHONE = 'Windows Phone',\n\n    /** */\n    IOS = 'iOS',\n\n    /** */\n    ANDROID = 'Android',\n\n    /** */\n    CHROMIUM = 'Chromium',\n\n    /** LG Smart Tv. Support for 3.5 and above only. */\n    WEBOS = 'Web0S',\n\n    /** Vizio SmartTV OS. */\n    SMARTCAST = 'SmartCast',\n\n    /** Samsung Tizen OS. */\n    TIZEN = 'Tizen',\n\n    /** */\n    UNKNOWN = 'Unknown'\n}\n","\nexport enum Browser {\n\n    /** */\n    ANDROID = 'Android',\n\n    /** */\n    CHROME = 'Chrome',\n\n    /** */\n    CHROME_IOS = \"Chrome-iOS\",\n\n    /** */\n    FIREFOX = 'Firefox',\n\n    /** */\n    FIREFOX_IOS = 'Firefox-iOS',\n\n    /** */\n    EDGE = 'Edge',\n\n    /** */\n    MSIE = 'MSIE',\n\n    /** */\n    SAFARI = 'Safari',\n\n    /** */\n    OPERA = 'Opera',\n\n    /** */\n    OPERA_MOBILE = 'Opera-Mobile',\n\n    /** */\n    SILK = 'Silk',\n\n    /** PlayStation 4 WebMaf*/\n    PLAYSTATION = 'PlayStation',\n\n    /** The browser is unknown */\n    UNKNOWN = 'Unknown'\n}\n","\nexport enum Platform {\n    /** */\n    MAC = 'Macintosh',\n\n    /** */\n    WINDOWS = 'Windows',\n\n    /** */\n    LINUX = 'Linux',\n\n    /** */\n    UNKNOWN = 'Unknown'\n}\n","import { Util } from '../core/Util';\nimport { Browser } from '../enum/Browser';\nimport { Device } from '../enum/Device';\nimport { Os } from '../enum/Os';\nimport { Platform } from '../enum/Platform';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { SystemInfoInterface } from '../iface/SystemInfoApiInterface';\n\n\nexport class System {\n    private static sysInfo: SystemInfoInterface = null;\n    private static pGlobal: any;\n\n    protected constructor() { }\n\n    static get info(): SystemInfoInterface {\n        return this.sysInfo;\n    }\n\n    static get global(): any {\n        return this.pGlobal;\n    }\n\n    static initialize() {\n        if (typeof (<any>window) !== \"object\") { // not a browser\n            System.pGlobal = null;\n            return;\n        }\n        System.pGlobal = <any>window;\n\n        let ua = navigator.userAgent,\n            platformInfo = this.getPlatform(ua),\n            browserInfo = this.getBrowser(ua, platformInfo);\n\n        this.sysInfo = <SystemInfoInterface>(Util.assign({}, browserInfo, platformInfo));\n\n        let osVer = this.sysInfo.osVersion,\n            osMajVer = osVer && Util.isString(osVer) ? parseInt(osVer.split('.')[0]) : NaN;\n\n        this.sysInfo.osMajorVersion = osMajVer;\n    }\n\n    private static getBrowser(ua: string, platformInfo: StrAnyDict): StrAnyDict {\n        /* eslint-disable */\n        let re: StrAnyDict = {\n            [Browser.CHROME]: /Chrome\\/(\\S+)/,\n            [Browser.CHROME_IOS]: /CriOS\\/(\\S+)/,\n            [Browser.FIREFOX_IOS]: /FxiOS\\/(\\S+)/,\n            [Browser.EDGE]: / Edge\\/([^\\s]+)/,\n            [Browser.FIREFOX]: /Firefox\\/(\\S+)/,\n            [Browser.OPERA]: /Opera|OPR\\/(\\S+)/,\n            [Browser.SAFARI]: /Version\\/(\\S+).*Safari/,\n            [Browser.MSIE]: /MSIE ([^\\s]+)[\\)\\;]\\ Windows/,\n            [Browser.ANDROID]: /Android/,\n            [Browser.SILK]: /Silk\\/(\\S+)/,\n            [Browser.PLAYSTATION]: /Playstation (\\S+)/,\n            [Browser.UNKNOWN]: null,\n        },\n            /* eslint-enable */\n            isChromeIos = re[Browser.CHROME_IOS].test(ua),\n            isChrome = (\n                (re[Browser.CHROME].test(ua) || isChromeIos) &&\n                !(re[Browser.OPERA].test(ua)) &&\n                !(/Edge/.test(ua))\n            ),\n            assembleInfo = (bName: Browser | string, re: RegExp | null, ua: string): StrAnyDict => {\n                let browser: any = re && re.exec(ua),\n                    out = {\n                        browser: bName,\n                        browserVersion: '0',\n                        browserMajorVersion: 0\n                    };\n\n                if (browser && browser.length && browser.length > 1) {\n                    out.browserVersion = browser[1] || '';\n\n                    if (out.browserVersion.indexOf('.')) {\n                        let ar = out.browserVersion.split('.');\n\n                        if (Array.isArray(ar) && ar.length) {\n                            let mv = parseInt(ar[0]);\n                            !isNaN(mv) && (out.browserMajorVersion = mv);\n                        }\n                    }\n                    else {\n                        let mv = parseInt(out.browserVersion);\n                        !isNaN(mv) && (out.browserMajorVersion = mv);\n                    }\n                }\n\n                return out;\n            };\n\n        // checked for Chrome first above - it has a majority\n        if (isChrome) {\n            let name = isChromeIos ? Browser.CHROME_IOS : Browser.CHROME;\n\n            return assembleInfo(name, re[name], ua);\n        }\n\n\n        let b = this.getMsBrowser(re[Browser.EDGE], re[Browser.MSIE], ua);\n        if (b.browser !== Browser.UNKNOWN) {\n            return assembleInfo(b.browser, b.re, ua);\n        }\n\n        // non-MS browsers\n        for (let q in re) {\n            switch (q) {\n                case Browser.FIREFOX: // fall thru\n                case Browser.FIREFOX_IOS: // fall thru\n                case Browser.SILK: // fall thru\n                case Browser.ANDROID: // fall thru\n                case Browser.PLAYSTATION:\n                    if (re[q].test(ua)) {\n                        if (q === Browser.SILK) {\n                            platformInfo.device = Device.KINDLE;\n                        }\n                        return assembleInfo(q, re[q], ua);\n                    }\n\n                    break;\n\n                case Browser.SAFARI:\n                    /*eslint-disable-next-line*/\n                    let b = this.getSafariBrowser(re[q], ua, platformInfo);\n                    if (b) {\n                        return assembleInfo(q, re[q], ua);\n                    }\n                    break;\n\n                case Browser.OPERA:\n                    /*eslint-disable-next-line*/\n                    let test = re[q].exec(ua);\n\n                    if (test) {\n                        let browser = (\n                            test.indexOf('Opera Mini/') >= 0 ||\n                            test.indexOf('Opera Mobi') >= 0\n                        ) ? Browser.OPERA_MOBILE : Browser.OPERA;\n\n                        return assembleInfo(browser, re[q], ua);\n                    }\n                    break;\n\n                case Browser.UNKNOWN:\n                    break;\n\n            }\n        }\n\n        return assembleInfo(Browser.UNKNOWN, re[Browser.UNKNOWN], ua);\n    }\n\n\n    private static getMsBrowser(reEdge: RegExp, reIe: RegExp, ua: string): StrAnyDict {\n        // Trident (IE rendering engine) checked last to distinguish IE and Edge\n        /* eslint-disable-next-line*/\n        let tri = /Trident.[^\\s]+;.*rv:([^\\s]+)[\\)\\;]/;\n\n        if (reIe.test(ua)) {\n            return { browser: Browser.MSIE, re: reIe };\n        }\n        else if (reEdge.test(ua)) {\n            return { browser: Browser.EDGE, re: reEdge };\n        }\n        else if (tri.test(ua)) {\n            return { browser: Browser.MSIE, re: tri };\n        }\n\n        return { browser: Browser.UNKNOWN, re: null };\n    }\n\n    private static getSafariBrowser(re: RegExp, ua: string, platformInfo: StrAnyDict): string | null {\n        let test = re.test(ua),\n            browserName = platformInfo.os === Os.ANDROID ? Browser.ANDROID : Browser.SAFARI;\n\n        if (test) {\n            return browserName;\n        }\n\n        return null;\n    }\n\n    private static getPlatform(userAgent: string): StrAnyDict {\n        const ual = userAgent.toLowerCase(),\n            out = {\n                os: Os.UNKNOWN,\n                platform: Platform.UNKNOWN,\n                osVersion: '',\n                device: Device.UNKNOWN\n            };\n\n        // Firefox on iOS\n        if (ual.indexOf('fxios') >= 0) {\n            out.os = Os.IOS;\n            out.platform = Platform.MAC;\n            if (ual.indexOf('iphone') >= 0) {\n                out.device = Device.IPHONE;\n            }\n            else { // iPad\n                out.device = Device.IPAD;\n            }\n\n            return out;\n        }\n\n        let re = /\\s(\\([^)]+\\))/,\n            test = re.exec(userAgent);\n\n        if (test && test.length && test.length > 1) {\n            let pStr = test[1].replace(/_/gi, '.'), // 'platform string'\n                tests = [\n                    (str: string, obj: StrAnyDict) => this.isLinux(str, obj),\n                    (str: string, obj: StrAnyDict) => this.isMac(str, obj),\n                    (str: string, obj: StrAnyDict) => this.isWin(str, obj),\n                ],\n                i = tests.length, ti;\n\n            while (i--) {\n                ti = tests[i];\n                if (ti(i === 0 ? userAgent : pStr, out)) {\n                    break;\n                }\n            }\n        }\n\n        return out;\n    }\n\n    private static isLinux(str: string, obj: StrAnyDict): boolean {\n        const regex = new RegExp(Platform.LINUX, 'i');\n        const isArm = /Linux armv/.test(navigator.platform);\n\n        if (regex.test(str) || str.indexOf(Os.ANDROID) >= 0) {\n\n            obj.platform = Platform.LINUX;\n            obj.device = Device.UNKNOWN;\n\n            if (str.indexOf(Os.CHROMIUM) >= 0) {\n                /* eslint-disable-next-line*/\n                let re = /Chromium\\/([\\d+\\.]*)\\s/,\n                    test = re.exec(str);\n\n                obj.os = Os.CHROMIUM;\n                obj.osVersion = (test && test[1]) || '';\n            }\n            else if (str.indexOf(Os.ANDROID) >= 0) {\n                let re = / Android ([^\\s]+);/,\n                    test = re.exec(str);\n\n                obj.os = Os.ANDROID;\n                obj.osVersion = (test && test[1]) || '';\n                obj.device = Device.ANDROID_PHONE;\n            }\n            else if (str.indexOf(Os.WEBOS) >= 0) {\n                obj.os = Os.WEBOS;\n                obj.osVersion = 'n/a';\n                obj.device = Device.LG_SMART_TV;\n            }\n            else if (str.indexOf(Os.SMARTCAST) >= 0) {\n                obj.os = Os.SMARTCAST;\n                obj.osVersion = 'n/a';\n                obj.device = Device.VIZIO_SMART_TV;\n            }\n            else if (str.indexOf(Os.TIZEN) >= 0) {\n                let re = /Tizen ([^\\s]+)(;|\\))/,\n                    test = re.exec(str);\n                obj.os = Os.TIZEN;\n                obj.osVersion = (test && test[1]) || '';\n                obj.device = Device.SAMSUNG_SMART_TV;\n            }\n            //@ts-ignore\n            else if (typeof $badger != 'undefined' || (/ WPE$/.test(str) && isArm)) {\n                obj.os = Platform.LINUX;\n                obj.osVersion = 'n/a';\n                obj.device = Device.COMCAST_X1;\n            }\n            else if (isArm) {\n                obj.os = Platform.LINUX;\n                obj.osVersion = 'n/a';\n                obj.device = Device.EMBEDDED;\n            }\n            return true;\n        }\n\n        return false;\n    }\n\n    private static isMac(str: string, obj: StrAnyDict) {\n\n        if (str.indexOf(Platform.MAC) >= 0) { // OSX desktop\n            obj.platform = Platform.MAC;\n            obj.device = Device.DESKTOP;\n\n            if (str.indexOf(Os.OSX) >= 0) {\n                /* eslint-disable-next-line*/\n                let re = /Mac OS X ([\\d\\.]+)/,\n                    test = re.exec(str);\n\n                obj.os = Os.OSX;\n                obj.osVersion = (test && test[1]) ? test[1] : null;\n            }\n\n            return true;\n\n        }\n        else if (str.indexOf('like Mac OS X') !== -1) {\n            // iOS; 'like Mac...' is used for non-OSX Mac devices\n            obj.platform = Platform.MAC;\n            obj.os = Os.IOS;\n            obj.device = Device.UNKNOWN;\n\n            let devices = [/\\(iPhone;/, /\\(iPad;/, /\\(iPod;/],\n                names = [Device.IPHONE, Device.IPAD, Device.IPOD],\n                i = devices.length,\n                re = /\\sOS\\s([^\\s]*)\\s/,\n                version = re.exec(str);\n\n            if (version && version[1]) {\n                obj.osVersion = version[1];\n            }\n\n            while (i--) {\n                if (devices[i].test(str)) {\n                    obj.device = names[i];\n\n                    return true;\n                }\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    private static isWin(ua: string, obj: StrAnyDict) {\n        /* eslint-disable*/\n        let re = /(Windows Phone |Windows Phone OS )([^\\s]+);/,\n            reNt = /Windows NT ([^\\s]+)[;\\)]/,\n            win = re.exec(ua);\n        /* eslint-enable*/\n        if (win && win[2]) {\n            obj.platform = Platform.WINDOWS;\n            obj.os = Os.WINDOWS_PHONE;\n            obj.osVersion = win[2];\n            obj.device = Device.WINDOWS_PHONE;\n\n            return true;\n        }\n        else {\n            let test = reNt.exec(ua);\n\n            obj.device = Device.DESKTOP;\n\n            if (test && test[1]) {\n                obj.platform = Platform.WINDOWS;\n                obj.os = Os.WINDOWS;\n\n                let osVersionNbr = test[1];\n\n                if (/Xbox; Xbox One/.test(ua)) {\n                    obj.device = Device.XBOX_ONE;\n                }\n\n                if (parseInt(osVersionNbr) == 10) {\n                    obj.os = Os.WINDOWS10;\n                    obj.osVersion = osVersionNbr;\n                }\n                else {\n                    switch (osVersionNbr) {\n                        // MS version number/os designations\n                        case '6.0':\n                            obj.os = Os.WINDOWS_VISTA;\n                            break;\n                        case '6.1':\n                            obj.os = Os.WINDOWS7;\n                            obj.osVersion = 7;\n                            break;\n                        case '6.2':\n                            obj.os = Os.WINDOWS8;\n                            obj.osVersion = 8;\n                            break;\n                    }\n                }\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n}\n\nSystem.initialize();\n","import { SimpleVideoInterface } from '../iface';\n\nexport class VirtualVideoElement implements SimpleVideoInterface {\n    muted: boolean = false;\n    volume: number = NaN;\n    currentTime: number = NaN;\n    duration: number = NaN;\n}","import { Browser } from \"../enum/Browser\";\nimport { Device } from \"../enum/Device\";\nimport { Os } from \"../enum/Os\";\nimport { Platform } from \"../enum/Platform\";\nimport { SimpleVideoInterface, SystemServiceInterface, VersionInfoInterface } from \"../iface\";\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { SystemInfoInterface } from \"../iface/SystemInfoApiInterface\";\nimport { System } from \"../util/System\";\nimport { VirtualVideoElement } from '../util/VirtualVideoElement';\nimport { ServiceBase } from \"./ServiceBase\";\n\nexport class SystemService extends ServiceBase implements SystemServiceInterface {\n\n    private infoCache: StrAnyDict = {};\n    private static instance: SystemService;\n\n    protected constructor(name: string) {\n        super(name);\n    }\n\n    static getInstance(name: string): SystemService {\n        if (!this.instance) {\n            this.instance = new SystemService(name);\n        }\n\n        return this.instance;\n    }\n\n    get info(): SystemInfoInterface {\n        return System.info;\n    }\n\n    get webMafPlayer(): any {\n        return this.isWebMaf ? this.global['WM_videoPlayer'] : null;\n    }\n\n    get isWebMaf(): boolean {\n        return !!(this.global && this.global['WM_videoPlayer']);\n    }\n\n    get isWebOs(): boolean {\n        return <Os>this.info.os === Os.WEBOS;\n    }\n\n    /**\n     * Returns the global object, if it exists (currently, 'window' is the only applicable global)\n     */\n    get global(): any {\n        return System.global;\n    }\n\n    get document(): HTMLDocument {\n        return this.global && (this.global.document || null);\n    }\n\n    get isDesktop(): boolean {\n        const k = 'isDesktop', c = this.checkCache(k);\n\n        return c !== undefined ? c : this.cache(k, () => {\n            return this.info.device === Device.DESKTOP\n        });\n    }\n\n    get isMobile(): boolean {\n        return !this.isDesktop;\n    }\n\n    get isTv(): boolean {\n        switch (this.device) {\n            case Device.LG_SMART_TV:\n            case Device.VIZIO_SMART_TV:\n            case Device.SAMSUNG_SMART_TV:\n            case Device.COMCAST_X1:\n                return true;\n\n            default:\n                return false;\n        }\n    }\n\n    get isTizenSmartTv(): boolean {\n        return this.device === Device.SAMSUNG_SMART_TV;\n    }\n\n    get isXboxOne(): boolean {\n        return this.device === Device.XBOX_ONE;\n    }\n\n    get isEmbedded(): boolean {\n        return this.device == Device.EMBEDDED;\n    }\n\n    get browser(): Browser {\n        return <Browser>this.info.browser;\n    }\n\n    get os(): Os {\n        return <Os>this.info.os;\n    }\n\n    get device(): Device {\n        return <Device>this.info.device;\n    }\n\n    get platform(): Platform {\n        return <Platform>this.info.platform;\n    }\n\n    get isIos(): boolean {\n        return this.info.os === Os.IOS;\n    }\n\n    get isAndroid(): boolean {\n        const k = 'isAndroid', c = this.checkCache(k);\n\n        return c !== undefined ? c : this.cache(k, () => {\n            const i = this.info;\n            return i.device === Device.ANDROID_PHONE || i.device === Os.ANDROID;\n        });\n    }\n\n    get browserVersionInfo(): VersionInfoInterface {\n        const k = 'browserVersionInfo', c = this.checkCache(k);\n\n        return c !== undefined ? c : this.cache(k, () => {\n            return this.parseVerStr(this.info.browserVersion);\n        });\n    }\n\n    get osVersionInfo(): VersionInfoInterface {\n        const k = 'osVersionInfo', c = this.checkCache(k);\n\n        return c !== undefined ? c : this.cache(k, () => {\n            return this.parseVerStr(this.info.osVersion)\n        });\n    }\n\n    createSimpleVideoInterface(): SimpleVideoInterface | null {\n        return new VirtualVideoElement();\n    }\n\n    private cache(key: string, fn: () => any): any {\n        this.infoCache[key] = fn();\n\n        return this.infoCache[key];\n    }\n\n    private checkCache(key: string): any {\n        return key in this.infoCache ? this.infoCache[key] : undefined;\n    }\n\n    private parseVerStr(str: string): VersionInfoInterface {\n        const out: VersionInfoInterface = {\n            majorVersion: null,\n            minorVersion: null,\n            versionString: str || null,\n        };\n\n        if (str) {\n            const spl = str.split('.'),\n                mj = parseInt(spl[0], 10),\n                mn = parseInt(spl[1], 10);\n\n            !isNaN(mj) && (out.majorVersion = mj);\n            !isNaN(mn) && (out.minorVersion = mn);\n        }\n\n        return out;\n    }\n}\n\n\n","import {CapabilityConfigInterface} from \"../../iface\";\n\nexport const media_decode_configs: Array<CapabilityConfigInterface> = [\n    {\n        type: 'avc',\n        config: {\n            type: 'media-source', // or 'file'\n            audio: {\n                contentType: 'audio/mp4; codecs=mp4a.40.2',\n                channels: '2', // audio channels used by the track\n                bitrate: 132266, // number of bits used to encode a second of audio\n                samplerate: 48000 // number of samples of audio carried per second\n            },\n            video: {\n                contentType: 'video/mp4; codecs=\"avc1.4D401E\"',\n                width: 1920,\n                height: 1080,\n                bitrate: 2646242, // number of bits used to encode a second of video\n                framerate: '25' // number of frames used in one second\n            }\n        }\n    },\n    {\n        type: 'hevc',\n        config: {\n            type: 'media-source', // or 'file'\n            audio: {\n                contentType: 'audio/mp4; codecs=mp4a.40.2',\n                channels: '2', // audio channels used by the track\n                bitrate: 132266, // number of bits used to encode a second of audio\n                samplerate: 48000 // number of samples of audio carried per second\n            },\n            video: {\n                contentType: 'video/mp4; codecs=\"hev1.1.2.L93.B0\"',\n                width: 1920,\n                height: 1080,\n                bitrate: 2646242, // number of bits used to encode a second of video\n                framerate: '25' // number of frames used in one second\n            }\n        }\n    },\n    {\n        type: 'webm',\n        config: {\n            type: 'media-source', // or 'file'\n            audio: {\n                contentType: 'audio/webm; codecs=opus',\n                channels: '2', // audio channels used by the track\n                bitrate: 132266, // number of bits used to encode a second of audio\n                samplerate: 48000 // number of samples of audio carried per second\n            },\n            video: {\n                contentType: 'video/webm; codecs=\"vp09.00.10.08\"',\n                width: 1920,\n                height: 1080,\n                bitrate: 2646242, // number of bits used to encode a second of video\n                framerate: '25' // number of frames used in one second\n            }\n        }\n    }\n];\n","\nexport enum MediaCapabilitiesCodec {\n    AVC = 'avc1.4D401E,mp4a.40.2',\n    HEVC = 'hev1.1.2.L93.B0',\n    VP8 = 'vp8, opus, vorbis',\n    VP9 = 'vp9, opus, vorbis',\n    AV1 = 'av1.experimental.e87fb2378f01103d5d6e477a4ef6892dc714e614'\n}\n\n","import { Emitter } from '../core/Emitter';\nimport { Util } from '../core/Util';\nimport { CapabilityConfigInterface, MediaCapabilitiesResultInterface, MediaDecodeCapabilitiesResultInterface } from '../iface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { StrStrDict } from '../iface/StrStrDict';\nimport { media_decode_configs } from './config/MediaDecodeConfigs';\nimport { MediaCapabilitiesCodec } from './enum/MediaCapabilitiesCodec';\nimport { MediaCapabilitiesMimeType } from './enum/MediaCapabilitiesMimeType';\nimport { System } from './System';\n\n\nexport class MediaCapabilities extends Emitter {\n\n    static event: StrStrDict = {\n        COMPLETE: 'complete'\n    };\n\n    private pCapabilities: MediaCapabilitiesResultInterface;\n\n    private types: StrAnyDict = {\n        video: {\n            HLS: MediaCapabilitiesMimeType.HLS,\n            AVC: MediaCapabilitiesMimeType.MP4_VIDEO + '; codecs=' + MediaCapabilitiesCodec.AVC,\n            HEVC: MediaCapabilitiesMimeType.MP4_VIDEO + '; codecs=' + MediaCapabilitiesCodec.HEVC,\n            WEBM_VP8: MediaCapabilitiesMimeType.WEBM_VIDEO + '; codecs=' + MediaCapabilitiesCodec.VP8,\n            WEBM_VP9: MediaCapabilitiesMimeType.WEBM_VIDEO + '; codecs=' + MediaCapabilitiesCodec.VP9\n        },\n        audio: {\n            AVC: MediaCapabilitiesMimeType.MP4_AUDIO + '; codecs=' + MediaCapabilitiesCodec.AVC,\n            HEVC: MediaCapabilitiesMimeType.MP4_AUDIO + '; codecs=' + MediaCapabilitiesCodec.HEVC,\n            WEBM_VP8: MediaCapabilitiesMimeType.WEBM_AUDIO + '; codecs=' + MediaCapabilitiesCodec.VP8,\n            WEBM_VP9: MediaCapabilitiesMimeType.WEBM_AUDIO + '; codecs=' + MediaCapabilitiesCodec.VP9\n        }\n    };\n\n    constructor(options: StrAnyDict) {\n        super(options);\n        this.getCapabilities();\n    }\n\n    destroy(): void {\n        super.destroy();\n    }\n\n    get capabilities(): MediaCapabilitiesResultInterface {\n        return this.pCapabilities;\n    }\n\n    getCapabilities(): void {\n\n        let mediaCapabilitiesResult: MediaCapabilitiesResultInterface = {\n            mediaDecodeCapabilitiesResults: [],\n            drmCapabilitiesResults: [],\n            hasMediaSource: this.hasMediaSource,\n            hasEncryptedMediaSource: this.hasEncryptedMediaSource,\n            isWebKit: this.isWebKit,\n            supportsVp8: this.supportsVp8,\n            supportsMediaDecodeConfigurations: this.supportsMediaDecodeConfigurations, //advance\n            supportsNativeHls: this.isTypeSupported(this.types.video.HLS), //native hls\n            supportsRequestMediaKeySystemAccess: this.supportsRequestMediaKeySystemAccess, //drm\n            supportsAvc: false,\n            supportsHevc: false,\n            supportsWebM: false,\n            supportsVp9: false\n        };\n\n        this.pCapabilities = mediaCapabilitiesResult;\n\n        //Fork logic path to test deeper MediaCapabilities if they exist\n        if (this.supportsMediaDecodeConfigurations) {\n\n            this.testMediaDecodeCapabilities(mediaCapabilitiesResult, (mcResult: MediaCapabilitiesResultInterface) => {\n\n                const mDcr: MediaDecodeCapabilitiesResultInterface[] = mcResult.mediaDecodeCapabilitiesResults;\n\n                mediaCapabilitiesResult.supportsAvc = mDcr[0].supported;\n                mediaCapabilitiesResult.supportsHevc = mDcr[1].supported;\n                mediaCapabilitiesResult.supportsWebM = mDcr[2].supported;\n                mediaCapabilitiesResult.supportsVp9 = mDcr[2].supported;\n\n                this.completeTesting(mediaCapabilitiesResult);\n            });\n        }\n        else {\n            mediaCapabilitiesResult.supportsAvc = this.isTypeSupported(this.types.video.AVC);\n            mediaCapabilitiesResult.supportsHevc = this.isTypeSupported(this.types.video.HEVC);\n            mediaCapabilitiesResult.supportsWebM = this.supportsWebM;\n            mediaCapabilitiesResult.supportsVp9 = this.supportsVp9;\n\n            this.completeTesting(mediaCapabilitiesResult);\n        }\n    }\n\n    private completeTesting(result: MediaCapabilitiesResultInterface): void {\n        //complete all capabilities checks - emitting complete event.\n        setTimeout(() => this.emit(MediaCapabilities.event.COMPLETE, result), 1);\n    }\n\n    private get hasMediaSource(): boolean {\n        return !!(System.global && (System.global.MediaSource || this.isWebKit));\n    }\n\n    private get hasEncryptedMediaSource(): boolean {\n        const g = System.global,\n            eme = g && (g.MediaKeys || g.WebKitMediaKeys || g.MSMediaKeys);\n        return !!eme;\n    }\n\n    private get isWebKit(): boolean {\n        return !!(System.global && System.global.WebKitMediaSource);\n    }\n\n    private get supportsWebM(): boolean {\n        return this.supportsVp8 || this.supportsVp9;\n    }\n\n    private get supportsVp8(): boolean {\n        return this.isTypeSupported(this.types.video.WEBM_VP8);\n    }\n\n    private get supportsVp9(): boolean {\n        return this.isTypeSupported(this.types.video.WEBM_VP9);\n    }\n\n    private get supportsRequestMediaKeySystemAccess(): boolean {\n        return !!(System.global && System.global.MediaKeySystemAccess);\n    }\n\n    private get supportsMediaDecodeConfigurations(): boolean {\n        return !!(<any>navigator).mediaCapabilities;\n    }\n\n    private isTypeSupported(codec: string): boolean {\n\n        let supported: boolean = false;\n\n        if (!System.global) {\n            return false;\n        }\n\n        if (this.isWebKit) {\n            supported = System.global.WebKitMediaSource.isTypeSupported(codec);\n        }\n        else if (this.hasMediaSource) {\n            supported = System.global.MediaSource.isTypeSupported(codec);\n        }\n\n        if (!supported) {\n            //final check for codec support. \n            const element = document.createElement('video');\n            if (Util.isObject(element) && Util.isFunction(element.canPlayType)) {\n                if (element.canPlayType(codec) === 'probably' || element.canPlayType(codec) === 'maybe') {\n                    supported = true;\n                }\n            }\n        }\n\n        return supported;\n    }\n\n    //Currently only works with Chrome 63+\n    private testMediaDecodeCapabilities(mcResult: MediaCapabilitiesResultInterface, callback: Function): void {\n\n        if (!(<any>navigator)) {\n            callback(mcResult);\n        }\n\n        let i: number = 0;\n\n        const hResults = (result: MediaDecodeCapabilitiesResultInterface) => {\n\n            mcResult.mediaDecodeCapabilitiesResults.push(result);\n\n            if (mcResult.mediaDecodeCapabilitiesResults.length === media_decode_configs.length) {\n                //end testing\n                callback(mcResult);\n            }\n            else {\n                /*eslint-disable-next-line*/\n                runTest(media_decode_configs[i]);\n                i++;\n            }\n        };\n\n        const runTest = (config: CapabilityConfigInterface) => {\n\n            let mdcResult: MediaDecodeCapabilitiesResultInterface = <MediaDecodeCapabilitiesResultInterface>{\n                type: config.type\n            };\n\n            (<any>navigator).mediaCapabilities.decodingInfo(config.config).then((result: any) => {\n                mdcResult.supported = result.supported;\n                mdcResult.smooth = result.smooth;\n                mdcResult.powerEfficient = result.powerEfficient;\n\n                hResults(mdcResult);\n\n            }).catch(() => {\n\n                hResults(mdcResult);\n            });\n        };\n\n        runTest(media_decode_configs[i]);\n        i++;\n    }\n}\n","import { Util } from '../core/Util';\nimport { ResourceAdInterface } from '../iface/ResourceAdInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { ResourceLocationInterface } from '../iface/ResourceLocationInterface';\nimport { ResourceOverridesInterface } from '../iface/ResourceOverridesInterface';\nimport { ResourcePlaybackInterface } from '../iface/ResourcePlaybackInterface';\n\n\nexport class ResourceConfiguration implements ResourceConfigurationInterface {\n\n    constructor(config: Partial<ResourceConfigurationInterface> = {}) {\n        Util.merge(this, config);\n    }\n\n    ad: ResourceAdInterface = {\n        context: null,\n        showPrerollOnNonZeroStart: false,\n        viewabilityTracking: {\n            partner: null,\n            vguid: null,\n            ptype: null,\n        },\n        adTagParameters: {\n            description_url: null,\n            sz: '640x480',\n            url: null,\n            iu: null,\n            ad_rule: null,\n            ciu_szs: null,\n            pp: null,\n            cmsid: '2289',\n            vid: null,\n            hl: null,\n            msid: null,\n            an: null,\n            nofb: null,\n            ppid: null,\n            tfcd: null,\n            npa: null,\n            cust_params: null\n        },\n        ima: {\n            adCallUrl: null,\n            loadVideoTimeoutMs: 4000,\n            enableAdPreloading: false,\n            preloadContentAtEndOfPreRoll: false,\n        },\n        dai: {\n            contentSourceId: null,\n            daiVideoId: null,\n            assetKey: null,\n            apiKey: null,\n            ssbStreamUrl: null,\n            isLive: false,\n            format: null,\n            streamActivityMonitorId: null\n        }\n    };\n\n    location: ResourceLocationInterface = {\n        cms: null,\n        tokenMap: null,\n        cmsUri: null,\n        mediaUrl: null,\n        textTrackUrl: null,\n        thumbnailTrackUrl: null,\n        drm: {\n            enabled: false,\n            sessionId: null,\n            ticket: null,\n            playready: {\n                url: null,\n                header: null\n            },\n            widevine: {\n                url: null,\n                header: null\n            },\n            fairplay: {\n                appCertUrl: null,\n                licenseUrl: null,\n                header: null\n            }\n        }\n    };\n\n    playback: ResourcePlaybackInterface = {\n        id3OwnerIds: null,\n        startTime: NaN,\n        preloadContent: false,\n        liveEdgeSyncFragmentCount: 3,\n        abr: {\n\n            maxBitrate: NaN,\n            minBitrate: NaN,\n            startBitrate: NaN,\n            capQualityToScreenSize: true\n        }\n    };\n\n    metadata: Record<string, any> = {};\n    tracking: Record<string, any> = {};\n    overrides: ResourceOverridesInterface = {};\n}\n","export enum MediatorName {\n    APPLICATION = 'AppMediator',\n    UI = 'UiMediator',\n    FULLSCREEN = 'FullscreenMediator',\n    TRACKING_MEDIATOR = 'TrackingMediator',\n    TIMER_MEDIATOR = 'TimerMediator',\n    PRESENTATION_MEDIATOR = 'PresentationMediator',\n    PLUGIN_MEDIATOR = 'pluginMediator',\n    KEY_COMMAND = 'keyCommandMediator',\n    ACC_KEY_CMD_MEDIATOR = 'accessibilityKeyCommandMediator',\n}\n","export enum ModelName {\n    AdBreakInfo = 'AdBreakInfo',\n    AdItem = 'AdItem',\n    BuildInfo = 'BuildInfo',\n    ContentPlaybackState = 'ContentPlaybackState',\n    PlayerDom = 'PlayerDom',\n    PlayerOptions = 'PlayerOptions',\n    PresentationState = 'PresentationState',\n}\n","export enum NativePlugin {\n    /**\n     * Will prompt for a replay of last played resource at playlist end\n     */\n    REPLAY = 'replay',\n\n    /**\n     * Debugging and diagnostic panel\n     */\n    DIAGNOSTIC = 'diagnostic',\n}\n","//es-list-ignore\nexport enum NotificationName {\n    //////////////////////////\n    // Application\n    //////////////////////////\n    DEFAULT = 'default',\n    BOOT_APP = 'bootApp',\n    BOOT_WEBMAF_APP = 'bootWebMafApp',\n    PREP_TRACKING = 'prepTracking',\n    PREP_SERVICE = 'prepService',\n    TIMER_TIC = 'timerTic',\n    APP_EVENT = 'appEvent',\n    APP_ERROR_EVENT = 'appErrorEvent',\n    READY = 'ready',\n\n    //////////////////////////\n    // ERRORS\n    /////////////////////////\n    RESOURCE_ERROR = 'resourceError',\n    VIDEO_START_ERROR = 'videoStartError',\n    VIDEO_PLAYBACK_ERROR = 'videoPlaybackError',\n    //////////////////////////\n    // Resource Preparation & Playlist\n    //////////////////////////\n    PREP_RESOURCE_COLLECTION = 'prepResourceCollection',\n    VALIDATE_RESOURCE = 'validateResource',\n    RETRIEVE_RESOURCE = 'retrieveResource',\n    TRANSFORM_RESOURCE = 'transformResourceData',\n    REGISTER_RESOURCE = 'registerResource',\n    PLAY_RESOURCE = 'playResource',\n    PREP_PLUGINS = 'prepPlugins',\n    LOAD_PLUGINS = 'loadPlugins',\n    REMOVE_PLUGIN = 'removePlugin',\n    START_PRESENTATION = 'startPresentation',\n\n    RESOURCE_START = 'resourceStart',\n    RESOURCE_END = 'resourceEnd',\n    RESOURCE_PLAYING = \"resourcePlaying\",\n    RESOURCE_PAUSED = \"resourcePaused\",\n    RESOURCE_COMPLETE = \"resourceComplete\",\n\n    ADVANCE_PLAYLIST = 'advancePlaylist',\n    PLAYLIST_CHANGE = 'playlistChanged',\n    PLAYLIST_ADVANCED = 'playlistAdvanced',\n    PLAYLIST_COMPLETE = 'playlistComplete',\n    PLAYLIST_CLEARED = 'playlistCleared',\n    PLAYLIST_CURRENT_RESOURCE_CLEARED = 'playlistCurrentResourceCleared',\n    PLAYLIST_OUT_OF_RANGE = 'playlistOutOfRange',\n\n    RESOURCE_INTERRUPTED = 'resourceInterrupted',\n    CONTENT_COMPLETE = 'contentComplete',\n\n    LIVE_PRESENTATION_STOPPED = 'livePresentationStopped',\n    KILL_RESOURCE_PRESENTATION = 'killResourcePresentation',\n\n    POSTER_CLICK = 'posterClick',\n\n    SUSPEND_PLAYBACK = 'suspendPlayback',\n    RESUME_PLAYBACK = 'resumePlayback',\n    PLAYBACK_SUSPENDED = 'playbackSuspended',\n    PLAYBACK_RESUMED = 'playbackResumed',\n    //////////////////////////\n    // Presentation\n    //////////////////////////\n    FULLSCREEN_ENTER = 'fullscreenEnter',\n    FULLSCREEN_EXIT = 'fullscreenExit',\n    PRESENTATION_SIZE_CHANGE = 'presentationSizeChange',\n    MOUSE_ENTER_PRESENTATION = 'mouseEnterPresentation',\n    MOUSE_LEAVE_PRESENTATION = 'mouseLeavePresentation',\n    USER_PAUSE = 'userPause',\n    METADATA_CUEPOINT = 'metadataCuepoint',\n    TEXT_CUEPOINT = 'textCuepoint',\n    TEXT_TRACK_CHANGE = 'textTrackChange',\n    TEXT_TRACK_DISPLAY_MODE_CHANGE = 'textTrackDisplayModeChange',\n    TEXT_TRACK_AVAILABLE = 'textTrackAvailable',\n    TEXT_TRACK_INFO_CHANGE = 'textTrackInfoChange',\n    AUDIO_TRACK_CHANGE = 'audioTrackSwitched',\n    AUDIO_TRACK_INFO_CHANGE = 'audioTrackInfoChange',\n    QUALITY_INFO_CHANGE = 'qualityInfoChange',\n    THUMBNAIL_TRACK_AVAILABLE = 'thumbnailTrackAvailable',\n\n    //////////////////////////\n    // Control Playback API/UI\n    //////////////////////////    \n    AUTO_QUALITY_SWITCHING = 'autoQualitySwitching',\n    MIN_BITRATE = 'minBitrate',\n    MAX_BITRATE = 'maxBitrate',\n    PLAY_ON_USER_GESTURE = 'playOnUSerGesture',\n    PLAY = 'play',\n    PAUSE = 'pause',\n    STOP = 'stop',\n    SEEK = 'seek',\n    SEEK_FORWARD = 'seekForward',\n    SEEK_BACK = 'seekBack',\n    SEEK_TO_LIVE = 'seekToLive',\n    SWITCH_BITRATE = 'switchBitrate',\n    SWITCH_QUALITY_CATEGORY = 'switchQualityCategory',\n    SWITCH_AUDIO_TRACK = 'switchAudioTrack',\n    SWITCH_TEXT_TRACK = 'switchTextTrack',\n    SWITCH_TEXT_MODE = 'switchTextMode',\n    //////////////////////////\n    // Content Playback\n    //////////////////////////\n    CONTENT_START = 'contentStart',\n    CONTENT_DURATION_AVAILABLE = 'contentDurationAvailable',\n    CONTENT_SEGMENT_START = 'contentSegmentStart',\n    CONTENT_SEEKING = 'contentSeeking',\n    CONTENT_SEEKED = 'contentSeeked',\n    SEEK_REDIRECT_START = 'seekRedirectStart',\n    SEEK_REDIRECT_COMPLETE = 'seekRedirectComplete',\n    CONTENT_BUFFERING = 'contentBuffering',\n    CONTENT_PLAYING = 'contentPlaying',\n    CONTENT_PAUSED = 'contentPaused',\n    QUALITY_CHANGE = 'contentQualityChange',\n    CDN_CHANGE = 'contentCdnChange',\n    DRM_KEYSYSTEM_CREATED = 'drmKeySystemCreated',\n    CONTENT_SEGMENT_END = 'contentSegmentEnd',\n    CONTENT_TIME_UPDATE = \"contentTimeupdate\",\n    CONTENT_IS_LIVE_CHANGED = 'contentIsLiveChanged',\n    STREAM_TYPE_CHANGE = 'streamTypeChange',\n    STREAM_METADATA = 'streamMetadata',\n    VIDEO_PROGRESS = \"contentVideoProgress\",\n    VIDEO_LOAD_START = 'videoLoadStart',\n    VIDEO_LOAD_COMPLETE = 'videoLoadComplete',\n    VIDEO_LOADED_METADATA = 'videoLoadedMetadata',\n    AUTOPLAY_BLOCKED = 'autoplayBlocked',\n    /////////////////////////\n    // AD Events\n    /////////////////////////\n    AD_BUFFERING = 'adBuffering',\n    AD_CUEPOINTS_AVAILABLE = 'adCuepointsAvailable',\n    AD_BREAK_START = 'adBreakStart',\n    AD_BREAK_METADATA = 'adBreakMetadata',\n    AD_START = 'adStart',\n    AD_TIME_UPDATE = 'adProgress',\n    AD_FIRST_QUARTILE = 'adFirstQuartile',\n    AD_MIDPOINT = 'adMidpoint',\n    AD_THIRD_QUARTILE = 'adThirdQuartile',\n    AD_COMPLETE = 'adComplete',\n    AD_BREAK_COMPLETE = 'adBreakEnd',\n    AD_PAUSED = 'adPaused',\n    AD_PLAYING = 'adPlaying',\n    AD_ERROR = 'adError',\n    AD_STALLED = 'adStalled',\n    AD_BREAK_DISCARDED = 'adBreakDiscarded',\n    AD_CLICK = 'adClick',\n    AD_SKIPPED = 'adSkipped',\n    /////////////////////////\n    // View and UI\n    /////////////////////////\n    ENABLE_UI = 'enableUi',\n    DISABLE_UI = 'disableUi',\n    FULLSCREEN_AVAILABLE = 'fullscreenAvailable',\n    FULLSCREEN_CHANGE = 'fullscreenChange',\n    ENTER_FULLSCREEN_REQUEST = 'enterFullscreenRequest',\n    EXIT_FULLSCREEN_REQUEST = 'exitFullscreenRequest',\n    BEFORE_CONTROLS_VISIBLE = 'beforeControlsVisible',\n    CONTROLS_VISIBLE = 'controlsVisible',\n    BEFORE_CONTROLS_HIDDEN = 'beforeControlsHidden',\n    CONTROLS_HIDDEN = 'controlsHidden',\n    MUTE = 'mute',\n    UNMUTE = 'unmute',\n    VOLUME_CHANGE = 'volumeChange',\n    USER_KEY_COMMAND = 'userKeyCommand', // this maps to a command only\n    USER_KEYBOARD_COMMAND = 'userKeyboardCommand', // this maps to an external event\n\n    TT_OFFSET_REQUEST = 'ttOffsetRequest',\n    USER_SETTINGS_REQUEST = 'userSettingsRequest',\n\n    CHANGE_LANGUAGE = 'changeLanguage',\n    LANGUAGE_CHANGE = 'languageChange',\n}\n","export enum NotificationType {\n    EXTERNAL = 'external',\n    INTERNAL = 'internal',\n    UI = 'ui'\n}\n","export enum PlaybackState {\n    EMPTY = -2,\n    LOADING = -1,\n    STOPPED = 0,\n    PLAYING = 1,\n    PAUSED = 2,\n    BUFFERING = 3,\n}\n","/**\n * Player events\n * See [[VideoPlayerInterface.on]] and [[VideoPlayerInterface.off]] for addition and \n * removal, respectively, of event listeners.\n * \n * An event listener has this signature\n * ```typescript\n *  (e: EventInterface) => void;\n * ```\n * i.e., the function accepts a single argument (**e**), an event object.\n * \n * An event object has the following general form:\n * ```typescript\n * EventInterface {\n *   data?: object; // an optional event-specific data object, may be null\n *   target: EmitterInterface; // The emitting object\n *   timeStamp: number; // millisecond time stamp; when the event was emitted\n *   type: string; // the event type, a cvp.PlayerEvent constant\n * }\n * ```\n * \n * Note that most events don't carry a **data** payload.\n * \n * ---\n * \n * For more info see [Event Handling](../../guides/events)\n * \n */\nexport enum PlayerEvent {\n    /**\n     * Emitted when the player is ready for external interactions.\n     */\n    READY = 'ready',\n\n    /**\n     * Emitted when the ad break schedule is known; the **data** property\n     * of the event will be an array of ad break start times, in seconds. Note that these \n     * times correspond to **content time**; this is the case for DAI (in-stream) ads as well.\n     * \n     * Sample **data** payload: \n     * ```javascript\n     * [0, 300, 900] //(A pre-roll and 2 mid-rolls)\n     * ```\n     */\n    AD_CUEPOINTS_AVAILABLE = 'adCuepointsAvailable',\n\n    /**\n     * Emitted at the start of an advertisement break. Completion of \n     * the break will be signaled with [[AD_BREAK_COMPLETE]]. Data for the break\n     * is not available until [[AD_BREAK_METADATA]] is emitted.\n     * \n     * **Note** this event does not carry a payload.\n     * \n     * @see [[AD_BREAK_COMPLETE]]\n     */\n    AD_BREAK_START = 'adBreakStart',\n\n    /**\n     * Emitted when metadata for the ad break becomes available.\n     * \n     * The payload for this event carries an `adBreakInfo` property, \n     * with data pertaining to the break.\n     * @see [[AdBreakInfoInterface]]\n     */\n    AD_BREAK_METADATA = 'adBreakMetadata',\n\n\n    /**\n     * Emitted at the end of an advertisement break. \n     * \n     * **Note** this event does not carry a payload.\n     * \n     * @see [[AD_BREAK_START]]\n     */\n    AD_BREAK_COMPLETE = 'adBreakComplete',\n\n    /**\n     * Emitted every time an advertisement clip has fully buffered and begins playback.\n     * \n     * The payload for this event carries an `adInfo` property,\n     * with data pertaining to the ad. \n     * @see [[AdItemInterface]]\n     * @see [[AD_COMPLETE]]\n     */\n    AD_START = 'adStart',\n\n    /**\n     * Emitted after each advertisement completes playback.\n     * \n     * **Note** this event does not carry a payload.\n     * \n     * @see [[AD_START]]\n     */\n    AD_COMPLETE = 'adComplete',\n\n    /**\n     * Emitted after 25 percent of the advertisement has been played.\n     * \n     * **Note** this event does not carry a payload.\n     * \n     * @see [[AD_MIDPOINT]]\n     * @see [[AD_THIRD_QUARTILE]]\n     */\n    AD_FIRST_QUARTILE = 'adFirstQuartile',\n\n    /**\n     * Emitted after 50 percent of the advertisement has been played.\n     * \n     * **Note** this event does not carry a payload.\n     *\n     * @see [[AD_FIRST_QUARTILE]]\n     * @see [[AD_THIRD_QUARTILE]]\n     */\n    AD_MIDPOINT = 'adMidPoint',\n\n    /**\n     * Emitted after 75 percent of the advertisement has been played. \n     * - see [[AD_COMPLETE]] for 100 percent.\n     * \n     * **Note** this event does not carry a payload.\n     *\n     * @see [[AD_FIRST_QUARTILE]]\n     * @see [[AD_MIDPOINT]]\n     * @see [[AD_COMPLETE]]\n     */\n    AD_THIRD_QUARTILE = 'adThirdQuartile',\n\n    /**\n     * Emitted when an error occurs attempting to play an ad, or during ad playback.\n     * The event object received will be an AdErrorEvent, which has additional properties\n     * to convey information about the error.\n     * \n     * See under [Event Handling]\n     * \n     * **Note** this event carries a data payload:\n     * ```typescript\n     * {\n     *      code: string,\n     *      message: string\n     * }\n     * ```\n     */\n    AD_ERROR = 'adError',\n\n    /**\n     * Emitted when a playing or paused ad is clicked by the user.\n     */\n    AD_CLICK = 'adClick',\n\n    /**\n     * Emitted when a \"skippable\" ad is skipped by the user.\n     * Applies to skippable IMA ads; emitted when the IMA SDK\n     * determines that the user has elected to skip an ad.\n     *\n     * **Note** this event does not carry a payload.\n     */\n    AD_SKIPPED = 'adSkipped',\n\n    /**\n     * Emitted continuously during advertisement playback. \n     * \n     * **Note** this event carries a payload:\n     * ```typescript\n     * {\n     *      currentTime: number,\n     *      duration: number\n     * }\n     * ```\n     * The times conveyed in the payload relate only to the playing ad, i.e, a\n     * progress event for a 30 second ad will have a duration of 30 and currentTime\n     * will be be in the range 0-30.\n     */\n    AD_PROGRESS = 'adProgress',\n\n    /**\n     * Emitted when a playing ad has been paused.\n     * \n     * **Note** this event does not carry a payload.\n     */\n    AD_PAUSED = 'adPaused',\n\n    /**\n     * Emitted when a paused ad has resumed playing.\n     * \n     * **Note** this event does not carry a payload.\n     */\n    AD_PLAYING = 'adPlaying',\n\n    /**\n     * Emitted when a non-paused ad fails to progress for \n     * more than 5 seconds, i.e., if the ad is \"stalled\". Applies to IMA ads only.\n     * \n     * In this case the ad break must be discarded and content play continues.\n     * \n     */\n    AD_STALLED = 'adStalled',\n\n    /**\n     * Emitted if an ad break is aborted for any reason. Applies to IMA ads only.\n     * \n     * **Note** this event does not carry a payload.\n     */\n    AD_BREAK_DISCARDED = 'adBreakDiscarded',\n\n    /**\n     * Emitted when there is a changed in the information found in [[AudioTracksInterface]]\n     *\n     * **Note** this event does not carry a payload.\n     * \n     * @see [[VideoPlayerInterface.audioTrackInfo]]\n     */\n    AUDIO_TRACK_INFO_CHANGE = 'audioTrackInfoChange',\n\n    /**\n     * Emitted after the audio track has changed. Either at startup when \n     * initially setting the default audio track or after calling api [[VideoPlayerInterface.audioTrack]]\n     * Once this event is emitted, it is safe to change audio tracks again.\n     *\n     * **Note** this event does not carry a payload.\n     * \n     * @see [[VideoPlayerInterface.audioTrack]]\n     */\n    AUDIO_TRACK_CHANGE = 'audioTrackChange',\n\n    /**\n     * Emitted when an adaptive quality stream has changed qualities, \n     * either invoked from auto quality switching logic or by a manual \n     * switch request when setting a new value on [[VideoPlayerInterface.bitrate]].\n     * \n     * **Note** this event does not carry a payload. \n     * \n     * * @see [[VideoPlayerInterface.bitrate]]\n     */\n    QUALITY_CHANGE = 'qualityChange',\n\n    /**\n     * Emitted after manifest parsing is complete. \n     * \n     * Emitted Again, when a change to bitrate restriction API such as [[VideoPlayerInterface.minBitrate]], \n     * [[VideoPlayerInterface.maxBitrate]] or if [[ResourceConfigurationInterface.playback]] capQualityToScreenSize\n     * is `true`, and the player size changes enough to restrict a certain resolution.\n     * \n     * Every time this is emitted, after the initial event, available qualities in \n     * [[VideoPlayerInterface.qualityInfo]] have changed.\n     * \n     * **Note** this event carries a data payload:\n     * ```typescript\n     * interface QualityInfoInterface\n     *    mode: string;\n     *    quality: QualityInterface;\n     *    qualities: QualityInterface[];\n     * }\n     * ```\n     * @see [[VideoPlayerInterface.qualityInfo]]\n     */\n    QUALITY_INFO_CHANGE = 'qualityInfoChange',\n\n    /**\n     * Emitted if the content delivery network (CDN) changes.  \n     * This is applicable to multi-CDN scenarios.\n     *\n     *  * **Note** this event carries a data payload:\n     * ```typescript\n     * {\n     *      cdn: string,\n     * }\n     * ```\n     */\n    CDN_CHANGE = 'cdnChange',\n\n    /**\n     * Emitted when content video has **first** started to play. \n     * \n     * **Note** this event does not carry a payload.\n     */\n    CONTENT_START = 'contentStart',\n\n    /**\n     * Emitted when the content duration is known. The timing of this \n     * event may vary depending on whether client-side or in-stream ads accompany the \n     * presentation. \n     * \n     * This event carries a single property, `contentDuration`.\n     * \n     * ```javascript\n     * function handleEvent(e) {\n     *      if (e.type === cvp.PlayerEvent.CONTENT_DURATION_AVAILABLE) {\n     *          console.log(`Content duration = ${e.data.contentDuration}`);\n     *      }\n     * }\n     * ```\n     */\n    CONTENT_DURATION_AVAILABLE = 'contentDurationAvailable',\n\n    /**\n     * Emitted when any content segment has begun playback;\n     * any presentation with ad breaks will have content segments, as \n     * shown below, where 'ad' is an ad break with 1 or more ads.\n     * ```\n     *   ad    content segment    ad\n     * |-----|==================|-----|\n     * ```\n     * **Note** this event does not carry a payload.\n     */\n    CONTENT_SEGMENT_START = 'contentSegmentStart',\n\n    /**\n     * Emitted when content has fully buffered and playback has started.  \n     * \n     * **Note** this event does not carry a payload.\n     * \n     * @see [[CONTENT_PROGRESS]]\n     */\n    CONTENT_PLAYING = 'contentPlaying',\n\n    /**\n     * Emitted continuously when content is playing and time is moving forward. \n     * \n     * **Note** this event carries a data payload:\n     * ```typescript\n     * {\n     *      contentTime: number,\n     *      streamTime: number,\n     *      contentDuration: number,\n     *      streamDuration: number,\n     * }\n     * ```\n     * - **contentTime** - current playback time of content portion of stream not including advertisement breaks.  \n     * - **streamTime** - current playback time of the stream including content and all advertisement breaks.\n     * - **contentDuration** - duration of the content portion of the stream not including advertisement breaks.\n     * - **streamDuration** - total duration of the stream including content and all advertisement breaks.\n     */\n    CONTENT_PROGRESS = 'contentProgress',\n\n    /**\n     * Emitted when content has been paused.\n     * \n     * **Note** this event does not carry a payload.\n     */\n    CONTENT_PAUSED = 'contentPaused',\n\n    /**\n     * Emitted when any content segment ends See also [[CONTENT_SEGMENT_START]]. \n     * \n     * **Note** this event does not carry a payload.\n     */\n    CONTENT_SEGMENT_END = 'contentSegmentEnd',\n\n    /**\n     * Emitted when the content has completed fully; the resource may have post-roll ads\n     * to play at this point, so 'content complete' is not necessarily synonymous with 'resource end'.\n     * \n     * **Note** this event does not carry a payload.\n     */\n    CONTENT_COMPLETE = 'contentComplete',\n\n    /**\n     * Emitted when the content is playing at the live edge.\n     * \n     * @see [[VideoPlayerInterface.isPlayingLive]]\n     */\n    CONTENT_IS_PLAYING_LIVE = 'contentIsPlayingLive',\n\n    /**\n     * Emitted when the stream type changes.\n     * \n     * @see [[StreamType]]\n     * @see [[VideoPlayerInterface.streamType]]\n     */\n    STREAM_TYPE_CHANGE = 'streamTypeChange',\n\n    /**\n     * Emitted when the stream's metadata is loaded, before playback begings.\n     * \n     * @see [[StreamMetadataInterface]]\n     */\n    STREAM_METADATA = 'streamMetadata',\n\n    /**\n     * Used mainly for tracking and diagnostics. \n     * This event's data payload will be a string with the DRM key system in use. \n     * \n     * **Note** this event carries a data payload:\n     * ```typescript\n     * {\n     *      keysystem: string, //DrmType.ts\n     * }\n     * ```\n     */\n    DRM_KEYSYSTEM_CREATED = 'drmKeySystemCreated',\n\n    /**\n     * Emitted for any **fatal** content playback error.  Note that this event will be emitted \n     * whenever a [[RESOURCE_ERROR]], [[VIDEO_START_ERROR]], or [[VIDEO_PLAYBACK_ERROR]] occurs.  \n     * You may decide to **either** listen to these latter three events separately, **or** handle \n     * only the FATAL_ERROR event, which serves as a \"catch-all\" for all three. Listening for \n     * FATAL_ERROR in conjunction with any of those three fatal errors can lead to handling code \n     * being triggered twice for the same error, and should be avoided. \n     * \n     * See also [Event Handling](../../guides/events)\n     * \n     */\n    FATAL_ERROR = 'fatalError',\n\n    /**\n     * Emitted for all player errors. Listening for the `ERROR` event in conjunction with any of \n     * the other error events can lead to handling code being triggered twice for the same error, \n     * and should be avoided. \n     * \n     * See also [Event Handling](../../guides/events)\n     * \n     * @see [[ErrorInfoInterface]]\n     */\n    ERROR = 'error',\n\n    /**\n     * Emitted each time the playlist has advanced.\n     * \n     * **Note** this event carries a data payload:\n     * ```typescript\n     * {\n     *      resource: ResourceConfigurationInterface,\n     *      currentIndex: number     \n     * }\n     * ```\n     * - **resource** - current configuration for playback\n     * - **currentIndex** - current index of playlist's new item. \n     */\n    PLAYLIST_ADVANCED = 'playlistAdvanced',\n\n    /**\n     * Emitted when the playlist attempts to advance beyond the last item.\n     * \n     * **Note** this event does not carry a payload.\n     */\n    PLAYLIST_COMPLETE = 'playlistComplete',\n\n    /**\n     * Emitted when the playlist has been modified via item addition or removal.\n     * See [[PlaylistInterface.addResources]], [[PlaylistInterface.removeResourceAtIndex]], [[PlaylistInterface.clear]]\n     * \n     * **Note** this event does not carry a payload.\n     */\n    PLAYLIST_CHANGE = 'playlistChange',\n\n    /**\n     * Emitted after the playlist has been cleared via a call to [[PlaylistInterface.clear]]\n     * \n     * The payload (event.data) conveys the resource that was playing when the list was cleared, or null.\n     * \n     * ```javascript\n     * event.data = {\n     *     interruptedResource: ...\n     * }\n     * ```\n     */\n    PLAYLIST_CLEARED = 'playlistCleared',\n\n    /**\n     * Emitted if the playlist has been moved to an index less than 0.\n     * if the playlist is moved beyond the right-most bound, a PLAYLIST_COMPLETE event is emitted.\n     * \n     * **Note** this event does not carry a payload.\n     */\n    PLAYLIST_OUT_OF_RANGE = 'playlistOutOfRange',\n\n    /**\n     * Emitted if the current item is removed from the playlist via [[PlaylistInterface.removeResourceAtIndex]]\n     * \n     * The payload (event.data) conveys an object with the resource that was playing:\n     * \n     * ```javascript\n     * event.data = {\n     *     interruptedResource: ...\n     * }\n     * ```\n     */\n    PLAYLIST_CURRENT_RESOURCE_CLEARED = 'playlistCurrentResourceCleared',\n\n    /** \n     * Emitted when a poster click occurs prior to receiving a resource to play.\n     * The POSTER_CLICK event handler may then provide a resource to the Player.\n     * \n     * **Note** this event does not carry a payload.\n    */\n    POSTER_CLICK = 'posterClick',\n\n\n    /**\n     * Event emitted following a call to `player.suspendPlayback()`.\n     * Indicates that the tracking session will end (if playback is resumed, \n     * a new tracking session is started).\n     * \n     * @see [[VideoPlayerInterface.suspendPlayback]]\n     */\n    PLAYBACK_SUSPENDED = 'playbackSuspended',\n\n    /**\n     * Event emitted if playback is resumed (via `player.resumePlayback()` or \n     * `player.play()`) from a 'suspended' state.\n     * @see [[PLAYBACK_SUSPENDED]]\n     */\n    PLAYBACK_RESUMED = 'playbackResumed',\n\n    /**\n     * Emitted when the resource presentation starts. This occurs when all required data\n     * is at hand, and just prior to any attempt to either play content or a pre-roll ad.\n     * As such, this event can not be used as an indication that any video is currently playing.\n     * \n     * This event is primarily of use for tracking, to signal the start of a new tracking session.\n     * \n     * **Note** this event does not carry a payload.\n     */\n    RESOURCE_START = 'resourceStart',\n\n    /**\n     * Emitted when the resource has ended. This occurs when the content  \n     * and any post-roll ads, have have naturally completed, or if playback is \n     * interrupted at a time greater than or equal to 95% of the content duration.\n     * \n     * **Note** this event does not carry a payload.\n     */\n    RESOURCE_END = 'resourceEnd',\n\n    /**\n     * Emitted when the resource has been interrupted. This occurs playback if is cancelled \n     * any time prior to completion of all content and any scheduled post-roll ads.\n     * \n     * **Note** this event carries a payload indicating the current content time, the content duration,\n     * and whether an ad was playing when playback was interrupted.\n     * ```javascript\n     * contentTime: number\n     * contentDuration: number\n     * adInterrupted: boolean\n     * ```\n     */\n    RESOURCE_INTERRUPTED = 'resourceInterrupted',\n\n    /**\n     * Emitted when the resource cannot be processed for play. This can\n     * occur for an invalid configuration, or if an error occurs \n     * attempting to retrieve content metadata.  The latter case could be \n     * the result of a network error, a server error, an uninterpretable response,\n     * or an explicit error response from the server.  Additionally, a resource \n     * error can occur if a valid response is received has invalid or missing data.\n     * \n     * \n     * **Note** this event carries a data payload:\n     * ```typescript\n     * {\n     *      code: string,\n     *      message: string\n     * }\n     * ```\n     */\n    RESOURCE_ERROR = 'resourceError',\n\n    /**\n     * Emitted when the resource has started to buffer\n     */\n    RESOURCE_BUFFERING = 'resourceBuffering',\n\n    /**\n     * Emitted when a seek request has been fulfilled. The playhead time will \n     * be updated after this event has been emitted.\n     * \n     * **Note** this event does not carry a payload.\n     * \n     * @see [[SEEK_START]]\n     */\n    SEEK_COMPLETE = 'seekComplete',\n\n    /**\n     * Emitted at the start of a seek request. The playhead time will\n     * not be updated until [[SEEK_COMPLETE]]\n     * \n     * **Note** this event does not carry a payload.\n     *\n     * @see [[SEEK_COMPLETE]]\n     */\n    SEEK_START = 'seekStart',\n\n    /**\n     * Emitted when a user-initiated seek would move the playhead \n     * past an unplayed ad break (which must be played). For SSAI streams particularly,\n     * this can result in the playhead jumping back to the ad break position.\n     * The SEEK_REDIRECT_START start event can alert user code to ignore (if desired)\n     * any subsequent content progress events until the ad break has completed. \n     * \n     * **Note** \n     *\n     * @see [[SEEK_REDIRECT_COMPLETE]]\n     */\n    SEEK_REDIRECT_START = 'seekRedirectStart',\n\n    /**\n     * Emitted just prior to issuing a \"pending\" seek to the playhead, \n     * and is only relevant in the context described for SEEK_REDIRECT_START\n     * \n     * **Note** \n     *\n     * @see [[SEEK_REDIRECT_START]]\n     */\n    SEEK_REDIRECT_COMPLETE = 'seekRedirectComplete',\n\n    /**\n     * Emitted when ID3 data is detected and the ID3 tag \"owner\" matches \n     * any **id3OwnerIds** provided in the resource configuration.\n     * \n     * See also [[ResourceConfigurationInterface]].\n     * \n     * **Note** this event carries different payload structures so inspect the data\n     * object of the event.\n     */\n    METADATA_CUEPOINT = 'metadataCuepoint',\n\n    /**\n     * Emitted only when:\n     * - Player option ```renderTextTrackNatively``` is set to false.\n     * - There is at least one valid text track in the presentation.\n     * - the [[VideoPlayerInterface.contentTime]] has reached the start time of the cue. \n     * \n     * event.data = {\n     *    activeCues: cueList\n     * }\n     */\n    TEXT_CUEPOINT = 'textCuepoint',\n\n    /**\n     * Emitted once a text track has changed to the new track. This will happen \n     * at startup, if text is detected, while setting the default track. \n     * It will also be emitted after each track switch via [[VideoPlayerInterface.textTrack]]\n     * \n     * **Note** This event passes the new track info as the payload.\n     * @see [[VideoPlayerInterface.textTrack]]\n     */\n    TEXT_TRACK_CHANGE = 'textTrackChange',\n\n    /**\n     * Emitted when the list of available text tracks has changed. \n     * It will also be emitted after each track switch via [[VideoPlayerInterface.textTrack]]\n     * \n     * @see [[VideoPlayerInterface.textTrack]]\n     * @see [[VideoPlayerInterface.textTrackInfo]]\n     */\n    TEXT_TRACK_INFO_CHANGE = 'textTrackInfoChange',\n\n    /**\n     * Emitted each time [[VideoPlayerInterface.textTrackEnabled]] is called and the mode \n     * has changed. This is useful when rendering text externally. Typically only \n     * used when player option ```renderTextTrackNatively``` is set to false.\n     * \n     * **Note** this event carries a data payload:\n     * ```typescript\n     * { enabled: boolean }\n     * ```\n     * @see [[VideoPlayerInterface.textTrackEnabled]]\n     */\n    TEXT_TRACK_DISPLAY_MODE_CHANGE = 'textTrackDisplayModeChange',\n\n    /**\n     * Emitted when there is valid text track. Can be used as an indication \n     * to enable UI controls for caption button or subtitles menu. \n     * \n     * **Note** this event does not carry a payload.\n     */\n    TEXT_TRACK_AVAILABLE = 'textTrackAvailable',\n\n    /**\n     * Emitted when there is valid thumbnail track. Can be used as an indication \n     * to enable UI seek preview scrubber. \n     * \n     * **Note** this event does not carry a payload.\n     */\n    THUMBNAIL_TRACK_AVAILABLE = 'thumbnailTrackAvailable',\n\n    /**\n     * Emitted when there is an issue starting the video. Typically triggered by \n     * failures with manifest loading / parsing or user gesture issues for click to play. \n     * \n     * **Note** this event carries a data payload:\n     * ```typescript\n     * {\n     *      code: string,\n     *      message: string\n     * }\n     * ```\n     */\n    VIDEO_START_ERROR = 'videoStartError',\n\n    /**\n     * Emitted when there is an issue playing back the video.  Typically triggered by an issue \n     * with network download or media parsing, decoding or rendering.\n     * \n     * **Note** this event carries a data payload:\n     * ```typescript\n     * {\n     *      code: string,\n     *      message: string\n     * }\n     * ```\n     */\n    VIDEO_PLAYBACK_ERROR = 'videoPlaybackError',\n\n    /**\n     * Emitted after the video has loaded and the HTML5 CAN_PLAY_THROUGH \n     * event has be emitted by the HTML5 video element. \n     * \n     * **Note** this event does not carry a payload.\n     */\n    VIDEO_LOAD_COMPLETE = 'videoLoadComplete',\n\n    /**\n     * Applies only when using CVP with CVUI; emitted before the fade-in transition starts.\n     */\n    BEFORE_CONTROLS_VISIBLE = 'beforeControlsVisible',\n\n    /**\n     * Applies only when using CVP with CVUI; emitted before the fade-out transition starts.\n     */\n    BEFORE_CONTROLS_HIDDEN = 'beforeControlsHidden',\n\n    /**\n     * Applies only when using CVP with CVUI; emitted when UI controls are fully visible.\n     */\n    CONTROLS_VISIBLE = 'controlsVisible',\n\n    /**\n     * Applies only when using CVP with CVUI; emitted when UI controls are fully hidden.\n     */\n    CONTROLS_HIDDEN = 'controlsHidden',\n\n    /**\n     * Applies to live (linear) streams only; if the presentation is 'stopped' by the user \n     * video playback ceases, the current resource is discarded and the tracking session ends.\n     */\n    LIVE_PRESENTATION_STOPPED = 'livePresentationStopped',\n\n    /**\n     * Emitted when a change in presentation size (width and height) is detected.\n     */\n    PRESENTATION_SIZE_CHANGE = 'presentationSizeChange',\n\n    /**\n     * Emitted when Fullscreen mode is entered\n     */\n    FULLSCREEN_ENTER = 'fullscreenEnter',\n\n    /**\n     * Emitted when Fullscreen mode is exited\n     */\n    FULLSCREEN_EXIT = 'fullscreenExit',\n\n    /**\n     * Applies only when using CVP with CVUI; emitted (desktop only) when the cursor enters the video presentation area.\n     */\n    MOUSE_ENTER_PRESENTATION = 'mouseEnterPresentation',\n\n    /**\n     * Applies only when using CVP with CVUI; emitted (desktop only) when the cursor leaves the video presentation area.\n     */\n    MOUSE_LEAVE_PRESENTATION = 'mouseLeavePresentation',\n\n    /**\n     * Applies only when using CVP with CVUI; emitted when content video \n     * is paused by the user (via a click on the UI). It is not emitted during\n     * ad play.\n     */\n    USER_PAUSE = 'userPause',\n\n    /**\n     * Applies only when using CVP with CVUI; emitted when the user\n     * clicks/taps the Settings button.  This button is only available\n     * when the UI is configured to include the settings button:\n     * \n     * ```js\n     * uiConfig: {\n     *     include: [cvui.ControlName.SETTINGS_BUTTON]\n     * }\n     * ```\n     * \n     * A plugin or other code must handle this event in order for anything\n     * to happen. Although the player has no built-in behavior for user settings,\n     * a VTG plugin is available to display multi-language text and audio track menus, \n     * offering users a means to switch to their preferred language.\n     */\n    USER_SETTINGS = 'userSettings',\n\n    /**\n     * Emitted for all log statements originating from a Player instance, regardless of the \n     * log level specified in PlayerOptions. This event is primarily useful for plugin \n     * development.  The payload is a LogEventInterface:\n     * \n     * ```typescript\n     * interface LogEventInterface {\n     *    item: any;\n     *    id: string;\n     *    level: LogLevel;\n     *    label: string;\n     * }\n     * ```\n     * `item` is the subject of the log statement; it may be of any type (object, string, etc). \n     * `id` is the ID of the Player an object, the `label` \n     * If `item` is an object, `label` may convey the name or role of the object\n     * `level` is the developer-assigned level for the log statement. \n     */\n    LOG_EVENT = 'logEvent',\n\n    /**\n     * Emitted from Plugins via the Player.  Plugin events \n     * behave like any other player event, but their `data` payload\n     * is determined by the given plugin that initiates event emission.\n     */\n    PLUGIN_EVENT = 'pluginEvent',\n\n    /**\n     * Emitted when the language is changed.\n     */\n    LANGUAGE_CHANGE = 'languageChange',\n\n    /**\n     * Emitted if a keyboard command has been registered and the user\n     * invokes the keypress(es) associated with the command. \n     * Note that this event is not emitted for Accessibility key presses,\n     * but for user-registered commands only.\n     */\n    USER_KEYBOARD_COMMAND = 'userKeyboardCommand',\n\n    /**\n     * Emitted if autoplay is blocked by the browser.\n     */\n    AUTOPLAY_BLOCKED = 'autoplayBlocked',\n}\n","export enum ProxyName {\n    AdDataProxy = 'AdDataProxy',\n    ContentPlaybackStateProxy = 'ContentPlaybackStateProxy',\n    PlayerDomProxy = 'PlayerDomProxy',\n    Playlist = \"PlaylistProxy\",\n    ModelCollectionProxy = 'ModelCollectionProxy',\n    ResourceProxy = 'ResourceProxy',\n    TrackingConfigProxy = 'TrackingConfigProxy',\n    PerformanceProxy = 'PerformanceProxy',\n    TextTrackProxy = 'TextTrackProxy',\n    LocalizationProxy = 'LocalizationProxy'\n}\n","export enum StreamType {\n    VOD = 'VOD',\n    LIVE = 'LIVE',\n    DVR = 'DVR'\n}\n","export enum Playback { \n    MULTI_CDN = 'x-cdn',\n    VIDEO = 'video',\n    AUDIO = 'audio',\n    TEXT =  'text',\n    ABR_SWITCHING_MODE_AUTO = 'auto',\n    ABR_SWITCHING_MODE_MANUAL = 'manual',\n    ABR_SWITCHING_MODE_UNAVAILABLE = 'unavailable'\n}\n","import { LogServiceInterface } from '../iface';\nimport { LoggerInterface } from '../iface/LoggerInterface';\nimport { ServiceBase } from './ServiceBase';\n\n\nexport class LogService extends ServiceBase implements LogServiceInterface {\n\n    private pLogger: LoggerInterface;\n\n    constructor(name: string, logger: LoggerInterface) {\n        super(name);\n        this.pLogger = logger;\n    }\n\n    destroy(): void {\n        this.pLogger.destroy();\n        this.pLogger = null;\n    }\n\n    get logger(): LoggerInterface {\n        return this.pLogger;\n    }\n}\n","import { NotificationName } from '../enum/NotificationName';\nimport { PlayerEvent } from '../enum/PlayerEvent';\n\nexport const event_map: Record<string, PlayerEvent> = {\n\n    [NotificationName.READY]: PlayerEvent.READY,\n\n    [NotificationName.POSTER_CLICK]: PlayerEvent.POSTER_CLICK,\n\n    [NotificationName.VIDEO_START_ERROR]: PlayerEvent.VIDEO_START_ERROR,\n    [NotificationName.VIDEO_PLAYBACK_ERROR]: PlayerEvent.VIDEO_PLAYBACK_ERROR,\n    [NotificationName.RESOURCE_ERROR]: PlayerEvent.RESOURCE_ERROR,\n\n    [NotificationName.PLAYLIST_ADVANCED]: PlayerEvent.PLAYLIST_ADVANCED,\n    [NotificationName.PLAYLIST_COMPLETE]: PlayerEvent.PLAYLIST_COMPLETE,\n    [NotificationName.PLAYLIST_CHANGE]: PlayerEvent.PLAYLIST_CHANGE,\n    [NotificationName.PLAYLIST_CLEARED]: PlayerEvent.PLAYLIST_CLEARED,\n    [NotificationName.PLAYLIST_CURRENT_RESOURCE_CLEARED]: PlayerEvent.PLAYLIST_CURRENT_RESOURCE_CLEARED,\n\n    [NotificationName.RESOURCE_START]: PlayerEvent.RESOURCE_START,\n    [NotificationName.RESOURCE_END]: PlayerEvent.RESOURCE_END,\n    [NotificationName.RESOURCE_INTERRUPTED]: PlayerEvent.RESOURCE_INTERRUPTED,\n    [NotificationName.PLAYLIST_OUT_OF_RANGE]: PlayerEvent.PLAYLIST_OUT_OF_RANGE, \n\n    [NotificationName.PLAYBACK_SUSPENDED]: PlayerEvent.PLAYBACK_SUSPENDED,\n    [NotificationName.PLAYBACK_RESUMED]: PlayerEvent.PLAYBACK_RESUMED,\n\n    //content\n    [NotificationName.AUDIO_TRACK_INFO_CHANGE]: PlayerEvent.AUDIO_TRACK_INFO_CHANGE,\n    [NotificationName.AUDIO_TRACK_CHANGE]: PlayerEvent.AUDIO_TRACK_CHANGE,\n    [NotificationName.QUALITY_CHANGE]: PlayerEvent.QUALITY_CHANGE,\n    [NotificationName.QUALITY_INFO_CHANGE]: PlayerEvent.QUALITY_INFO_CHANGE,\n    [NotificationName.CDN_CHANGE]: PlayerEvent.CDN_CHANGE,\n    [NotificationName.CONTENT_START]: PlayerEvent.CONTENT_START,\n    [NotificationName.CONTENT_DURATION_AVAILABLE]: PlayerEvent.CONTENT_DURATION_AVAILABLE,\n    [NotificationName.CONTENT_SEGMENT_START]: PlayerEvent.CONTENT_SEGMENT_START,\n    [NotificationName.CONTENT_TIME_UPDATE]: PlayerEvent.CONTENT_PROGRESS,\n    [NotificationName.CONTENT_BUFFERING]: PlayerEvent.RESOURCE_BUFFERING,\n    [NotificationName.CONTENT_PLAYING]: PlayerEvent.CONTENT_PLAYING,\n    [NotificationName.CONTENT_PAUSED]: PlayerEvent.CONTENT_PAUSED,\n    [NotificationName.CONTENT_SEEKING]: PlayerEvent.SEEK_START,\n    [NotificationName.CONTENT_SEEKED]: PlayerEvent.SEEK_COMPLETE,\n    [NotificationName.CONTENT_IS_LIVE_CHANGED]: PlayerEvent.CONTENT_IS_PLAYING_LIVE,\n    [NotificationName.STREAM_TYPE_CHANGE]: PlayerEvent.STREAM_TYPE_CHANGE,\n    [NotificationName.STREAM_METADATA]: PlayerEvent.STREAM_METADATA,\n    [NotificationName.SEEK_REDIRECT_START]: PlayerEvent.SEEK_REDIRECT_START,\n    [NotificationName.SEEK_REDIRECT_COMPLETE]: PlayerEvent.SEEK_REDIRECT_COMPLETE,\n    [NotificationName.CONTENT_SEGMENT_END]: PlayerEvent.CONTENT_SEGMENT_END,\n    [NotificationName.CONTENT_COMPLETE]: PlayerEvent.CONTENT_COMPLETE,\n    [NotificationName.DRM_KEYSYSTEM_CREATED]: PlayerEvent.DRM_KEYSYSTEM_CREATED,\n    [NotificationName.METADATA_CUEPOINT]: PlayerEvent.METADATA_CUEPOINT,\n    [NotificationName.TEXT_CUEPOINT]: PlayerEvent.TEXT_CUEPOINT,\n    [NotificationName.TEXT_TRACK_DISPLAY_MODE_CHANGE]: PlayerEvent.TEXT_TRACK_DISPLAY_MODE_CHANGE,\n    [NotificationName.TEXT_TRACK_CHANGE]: PlayerEvent.TEXT_TRACK_CHANGE,\n    [NotificationName.TEXT_TRACK_INFO_CHANGE]: PlayerEvent.TEXT_TRACK_INFO_CHANGE,\n    [NotificationName.TEXT_TRACK_AVAILABLE]: PlayerEvent.TEXT_TRACK_AVAILABLE,\n    [NotificationName.VIDEO_LOAD_COMPLETE]: PlayerEvent.VIDEO_LOAD_COMPLETE,\n    [NotificationName.THUMBNAIL_TRACK_AVAILABLE]: PlayerEvent.THUMBNAIL_TRACK_AVAILABLE,\n\n    [NotificationName.AD_CUEPOINTS_AVAILABLE]: PlayerEvent.AD_CUEPOINTS_AVAILABLE,\n    [NotificationName.AD_BREAK_START]: PlayerEvent.AD_BREAK_START,\n    [NotificationName.AD_BREAK_METADATA]: PlayerEvent.AD_BREAK_METADATA,\n    [NotificationName.AD_START]: PlayerEvent.AD_START,\n    [NotificationName.AD_PAUSED]: PlayerEvent.AD_PAUSED,\n    [NotificationName.AD_PLAYING]: PlayerEvent.AD_PLAYING,\n    [NotificationName.AD_TIME_UPDATE]: PlayerEvent.AD_PROGRESS,\n    [NotificationName.AD_FIRST_QUARTILE]: PlayerEvent.AD_FIRST_QUARTILE,\n    [NotificationName.AD_MIDPOINT]: PlayerEvent.AD_MIDPOINT,\n    [NotificationName.AD_THIRD_QUARTILE]: PlayerEvent.AD_THIRD_QUARTILE,\n    [NotificationName.AD_COMPLETE]: PlayerEvent.AD_COMPLETE,\n    [NotificationName.AD_BREAK_COMPLETE]: PlayerEvent.AD_BREAK_COMPLETE,\n    [NotificationName.AD_ERROR]: PlayerEvent.AD_ERROR,\n    [NotificationName.AD_STALLED]: PlayerEvent.AD_STALLED,\n    [NotificationName.AD_BREAK_DISCARDED]: PlayerEvent.AD_BREAK_DISCARDED,\n    [NotificationName.AD_BUFFERING]: PlayerEvent.RESOURCE_BUFFERING,\n    [NotificationName.AD_CLICK]: PlayerEvent.AD_CLICK,\n    [NotificationName.AD_SKIPPED]: PlayerEvent.AD_SKIPPED,\n\n    [NotificationName.USER_PAUSE]: PlayerEvent.USER_PAUSE,\n    [NotificationName.BEFORE_CONTROLS_VISIBLE]: PlayerEvent.BEFORE_CONTROLS_VISIBLE,\n    [NotificationName.BEFORE_CONTROLS_HIDDEN]: PlayerEvent.BEFORE_CONTROLS_HIDDEN,\n    [NotificationName.CONTROLS_VISIBLE]: PlayerEvent.CONTROLS_VISIBLE,\n    [NotificationName.CONTROLS_HIDDEN]: PlayerEvent.CONTROLS_HIDDEN,\n    [NotificationName.USER_SETTINGS_REQUEST]: PlayerEvent.USER_SETTINGS,\n\n    [NotificationName.LIVE_PRESENTATION_STOPPED]: PlayerEvent.LIVE_PRESENTATION_STOPPED,\n    [NotificationName.PRESENTATION_SIZE_CHANGE]: PlayerEvent.PRESENTATION_SIZE_CHANGE,\n    [NotificationName.FULLSCREEN_ENTER]: PlayerEvent.FULLSCREEN_ENTER,\n    [NotificationName.FULLSCREEN_EXIT]: PlayerEvent.FULLSCREEN_EXIT,\n    [NotificationName.MOUSE_ENTER_PRESENTATION]: PlayerEvent.MOUSE_ENTER_PRESENTATION,\n    [NotificationName.MOUSE_LEAVE_PRESENTATION]: PlayerEvent.MOUSE_LEAVE_PRESENTATION,\n\n    [NotificationName.LANGUAGE_CHANGE]: PlayerEvent.LANGUAGE_CHANGE,\n\n    [NotificationName.USER_KEYBOARD_COMMAND]: PlayerEvent.USER_KEYBOARD_COMMAND,\n\n    [NotificationName.AUTOPLAY_BLOCKED]: PlayerEvent.AUTOPLAY_BLOCKED,\n}\n\n\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","import { Emitter } from '../core/Emitter';\nimport { StrAnyDict } from '../iface/StrAnyDict';\n\nexport class RecoveryEnabledRequest extends Emitter {\n\n    private retryCount: number = 0;\n    private limit: number = 0;\n    private retryIntervals: number[] | null = null;\n\n    constructor(options: StrAnyDict) {\n        super(options);\n\n        const er = this.opts.errorRecovery;\n\n        if (er && !isNaN(er.retryAttempts) && er.retryAttempts > 0) {\n            this.limit = er.retryAttempts; \n        }\n\n        if (er && er.retryIntervals && Array.isArray(er.retryIntervals)) {\n            this.retryIntervals = er.retryIntervals; \n        }\n    }\n\n    protected shouldRetry(): boolean {\n        return this.limit && !this.atLimit;\n    }\n\n    protected incrementAttempts(): void {\n        this.retryCount++;\n    }\n\n    protected get retryLimit(): number {\n        return this.limit;\n    }\n\n    protected get atLimit(): boolean {\n        return this.retryCount == this.limit;\n    }\n\n    protected get retryInterval(): number {\n        return (this.retryIntervals && this.retryIntervals[this.retryCount - 1]) || this.retryCount * 300;\n    }\n}","import axios from 'axios';\nimport { Util } from '../core/Util';\nimport { AsyncDataRequestOptionsInterface } from \"../iface/AsyncDataRequestOptionsInterface\";\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { StrStrDict } from \"../iface/StrStrDict\";\nimport { XhrResponseInterface } from \"../iface/XhrResponseInterface\";\nimport { RecoveryEnabledRequest } from './RecoveryEnabledRequest';\n\nexport type AsyncDataLoadOptions = Omit<AsyncDataRequestOptionsInterface, 'onComplete'>;\n\n/*\nXHR package\n    https://github.com/axios/axios\n*/\n\nexport class AsyncDataRequest extends RecoveryEnabledRequest {\n\n    static event: StrStrDict = {\n        COMPLETE: \"complete\"\n    }\n\n    static statusMessages: StrStrDict = {\n        '0': 'Request failed; blocked or timed out',\n        '500': 'Server error encountered.',\n        '404': 'Resource not found.',\n        '403': 'Access denied.'\n    }\n\n    static load(options: AsyncDataLoadOptions): Promise<StrAnyDict> {\n        return new Promise((resolve, reject) => {\n            options.onComplete = ({ data }: StrAnyDict) => (data.error || data.timedOut) ? reject(data) : resolve(data);\n            new AsyncDataRequest(<AsyncDataRequestOptionsInterface>options);\n        });\n    }\n\n    constructor(options: AsyncDataRequestOptionsInterface) {\n        super(options);\n\n        if (this.opts.url) {\n            this.createXhr();\n        }\n    }\n\n    createXhr(): void {\n        axios(this.opts)\n            .then((response: XhrResponseInterface) => {\n                if (response.headers['content-type'].indexOf('application/smil') >= 0) {\n                    response.data = this.processSmilResponse(<string>response.data);\n                }\n                if (response.data === null) {\n                    this.emitCompleteWithError('Unable to parse response.', response.config);\n                }\n                else {\n                    // This is on a timeout to avoid triggering the catch clause \n                    // if a downstream exception occurs in response handling code.\n                    setTimeout(() => { this.emitComplete(response); }, 1);\n                }\n            })\n            .catch((error) => {\n                if (this.shouldRetry()) {\n                    this.incrementAttempts();\n                    setTimeout(() => { this.createXhr(); }, this.retryInterval);\n                }\n                else {\n                    const msg = error.response || AsyncDataRequest.statusMessages['0'];\n                    this.emitCompleteWithError(msg, error.config);\n                }\n            });\n    }\n\n    private emitComplete(res: XhrResponseInterface) {\n        this.emit(AsyncDataRequest.event.COMPLETE, {\n            response: res.data,\n            contentType: res.headers['content-type'],\n            error: false\n        });\n    }\n\n    private emitCompleteWithError(errResponse: XhrResponseInterface | string, cfg: AsyncDataRequestOptionsInterface): void {\n        const msg = Util.isString(errResponse) ? errResponse : null,\n            res = !msg ? <XhrResponseInterface>errResponse : null;\n\n        this.emit(AsyncDataRequest.event.COMPLETE, {\n            status: res && res.status,\n            error: true,\n            url: cfg && cfg.url || 'not available',\n            message: msg || this.getMsg(res && res.status || 0, res && res.data || null)\n        });\n    }\n\n    private getMsg(stat: number, errorData: any): string {\n        let m = AsyncDataRequest.statusMessages['' + stat];\n\n        if (!m) {\n            m = Util.isString(errorData) ? errorData : \"Unspecified error\";\n        }\n\n        return \"XhrDataRequest error: \" + m;\n    }\n\n    private processSmilResponse(data: string): any {\n        const parser = new DOMParser(),\n            parsedData = parser.parseFromString(data, 'application/xml');\n\n        return parsedData instanceof Document ? parsedData : null;\n    }\n}\n","export enum XhrResponseType {\n    ARRAY_BUFFER = 'arraybuffer',\n    TEXT = 'text',\n    JSON = 'json',\n    DOCUMENT = 'document',\n    DEFAULT = '',\n}\n","import { XhrResponseType } from '../enum/XhrResponseType';\nimport { AsyncDataRequestOptionsInterface } from '../iface/AsyncDataRequestOptionsInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\n\nexport class AsyncDataRequestOptions {\n\n    protected constructor() { }\n\n    static create(options: AsyncDataRequestOptionsInterface): AsyncDataRequestOptionsInterface {\n\n        return {\n            url: options.url || '',\n            method: options.method || 'get',\n            timeout: options.timeout || 4000,\n            headers: options.headers || {},\n            data: this.getBody(options.data, options.encodeList, options.sendJson),\n            withCredentials: options.withCredentials === true,\n            responseType: options.responseType || XhrResponseType.JSON,\n            onComplete: options.onComplete || null,\n            errorRecovery: options.errorRecovery || null\n        };\n    }\n\n    /**\n     * @param objOrStr - can be a plain object or string\n     * @param enc - if supplying an object, an array of property names whose values should be encoded\n     * @param asJson - set TRUE if the body should be sent as a JSON string\n     */\n    private static getBody(objOrStr: StrAnyDict | string, enc: string[], asJson: boolean = false): string {\n        if (!objOrStr) return null;\n        if (typeof objOrStr === 'string') return objOrStr;\n        if (!Object.keys(objOrStr).length) return null;\n\n        const useEnc = Array.isArray(enc) && enc.length;\n        !useEnc && (enc = []);\n\n        for (let q in objOrStr) {\n            objOrStr[q] = this.getValue(q, objOrStr[q], enc);\n        }\n\n        // return JSON\n        if (asJson) {\n            return JSON.stringify(objOrStr);\n        }\n\n        // return string (form-urlencoded)\n        let str = '', v;\n\n        for (let q in objOrStr) {\n            v = objOrStr[q];\n            v !== null && v != undefined && v != '' && (str += `${q}=${v}&`);\n        }\n        str = str.substr(0, str.length - 1);\n\n        return str;\n    }\n\n    private static getValue(name: string, val: string, enc: string[]): string {\n        return enc.indexOf(name) >= 0 ? encodeURIComponent(val) : val;\n    }\n\n}\n","\nexport enum QualityCategory {\n    SD = 'SD',\n    HD = 'HD',\n    UHD = 'UHD'\n}\n\n\n","import { QualityCategory } from '../enum/QualityCategory';\n\nexport const QualityMap = {\n    [QualityCategory.UHD]: 1080,\n    [QualityCategory.HD]: 720,\n    [QualityCategory.SD]: 0,\n}\n\n","import { Logger } from '../core/Logger';\nimport { Util } from '../core/Util';\nimport { QualityCategory } from '../enum/QualityCategory';\nimport { ServiceName } from '../enum/ServiceName';\nimport { SystemServiceInterface } from '../iface';\nimport { BuildInfoInterface } from '../iface/BuildInfoInterface';\nimport { ConfigInterface } from '../iface/ConfigInterface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { QualityInterface } from '../iface/QualityInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { PlaylistProxy } from '../model/PlaylistProxy';\nimport { SystemService } from '../service/SystemService';\nimport { QualityMap } from './QualityMap';\n\n\nexport class Utils {\n\n    static getMinAndMaxValuesForCategory(list: QualityInterface[], category: string): Record<string, number> {\n        let minIndex = Infinity;\n        let maxIndex = 0;\n        let minBitrate = Infinity;\n        let maxBitrate = 0;\n\n        list.forEach(q => {\n            if (q.category.indexOf(category) >= 0) {\n                maxIndex = Math.max(maxIndex, q.index);\n                minIndex = Math.min(minIndex, q.index);\n                maxBitrate = Math.max(maxBitrate, q.bitrate);\n                minBitrate = Math.min(minBitrate, q.bitrate);\n            }\n        });\n\n        return { maxIndex, minIndex, minBitrate, maxBitrate };\n    }\n\n    static getQualityCategoryForVideoHeight(ht: number): QualityCategory {\n        const m = QualityMap;\n\n        if (ht >= m[QualityCategory.UHD]) return QualityCategory.UHD;\n\n        if (ht >= m[QualityCategory.HD]) return QualityCategory.HD;\n\n        return QualityCategory.SD;\n    }\n\n    static getIndexForBitrate(list: StrAnyDict[], bitrate: number, isMinLookup: boolean): number {\n        /*\n         * | --400--- | --800--- | --1000--- | --1500--- | --2500--- |    minify true should result in 1000\n         *               <----  900 is bitrate ------->\n         * | --400--- | --800--- | --1000--- | --1500--- | --2500--- |    minify undefined or false should result in 800\n         */\n        if (!list) {\n            return 0;\n        }\n\n        let i = list.length - 1;\n        if (bitrate >= list[i].bitrate) {\n            return i; //bit rate is out of range - upper bounds\n        }\n\n        while (i--) {\n            const rate = list[i].bitrate;\n            if (isMinLookup) {\n                if (bitrate > rate) {\n                    return i + 1;\n                }\n            }\n            else {\n                if (bitrate >= rate) {\n                    return i;\n                }\n            }\n        }\n\n        return 0; //bit rate is out of range - lower bounds\n    }\n\n    static classFromQualifiedName(qName: string): any | null {\n        if (!Util.isString(qName)) {\n            return qName;\n        }\n\n        const g = SystemService.getInstance(ServiceName.System).global;\n\n        let a = qName.split('.'),\n            o = <StrAnyDict>g,\n            len = a.length,\n            i, n;\n\n        if (a[0] === 'window') {\n            a = a.slice(1);\n            len = a.length;\n        }\n\n        for (i = 0; i < len; i++) {\n            n = a[i];\n            if (o[n] === undefined) {\n                Logger.error(`Util.classFromQualifiedName: '${qName}' is undefined.`);\n                return null;\n            }\n            o = o[n];\n        }\n\n        return o;\n    }\n\n    static serializeConfigSnapshot(playerOptions: PlayerOptionsInterface, playlist: PlaylistProxy, buildInfo: BuildInfoInterface, system: SystemServiceInterface, spacing: number = 0) {\n        const r = playlist.currentResource ? JSON.parse(JSON.stringify(playlist.currentResource)) : {};\n\n        // remove props with null and NaN values\n        const rmNullAndNan = (p: any): any => {\n            const t = typeof p;\n            const del = '\\0';\n\n            if (p && t == 'object') {\n                for (const q in p) {\n                    const v = rmNullAndNan(p[q]);\n                    if (v === del) delete p[q];\n                    else p[q] = v;\n                }\n                return p;\n            }\n            else {\n                return p === null || (t === 'number' && isNaN(p)) ? del : p;\n            }\n        };\n        rmNullAndNan(r);\n\n        // mod player options\n        const poStr = JSON.stringify(playerOptions.data);\n        const po = JSON.parse(poStr);\n\n        delete po.dataTransformers;\n        po.container = null;\n\n        const out: ConfigInterface = {\n            buildInfo: buildInfo,\n            playerOptions: po,\n            resource: r,\n            system: system.info,\n        };\n\n        return JSON.stringify(out, null, spacing);\n    }\n}\n","/* Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port by Video Technology Group, CBSi Inc. */\n\nimport { FacadeInterface, NotifierInterface } from '../iface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { Facade } from './Facade';\n\n\n/**\n * @hideconstructor\n */\nexport class Notifier implements NotifierInterface {\n\n    protected multiCoreKey: string;\n\n    constructor() {\n        this.multiCoreKey = null;\n    }\n\n    /**\n     * @ignore\n     */\n    destroy() {\n        // no impl\n    }\n\n    /**\n    * @ignore\n    */\n    onRemove() {\n        this.multiCoreKey = null;\n    }\n\n    /**\n    * @ignore\n    */\n    get facade(): FacadeInterface {\n        return Facade.getInstance(this.multiCoreKey);\n    }\n\n    /**\n    * @ignore\n    */\n    sendNotification(notificationName: string, body?: StrAnyDict, type?: string): void {\n        let f = this.facade;\n        f && f.sendNotification(notificationName, body, type);\n    }\n\n    /**\n    * @ignore\n    */\n    initializeNotifier(key: string): void {\n        this.multiCoreKey = key;\n    }\n}\n","/* Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port by Video Technology Group, CBSi Inc. */\n\nimport { ModelName } from \"../enum/ModelName\";\nimport { ProxyName } from \"../enum/ProxyName\";\nimport { ServiceName } from \"../enum/ServiceName\";\nimport { MediatorInterface, NotificationInterface, SystemServiceInterface } from \"../iface\";\nimport { ModelCollectionProxy } from '../model/ModelCollectionProxy';\nimport { Notifier } from \"./Notifier\";\n\nexport abstract class AbstractMediator extends Notifier implements MediatorInterface {\n\n    private pViewControl: any;\n    private readonly mediatorName: string;\n\n    protected constructor(name: string, viewControl?: any) {\n        super();\n\n        this.pViewControl = null;\n        this.mediatorName = name;\n\n        viewControl && (this.viewControl = viewControl);\n    }\n\n    get name(): string {\n        return this.mediatorName;\n    }\n\n    set viewControl(viewControl: any) {\n        this.pViewControl = viewControl;\n    }\n\n    get viewControl(): any {\n        return this.pViewControl;\n    }\n\n    get systemService(): SystemServiceInterface {\n        return <SystemServiceInterface>this.facade.retrieveService(ServiceName.System);\n    }\n\n    getService<T>(name: ServiceName): T | null {\n        return this.facade ? <T><unknown>(this.facade.retrieveService(name)) : null;\n    }\n\n    getModel<T>(name: ModelName): T {\n        return <T>(this.getModelCollection().getModel(name));\n    }\n\n    getProxy<T>(name: ProxyName): T {\n        return this.facade ? <T><unknown>(this.facade.retrieveProxy(name)) : null;\n    }\n\n    getModelCollection(): ModelCollectionProxy {\n        return this.facade ? <ModelCollectionProxy>this.facade.retrieveProxy(ProxyName.ModelCollectionProxy) : null;\n    }\n\n    listNotificationInterests(): string[] {\n        return [];\n    }\n\n    abstract handleNotification(notification: NotificationInterface): void;\n\n    onRegister(): void {\n        /* implementation optional */\n    }\n\n    onRemove(): void {\n        this.pViewControl = null;\n        super.onRemove();\n    }\n}\n","import { LoggerInterface } from '../iface/LoggerInterface';\nimport { AbstractMediator } from '../mvc/AbstractMediator';\n\n\nexport abstract class LogAwareMediator extends AbstractMediator {\n\n    constructor(name: string, viewControl?: any) {\n        super(name, viewControl);\n    }\n\n    // It may be useful to pass the logger to lower level components\n    // (which don't have facade access), if logging is desired at that level.\n    get logger(): LoggerInterface {\n        return this.facade.logger;\n    }\n\n    log(...args: any[]): void {\n        this.logger.log.apply(this.logger, args);\n    }\n}\n","import { event_map } from '../app/event_map';\nimport { Logger } from '../core/Logger';\nimport { Util } from '../core/Util';\nimport { AsyncDataRequest } from '../dataservice/AsyncDataRequest';\nimport { AsyncDataRequestOptions } from '../dataservice/AsyncDataRequestOptions';\nimport { LogLevel } from '../enum/LogLevel';\nimport { MediatorName } from '../enum/MediatorName';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { PlayerEvent } from '../enum/PlayerEvent';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ServiceName } from '../enum/ServiceName';\nimport { StreamType } from '../enum/StreamType';\nimport {\n    ApplicationInterface,\n    BuildInfoServiceInterface,\n    MediatorInterface, NotificationInterface,\n    PlayerDomProxyInterface,\n    PresentationMediatorInterface,\n\n    SystemServiceInterface, UiMediatorInterface\n} from '../iface';\nimport { AdCuePointInterface } from '../iface/AdCuePointInterface';\nimport { AsyncDataRequestOptionsInterface } from '../iface/AsyncDataRequestOptionsInterface';\nimport { AutoplayInfoInterface } from '../iface/AutoplayInfoInterface';\nimport { DimensionsInterface } from '../iface/DimensionsInterface';\nimport { EventInterface } from '../iface/EventInterface';\nimport { ModelSnapshotInterface } from '../iface/ModelSnapshotInterface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { PlaylistInterface } from '../iface/PlaylistInterface';\nimport { PresentationStateInterface } from '../iface/PresentationStateInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { VideoPlayerInterface } from '../iface/VideoPlayerInterface';\nimport { ContentPlaybackStateProxy } from '../model/ContentPlaybackStateProxy';\nimport { ModelCollectionProxy } from '../model/ModelCollectionProxy';\nimport { PlaylistProxy } from '../model/PlaylistProxy';\nimport { AutoplayCapabilitiesService } from '../service/AutoplayCapabilitiesService';\nimport { Utils } from '../util/Utils';\nimport { LogAwareMediator } from \"./LogAwareMediator\";\nimport { PluginMediator } from './PluginMediator';\nimport { FullscreenMediator } from './FullscreenMediator';\n\n\nexport class AppMediator extends LogAwareMediator implements MediatorInterface {\n\n    private app: ApplicationInterface;\n\n    constructor(name: string, app: ApplicationInterface) {\n        super(name);\n\n        this.app = app;\n    }\n\n    setFullscreenElement(el: HTMLElement): void {\n        const fsm = <FullscreenMediator>this.facade.retrieveMediator(MediatorName.FULLSCREEN);\n        fsm.fullscreenElement = el;\n    }\n\n    getFullscreenElement(): HTMLElement {\n        const fsm = <FullscreenMediator>this.facade.retrieveMediator(MediatorName.FULLSCREEN);\n\n        return fsm.fullscreenElement;\n    }\n\n    onRemove() {\n        this.app = null;\n        super.onRemove();\n    }\n\n    getAppApi(): VideoPlayerInterface {\n        return this.app.getApi();\n    }\n\n    getSnapshot(): ModelSnapshotInterface {\n        return (<ModelCollectionProxy>this.getProxy(ProxyName.ModelCollectionProxy)).collection.getSnapshot();\n    }\n\n    getConfigAsJson(spacing?: number): string {\n        const m = <ModelCollectionProxy>this.getProxy(ProxyName.ModelCollectionProxy);\n        const o = <PlayerOptionsInterface>m.getModel(ModelName.PlayerOptions);\n        const p = <PlaylistProxy>this.getProxy(ProxyName.Playlist);\n        const b = <BuildInfoServiceInterface>this.facade.retrieveService(ServiceName.BuildInfo);\n        const s = <SystemServiceInterface>this.facade.retrieveService(ServiceName.System);\n\n        return Utils.serializeConfigSnapshot(o, p, b.toObject(), s, spacing);\n    }\n\n    validateSeek(position: number, duration: number): number | null {\n        if (isNaN(position)) {\n            this.log(LogLevel.WARN, `Invalid seek() time [${position}] supplied`);\n\n            return null;\n        }\n\n        const pm = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n        const pbp = <ContentPlaybackStateProxy>this.getProxy(ProxyName.ContentPlaybackStateProxy);\n        const linear = pbp && pbp.model.streamType === StreamType.LIVE;\n\n        if (!pm || !pbp || pm.isCurrentVideoAd || linear) {\n            this.log(LogLevel.WARN, 'seek() may not be called in the current context');\n\n            return null;\n        }\n\n        return Util.clampValue(position, 0, duration);\n    }\n\n    isPlaybackSuspended(): boolean {\n        const pm = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n        return pm.suspended;\n    }\n\n    getAutoplayCapabilities(): Promise<AutoplayInfoInterface> {\n        const apc = <AutoplayCapabilitiesService>this.getService(ServiceName.AutoplayCapabilities);\n\n        return apc.detectCapabilities();\n    }\n\n    getContainerRect(): ClientRect | null {\n        const domProxy = <PlayerDomProxyInterface>this.getProxy(ProxyName.PlayerDomProxy);\n\n        return domProxy ? domProxy.getPresentationRect() : null;\n    }\n\n    getCurrentResource(): ResourceConfigurationInterface | null {\n        const plist = <PlaylistInterface>this.getProxy(ProxyName.Playlist);\n\n        return plist ? plist.currentResource : null;\n    }\n\n    killCurrentResource(): Promise<void> {\n        const pm = <PresentationMediatorInterface>this.facade.retrieveMediator(MediatorName.PRESENTATION_MEDIATOR);\n        this.log(LogLevel.INFO, 'Killing current resource');\n\n        return Promise.resolve()\n            .then(() => pm && pm.close())\n            .then(() => {\n                const plist = <PlaylistInterface>this.getProxy(ProxyName.Playlist);\n                plist && plist.removeResourceAtIndex(plist.currentIndex);\n            })\n            .catch((e: Error) => {\n                Logger.error(e);\n            });\n    }\n\n    performXhr(options: AsyncDataRequestOptionsInterface): void {\n        new AsyncDataRequest(AsyncDataRequestOptions.create(options));\n    }\n\n    getPlugin(name: string): any {\n        const pim = <PluginMediator>this.facade.retrieveMediator(MediatorName.PLUGIN_MEDIATOR);\n\n        return pim ? pim.getPlugin(name) : null;\n    }\n\n    dispatchPluginEvent(data: StrAnyDict) {\n        this.app.sendEvent(PlayerEvent.PLUGIN_EVENT, data);\n    }\n\n    prepForPlayerRemoval(): void {\n        const uim = <UiMediatorInterface>this.facade.retrieveMediator(MediatorName.UI);\n        if (!uim) { return; }\n        uim.killUi();\n        this.log(LogLevel.INFO, 'UI layer destroyed');\n    }\n\n    getMuteState(): boolean {\n        const presoModel = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n        return presoModel ? presoModel.isMuted : null;\n    }\n\n    getVolume(): number {\n        const presoModel = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n        return presoModel ? presoModel.volume : NaN;\n    }\n\n    getDimensions(): DimensionsInterface {\n        const domProxy = <PlayerDomProxyInterface>this.getProxy(ProxyName.PlayerDomProxy);\n        return domProxy ? domProxy.getDimensions() : null;\n    }\n\n    getAdBreakTimes(): AdCuePointInterface[] {\n        const pm = <PresentationMediatorInterface>this.facade.retrieveMediator(MediatorName.PRESENTATION_MEDIATOR);\n        return pm ? pm.getAdBreakTimes() : null;\n    }\n\n    grabFrame(): HTMLImageElement | null {\n        const domProxy = <PlayerDomProxyInterface>this.getProxy(ProxyName.PlayerDomProxy),\n            vidEl = domProxy && domProxy.getVideo();\n\n        if (!domProxy || !vidEl) { return null; }\n\n        const cvs = document.createElement('canvas');\n        let ctx, dUrl, img;\n\n        ctx = cvs.getContext('2d');\n        const w = cvs.width = vidEl.videoWidth;\n        const h = cvs.height = vidEl.videoHeight;\n        ctx.drawImage(<HTMLVideoElement>vidEl, 0, 0, w, h);\n        dUrl = cvs.toDataURL();\n\n        img = document.createElement('img');\n        img.setAttribute('src', dUrl);\n\n        return img;\n    }\n\n    listNotificationInterests(): string[] {\n        return [\n            NotificationName.APP_EVENT\n        ];\n    }\n\n    sendErrorEvent(event: EventInterface): void {\n        this.app.sendErrorEvent(event);\n    }\n\n    handleNotification(notification: NotificationInterface): void {\n        const b = notification.body;\n        const pe = event_map[b.notificationName];\n\n        switch (notification.name) {\n            case NotificationName.APP_EVENT:\n                pe && this.app.sendEvent(pe, b.data || null);\n                break;\n        }\n    }\n\n    onRegister(): void {\n        super.onRegister();\n    }\n}\n","export enum AccessibilityAction {  \n    ENTER_FULLSCREEN = 'enterFullScreen',\n    INCREASE_VOLUME = 'increaseVolume',\n    DECREASE_VOLUME = 'decreaseVolume',\n    SEEK_BACK = 'seekBack',\n    SEEK_FORWARD = 'seekForward',\n    TOGGLE_PLAY = 'togglePlay',\n    TOGGLE_TT = 'toggleTextTrack',\n    TOGGLE_MUTE = 'toggleMute',\n    PLAYLIST_NEXT = 'playListNext',\n    PLAYLIST_PREV = 'playListPrev',\n    STOP = 'stop',\n}\n","export enum DiagnosticAction {\n    DIAGNOSTIC_PLUGIN = 'toggleDiagnosticPlugin',\n    CONFIG_TO_CLIPBOARD = 'configToClipboard',\n    CONFIG_TO_TEST_PAGE = 'configToTestPage',\n}","\n// Non-printing keys; used mainly for Accessibility\nexport enum NonPrintingKey {\n    SPACE = ' ',\n    ENTER = 'Enter',\n    TAB = 'Tab',\n    CONTROL = 'Control',\n    SHIFT = 'Shift',\n    ESCAPE = 'Escape',\n    META = 'Meta',\n    ARROW_LEFT = 'ArrowLeft',\n    ARROW_RIGHT = 'ArrowRight',\n    ARROW_UP = 'ArrowUp',\n    ARROW_DOWN = 'ArrowDown',\n}\n","/**\n * see [Plugins](../../guides/Plugins.md) for details.\n */\nexport enum PluginPriority {\n    /**\n     * Low priority plugins load after content starts\n     */\n    LOW = 'low',\n\n    /**\n     * High priority plugins load before content starts\n     */\n    HIGH = 'high',\n}\n","\nexport const KeyCode = {\n    ALT: 18,\n    BACKSPACE: 8,\n    CAPS_LOCK: 20,\n    CONTROL: 17,\n    END: 35,\n    ENTER: 13,\n    TAB: 9,\n    SHIFT: 16,\n    ESCAPE: 27,\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    LEFT_ARROW: 37,\n    UP_ARROW: 38,\n    RIGHT_ARROW: 39,\n    DOWN_ARROW: 40,\n    INSERT: 45,\n    DELETE: 46,\n    SPACE: 32,\n    \"0\": 48,\n    \"1\": 49,\n    \"2\": 50,\n    \"3\": 51,\n    \"4\": 52,\n    \"5\": 53,\n    \"6\": 54,\n    \"7\": 55,\n    \"8\": 56,\n    \"9\": 57,\n    A: 65,\n    B: 66,\n    C: 67,\n    D: 68,\n    E: 69,\n    F: 70,\n    G: 71,\n    H: 72,\n    I: 73,\n    J: 74,\n    K: 75,\n    L: 76,\n    M: 77,\n    N: 78,\n    O: 79,\n    P: 80,\n    Q: 81,\n    R: 82,\n    S: 83,\n    T: 84,\n    U: 85,\n    V: 86,\n    W: 87,\n    X: 88,\n    Y: 89,\n    Z: 90,\n    NUM_0: 96,\n    NUM_1: 97,\n    NUM_2: 98,\n    NUM_3: 99,\n    NUM_4: 100,\n    NUM_5: 101,\n    NUM_6: 102,\n    NUM_7: 103,\n    NUM_8: 104,\n    NUM_9: 105,\n    MULTIPLY: 106,\n    ADD: 107,\n    SUBTRACT: 109,\n    DECIMAL: 110,\n    DIVIDE: 111,\n    SEMICOLON: 186,\n    EQUAL: 187,\n    COMMA: 188,\n    DASH: 189,\n    PERIOD: 190,\n    FORWARD_SLASH: 191,\n    BACKSLASH: 220,\n    GRAVE_ACCENT: 192,\n    OPEN_BRACKET: 219,\n    CLOSE_BRACKET: 221,\n    SINGLE_QUOTE: 222,\n    MEDIA_TOGGLE_PLAY: 179,\n    MEDIA_TOGGLE_MUTE: 173,\n    MEDIA_STOP: 178,\n    MEDIA_INCREASE_VOLUME: 175, \n    MEDIA_INCREASE_VOLUME_ALT: 183,\n    MEDIA_DECREASE_VOLUME: 174,\n    MEDIA_DECREASE_VOLUME_ALT: 182,\n    MEDIA_PLAYLIST_NEXT: 176,\n    MEDIA_PLAYLIST_PREV: 177,\n};\n","import { AccessibilityAction } from '../enum/AccessibilityAction';\nimport { DiagnosticAction } from '../enum/DiagnosticAction';\nimport { NonPrintingKey } from '../enum/NonPrintingKey';\nimport { PluginPriority } from '../enum/PluginPriority';\nimport { AppMessageInterface, KeyCommandDef } from '../iface';\nimport { PluginConfigInterface } from '../iface/PluginConfigInterface';\nimport { KeyCode } from '../util/KeyCode';\n\n\nexport class AppResources {\n\n    protected constructor() { }\n\n    static blankVideoUrl: string = 'https://vidtech.cbsinteractive.com/h5/blanks/uvp_blank.mp4';\n\n    static userKeyCmdDefs: KeyCommandDef[] = [\n        {\n            action: DiagnosticAction.DIAGNOSTIC_PLUGIN,\n            primaryKey: 'd',\n            keyCode: KeyCode.D,\n            requireCtrl: true,\n            requireShift: true\n        },\n        {\n            action: DiagnosticAction.CONFIG_TO_CLIPBOARD,\n            primaryKey: 'c',\n            keyCode: KeyCode.C,\n            requireCtrl: true,\n            requireShift: true\n        },\n        {\n            action: DiagnosticAction.CONFIG_TO_TEST_PAGE,\n            primaryKey: 't',\n            keyCode: KeyCode.T,\n            requireCtrl: true,\n            requireShift: true\n        },\n    ];\n\n    static accessibilityKeyCmdDefs: KeyCommandDef[] = [\n        {\n            action: AccessibilityAction.ENTER_FULLSCREEN,\n            primaryKey: 'f',\n            keyCode: KeyCode.F,\n        },\n        {\n            action: AccessibilityAction.INCREASE_VOLUME,\n            primaryKey: NonPrintingKey.ARROW_UP,\n            keyCode: KeyCode.UP_ARROW,\n        },\n        {\n            action: AccessibilityAction.INCREASE_VOLUME,\n            primaryKey: null,\n            keyCode: KeyCode.MEDIA_INCREASE_VOLUME,\n        },\n        {\n            action: AccessibilityAction.INCREASE_VOLUME,\n            primaryKey: null,\n            keyCode: KeyCode.MEDIA_INCREASE_VOLUME_ALT,\n        },\n        {\n            action: AccessibilityAction.DECREASE_VOLUME,\n            primaryKey: NonPrintingKey.ARROW_DOWN,\n            keyCode: KeyCode.DOWN_ARROW,\n        },\n        {\n            action: AccessibilityAction.DECREASE_VOLUME,\n            primaryKey: null,\n            keyCode: KeyCode.MEDIA_DECREASE_VOLUME,\n        },\n        {\n            action: AccessibilityAction.DECREASE_VOLUME,\n            primaryKey: null,\n            keyCode: KeyCode.MEDIA_DECREASE_VOLUME_ALT,\n        },\n        {\n            action: AccessibilityAction.SEEK_BACK,\n            primaryKey: NonPrintingKey.ARROW_LEFT,\n            keyCode: KeyCode.LEFT_ARROW,\n        },\n        {\n            action: AccessibilityAction.SEEK_FORWARD,\n            primaryKey: NonPrintingKey.ARROW_RIGHT,\n            keyCode: KeyCode.RIGHT_ARROW,\n        },\n        {\n            action: AccessibilityAction.TOGGLE_PLAY,\n            primaryKey: NonPrintingKey.SPACE,\n            keyCode: KeyCode.SPACE,\n        },\n        {\n            action: AccessibilityAction.TOGGLE_PLAY,\n            primaryKey: null,\n            keyCode: KeyCode.MEDIA_TOGGLE_PLAY,\n        },\n        {\n            action: AccessibilityAction.TOGGLE_MUTE,\n            primaryKey: 'm',\n            keyCode: KeyCode.M,\n        },\n        {\n            action: AccessibilityAction.TOGGLE_MUTE,\n            primaryKey: '-',\n            keyCode: KeyCode.SUBTRACT,\n        },\n        {\n            action: AccessibilityAction.TOGGLE_MUTE,\n            primaryKey: null,\n            keyCode: KeyCode.MEDIA_TOGGLE_MUTE,\n        },\n        {\n            action: AccessibilityAction.TOGGLE_TT,\n            primaryKey: 'c',\n            keyCode: KeyCode.C,\n        },\n        {\n            action: AccessibilityAction.STOP,\n            primaryKey: null,\n            keyCode: KeyCode.MEDIA_STOP\n        },\n        {\n            action: AccessibilityAction.PLAYLIST_NEXT,\n            primaryKey: null,\n            keyCode: KeyCode.MEDIA_PLAYLIST_NEXT\n        },\n        {\n            action: AccessibilityAction.PLAYLIST_PREV,\n            primaryKey: null,\n            keyCode: KeyCode.MEDIA_PLAYLIST_PREV\n        },\n    ];\n\n    static nativePluginConfig: Record<string, PluginConfigInterface> = {\n        diagnostic: {\n            name: 'VtgDiagnosticPlugin',\n            url: 'https://vidtech.cbsinteractive.com/cv-plugins/diagnostic/{{VER}}/diagnostic.min.js',\n            qualifiedClassName: 'window.VtgDiagnosticPlugin',\n            priority: PluginPriority.HIGH,\n            options: null\n        },\n        replay: {\n            name: 'VtgReplayPlugin',\n            url: 'https://vidtech.cbsinteractive.com/cv-plugins/replay/{{VER}}/replay.min.js',\n            qualifiedClassName: 'window.VtgReplayPlugin',\n            priority: PluginPriority.LOW\n        }\n    }\n\n    static messages: AppMessageInterface = {\n        ABR_UNAVAILABLE: \"Single bitrate stream detected, adaptive bitrate system is unavailable\",\n        ABR_MANUAL_SWITCHING_REACHED_LOWER_BOUNDS: \"You have reached the lowest available quality for this presentation.\",\n        ABR_MANUAL_SWITCHING_REACHED_UPPER_BOUNDS: \"You have reached the highest available quality for this presentation at this screen size\",\n        ABR_MIN_BITRATE_RESTRICTION_UNAVAILABLE: 'Min bitrate restrictions are not offered with this streaming library',\n        AD_STALLED: 'Stalled ad detected',\n        ADAPTER_UNAVAILABLE: 'Unable to play the requested resource - mediaUrl not recognized',\n        ADAPTER_LIB_UNAVAILABLE: 'Unable to play the requested resource - External library is not loading',\n        CAP_LEVEL_MAXBITRATE: 'Max bitrate setting will be ignored since capQualityToPlayerSize is enabled',\n        CMS_RESOURCE_UNAVAILABLE: 'Resource unavailable',\n        CMS_UNKNOWN: 'CMS not supported',\n        CONTENT_PLAYBACK_SETTING_IGNORED: 'This API is only available after the CONTENT_START event has been dispatched. This setting will be ignored.',\n        DAI_MISSING_ASSET_URL: 'Unexpected condition: valid assetUrl not found in DAI stream data',\n        DAI_SDK_UNAVAILABLE: 'A DAI SDK is required for playback, but is not found',\n        ENVIRONMENT_NOT_SUPPORTED: 'Unable to locate a global \"window\" object or suitable alternative',\n        FAIRPLAY_LICENSE_ERROR: 'Issue with fairplay DRM and the provided license acquisition url',\n        FAIRPLAY_APP_CERT_ERROR: 'Issue creating a fairplay keysession with the provided application certificate',\n        FAIRPLAY_NO_CONTENT_ID: 'A valid content or asset id was not detected when creating fairplay drm session',\n        FAIRPLAY_WEBKIT_ERROR: 'Issue with webkit and keysession creations while using fairplay drm.',\n        FATAL_PLAYBACK_MEDIA_ERROR: 'Fatal media error, no option for recovery',\n        FATAL_PLAYBACK_NETWORK_ERROR: 'Fatal network error, no option for recovery',\n        IMA_SDK_MISSING: 'IMA SDK not found.',\n        INVALID_PLAYLIST_INDEX: 'Index provided to Playlist is out of range',\n        INVALID_RESOURCE: 'Resource configuration appears to be invalid',\n        MANUAL_ABR_SWITCHING_UNAVAILABLE: 'Native HTML5 Video does not allow manual bitrate switching',\n        PAUSING_LINEAR_LIVE_STREAM_NOT_ALLOWED: 'StreamType.LIVE is detected. Redirecting to the stop method since a DVR window is not detected.',\n        PLUGIN_LOAD_ERROR: \"Unable to load plugin from url\",\n        RESOURCE_NOT_SUPPORTED: 'Resource is not recognized or is currently unsupported',\n        RETRY_PLAYBACK_MEDIA_ERROR: 'Media error detected',\n        RETRY_PLAYBACK_NETWORK_ERROR: 'Network error detected',\n        UNEXPECTED_CONDITION: 'An unexpected condition was encountered',\n        UNSPECIFIED_ERROR: 'Unspecified error',\n        VIDEO_PLAYBACK_UNAVAILABLE: 'Unable to locate a video element or suitable alternative',\n        WEBKIT_KEY_ADDED_SUCCESS: \"Webkit key added successfully\",\n        WEBKIT_MEDIA_KEYS_NOT_SUPPORTED: 'WebKitMediaKeys are not supported for this type of media on this user agent'\n    }\n}\n\n","import { AppResources } from '../app/AppResources';\nimport { Browser } from '../enum/Browser';\nimport { Os } from '../enum/Os';\nimport { ServiceName } from '../enum/ServiceName';\nimport { AutoplayInfoInterface, SystemServiceInterface } from '../iface';\nimport { ServiceBase } from './ServiceBase';\n\n\nexport class AutoplayCapabilitiesService extends ServiceBase {\n\n    private info: AutoplayInfoInterface;\n    private testDom: HTMLElement = null;\n    private internalCallback: () => void;\n    private checkCompleted: boolean = false;\n\n    private readonly isMobile: boolean | null = null;\n    private readonly testVideoSrc: string;\n\n    constructor(name: string) {\n        super(name);\n\n        this.testVideoSrc = AppResources.blankVideoUrl;\n        this.info = {\n            supportsUnmutedAutoplay: null,\n            supportsMutedAutoplay: null\n        };\n    }\n\n    // Promise-based determination: Check unmuted first, then muted autoplay\n    detectCapabilities(): Promise<AutoplayInfoInterface> {\n        return new Promise(resolve => {\n            if (!this.checkCompleted) {\n                this.createTestDom();\n                this.internalCallback = () => resolve(this.info);\n                this.checkUnmutedAutoplay();\n            }\n            else {\n                resolve(this.info);\n            }\n        });\n    }\n\n    ///////////\n    // PRIVATE\n    private finishCheck(unmutedOk: boolean, mutedOk: boolean): void {\n        this.setInfo(unmutedOk, mutedOk);\n        this.checkCompleted = true;\n        this.internalCallback();\n        setTimeout(() => this.cleanUp(), 100);\n    }\n\n    private setInfo(unmutedOk: boolean, mutedOk: boolean): void {\n        this.info.supportsUnmutedAutoplay = unmutedOk;\n        this.info.supportsMutedAutoplay = mutedOk;\n    }\n\n    private cleanUp() {\n        this.testDom && this.testDom.parentNode.removeChild(this.testDom);\n        this.testDom = null;\n    }\n\n    private checkUnmutedAutoplay(): void {\n        const v = this.createVideoElement(false);\n\n        if (!v) {\n            // if not in a DOM or don't have a video element, \n            // assume autoplay is supported\n            this.finishCheck(true, true);\n\n            return;\n        }\n\n        v.load();\n\n        const promise = v.play();\n\n        if (promise === undefined) {\n            if (this.isMobile) {\n                this.detectMobileCapabilities();\n            }\n            else {\n                this.finishCheck(true, true);\n            }\n        }\n        else {\n            promise\n                .then(() => {\n                    this.finishCheck(true, true);\n                })\n                .catch((e: Error) => {\n                    this.checkMutedAutoplay();\n                });\n        }\n    }\n\n    private checkMutedAutoplay(): void {\n        // Disable autoplay for Safari versions < 11.0.3\n        // if only muted autoplay is permitted - i.e., treat\n        // 'Stop Media with Sound' same as 'No Autoplay'.\n        if (this.isEarlySafari11()) {\n            this.finishCheck(false, false);\n\n            return;\n        }\n\n        const v = this.createVideoElement(true);\n\n        v.load();\n        v.play() // if we're here, we know that Promise is supported\n            .then(() => {\n                this.finishCheck(false, true);\n            })\n            .catch((e) => {\n                this.finishCheck(false, false);\n            });\n    }\n\n    private isEarlySafari11(): boolean {\n        const si: SystemServiceInterface = this.sysInfo,\n            isS = si.browser === Browser.SAFARI,\n            isD = isS && si.device === 'desktop',\n            maj = isD ? si.browserVersionInfo.majorVersion : null,\n            min = isD ? si.browserVersionInfo.minorVersion : null,\n            majMinMatch = maj === 11 && min === 0,\n            verStr = si.browserVersionInfo.versionString,\n            verArr = verStr ? verStr.split('.') : null;\n\n        // return true for Safari < 11.0.3\n        return majMinMatch && (!verArr[2] || parseInt(verArr[2]) < 3);\n    }\n\n\n    // mobile checks where no Promise available\n    private detectMobileCapabilities(): void {\n        const unmutedOk = false,\n            mutedOk = this.isAutoplayEligibleAndroid() || this.isAutoplayEligibleIos();\n\n        this.finishCheck(unmutedOk, mutedOk);\n    }\n\n    private isAutoplayEligibleAndroid(): boolean {\n        let si: SystemServiceInterface = this.sysInfo,\n            isA = si.os === Os.ANDROID,\n            isOkChrome = isA && si.browser === Browser.CHROME && this.isChromeAutoplayEligible();\n\n        return isOkChrome;\n    }\n\n    private isAutoplayEligibleIos(): boolean {\n        let si: SystemServiceInterface = this.sysInfo,\n            is10 = si.os === Os.IOS && si.browserVersionInfo.majorVersion >= 10,\n            isOkSafari = is10 && si.browser === Browser.SAFARI,\n            isOkChrome = is10 && !isOkSafari &&\n                (si.browser === Browser.CHROME_IOS || si.browser === Browser.CHROME) &&\n                this.isChromeAutoplayEligible();\n\n        return isOkSafari || isOkChrome;\n    }\n\n    private isChromeAutoplayEligible(): boolean {\n        // reported variously as v53 or v54; using >= 54 for safety\n        return this.sysInfo.browserVersionInfo.majorVersion >= 54;\n    }\n\n    // util\n    private createVideoElement(muted: boolean): HTMLMediaElement | null {\n        const doc = this.document;\n        if (!doc) return null;\n\n        const v = doc.createElement('video');\n\n        if (muted) {\n            v.muted = true;\n            v.setAttribute('muted', 'muted');\n            v.setAttribute('playsinline', 'playsinline');\n        }\n\n        v.volume = 0.005;\n        v.style.width = '100%';\n        v.style.height = '100%';\n\n        v.src = this.testVideoSrc;\n\n        this.testDom.appendChild(v);\n\n        return v;\n    }\n\n    private createTestDom(): HTMLElement {\n        const doc = this.document;\n        if (!this.document) return null;\n\n        let d = doc.createElement('div'),\n            ds = d.style, p = '-1000px';\n\n        ds.position = 'absolute';\n        ds.top = p;\n        ds.left = p;\n        ds.width = '400px';\n        ds.height = '225px';\n\n        doc.body.appendChild(d);\n\n        this.testDom = d;\n\n        return d;\n    }\n\n    private get sysInfo(): SystemServiceInterface {\n        return <SystemServiceInterface>this.getService(ServiceName.System);\n    }\n\n    private get document(): Document | null {\n        return this.sysInfo.document || null;\n    }\n}\n","import { Emitter } from '../core/Emitter';\nimport { Logger } from '../core/Logger';\nimport { Util } from '../core/Util';\nimport { LogLevel } from '../enum/LogLevel';\nimport { MediatorName } from '../enum/MediatorName';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ServiceName } from '../enum/ServiceName';\nimport { ApplicationInterface, ApplicationOptionsInterface, FacadeInterface, ServiceCollection } from '../iface';\nimport { EventInterface } from '../iface/EventInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { VideoPlayerInterface } from '../iface/VideoPlayerInterface';\nimport { ModelCollectionProxy } from '../model/ModelCollectionProxy';\nimport { Facade } from '../mvc/Facade';\nimport { LogService } from '../service/LogService';\nimport { AppMediator } from '../view/AppMediator';\nimport { AutoplayCapabilitiesService } from '../service/AutoplayCapabilitiesService';\n\n/**\n * @hideconstructor\n */\nexport abstract class AbstractApplication extends Emitter implements ApplicationInterface {\n\n    private pFacade: FacadeInterface;\n    private readonly pAppId: string;\n    private mdlCollProxy: ModelCollectionProxy;\n\n\n    protected constructor(options: ApplicationOptionsInterface) {\n        super(options || {});\n\n        this.pAppId = options.id || Util.uid8();\n        this.pFacade = Facade.createFacade(\n            this.pAppId,\n            options.commandMap || null,\n        );\n    }\n\n    /**\n    * @ignore\n    */\n    destroy() {\n        this.mdlCollProxy = null;\n        this.pFacade = null;\n\n        super.destroy();\n\n        Facade.removeCore(this.pAppId);\n    }\n\n    /**\n    * @ignore\n    */\n    get appId(): string {\n        return this.pAppId;\n    }\n\n    abstract sendEvent(name: string, data: StrAnyDict): void;\n    abstract sendErrorEvent(event: EventInterface): void;\n    abstract getApi(): VideoPlayerInterface;\n\n    protected sendNotification(name: string, body?: StrAnyDict, type?: string) {\n        this.pFacade.sendNotification(name, body, type);\n    }\n\n    protected createLoggingService(logLvl: LogLevel): void {\n        const logger = new Logger({\n            logLevel: logLvl,\n            id: this.appId,\n            onLogEvent: (e: EventInterface) => this.sendEvent(e.type, e.data)\n        });\n        this.pFacade.registerService(new LogService(ServiceName.Logging, logger))\n    }\n\n    protected createAutoplayCapabilitiesService(): void {\n        const apc = new AutoplayCapabilitiesService(ServiceName.AutoplayCapabilities);\n        this.pFacade.registerService(apc); \n    }\n\n    protected registerGlobalServices(gServices: ServiceCollection): void {\n        const f = this.pFacade;\n\n        for (let s in gServices) {\n            f.registerService(gServices[s]);\n        }\n    }\n\n    protected get facade(): FacadeInterface {\n        return this.pFacade;\n    }\n\n    protected get modelCollectionProxy(): ModelCollectionProxy {\n        if (!this.mdlCollProxy) {\n            this.mdlCollProxy = <ModelCollectionProxy>this.facade.retrieveProxy(ProxyName.ModelCollectionProxy);\n        }\n        return this.mdlCollProxy;\n    }\n\n    protected get appMediator(): AppMediator {\n        return <AppMediator> this.pFacade.retrieveMediator(MediatorName.APPLICATION);\n    }\n\n    // The concrete Application instance is passed to an AppMediator, which will\n    // interrogate the app instance (i.e, 'this') for its Notification interests, and will make\n    // those interests its own. Upon receiving a relevant Notification, it will\n    // invoke handleNotification() on the app instance, for subsequent event dispatch.\n    protected createApplicationMediator(name: string): void {\n        const am = new AppMediator(name, this);\n        this.pFacade.registerMediator(am);\n    }\n}\n","import { Util } from '../core/Util';\nimport { StrAnyDict } from '../iface/StrAnyDict';\n// API decorator factories\n\nexport function apiMethod() {\n    return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n        if (!Util.isObject(target.apiMethods)) {\n            target.apiMethods = {};\n        }\n\n        target.apiMethods[propertyKey] = descriptor.value;\n    }\n}\n\nexport function apiAccessor(readonly: boolean = false) {\n    return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n        if (!Util.isObject(target.apiAccessors)) {\n            target.apiAccessors = {};\n        }\n\n        let obj: PropertyDescriptor = {\n            get: descriptor.get,\n            set: readonly ? undefined : descriptor.set || undefined\n        };\n\n        target.apiAccessors[propertyKey] = obj;\n    }\n}\n\nexport function apiCollection(obj: StrAnyDict, target: any): StrAnyDict {\n    for (let i in target.apiMethods) {\n        obj[i] = function () {\n            const args = Array.prototype.slice.call(arguments);\n\n            return (\n                !!target &&\n                !!target.apiMethods &&\n                !!target.apiMethods[i] &&\n                target.apiMethods[i].apply(target, args)\n            ) || null;\n        }\n    }\n\n    for (let p in target.apiAccessors) {\n        let desc = target.apiAccessors[p];\n\n        let pd: PropertyDescriptor = {};\n\n        if (desc.get) {\n            pd.get = () => {\n                return target[p];\n            }\n        }\n        if (desc.set) {\n            pd.set = (val: any) => {\n                target[p] = val;\n            }\n        }\n\n        Object.defineProperty(obj, p, pd);\n    }\n\n    return obj;\n}\n","/* Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port by Video Technology Group, CBSi Inc. */\n\nimport { ModelName } from '../enum/ModelName';\nimport { ProxyName } from '../enum/ProxyName';\nimport { CommandInterface } from \"../iface\";\nimport { ModelCollectionProxy } from '../model/ModelCollectionProxy';\nimport { Notification } from './Notification';\nimport { Notifier } from './Notifier';\nimport { ServiceName } from '../enum/ServiceName';\n\n\nexport abstract class AbstractSimpleCommand extends Notifier implements CommandInterface {\n\n    protected constructor() {\n        super();\n    }\n\n    abstract execute(notification: Notification): void;\n\n    protected getModel<T>(name: ModelName): T {\n        return <T>(this.getModelCollection().getModel(name));\n    }\n\n    protected getProxy<T>(name: ProxyName): T {\n        return this.facade ? <T><unknown>(this.facade.retrieveProxy(name)) : null;\n    }\n\n    protected getService<T>(name: ServiceName): T | null {\n        return this.facade ? <T><unknown>(this.facade.retrieveService(name)) : null;\n    }\n\n    protected getModelCollection(): ModelCollectionProxy {\n        return this.facade ? <ModelCollectionProxy>this.facade.retrieveProxy(ProxyName.ModelCollectionProxy) : null;\n    }\n}\n\n\n","import { NotificationInterface } from '../iface';\nimport { LoggerInterface } from '../iface/LoggerInterface';\nimport { AbstractSimpleCommand } from '../mvc/AbstractSimpleCommand';\n\n\nexport abstract class LogAwareSimpleCommand extends AbstractSimpleCommand {\n\n    protected constructor() {\n        super();\n    }\n\n    abstract execute(notification: NotificationInterface): void\n\n    get logger(): LoggerInterface {\n        return this.facade.logger;\n    }\n\n    log(...args: any[]): void {\n        this.logger.log.apply(this.logger, args);\n    }\n}\n","import { AppResources } from '../app/AppResources';\nimport { Util } from '../core/Util';\nimport { LogLevel } from '../enum/LogLevel';\nimport { MediatorName } from '../enum/MediatorName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { ProxyName } from '../enum/ProxyName';\nimport { NotificationInterface, PlaybackAdapterInterface, PresentationMediatorInterface } from '../iface';\nimport { ContentPlaybackStateProxy } from '../model/ContentPlaybackStateProxy';\nimport { Playback } from '../playback/enum/Playback';\nimport { Utils } from '../util/Utils';\nimport { LogAwareSimpleCommand } from './LogAwareSimpleCommand';\n\nexport class AbrSwitchCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n\n        const presoMediator = <PresentationMediatorInterface>this.facade.retrieveMediator(MediatorName.PRESENTATION_MEDIATOR);\n        const stateProxy = <ContentPlaybackStateProxy>this.facade.retrieveProxy(ProxyName.ContentPlaybackStateProxy);\n        const adapter: PlaybackAdapterInterface = presoMediator.adapter;\n        const value: any = notification.body.value;\n\n        //Support SBR streams VTG-2024\n        if (!stateProxy.isAbrSwitchingAvailable) {\n            stateProxy.qualitySwitchingMode = Playback.ABR_SWITCHING_MODE_UNAVAILABLE;\n            return;\n        }\n\n        // All ABR addressed directly via preso mediator's adapter\n        switch (notification.name) {\n\n            case NotificationName.SWITCH_BITRATE:\n                const idx = Utils.getIndexForBitrate(stateProxy.model.manifestQualities, value, false);\n                this.switchToIndex(idx, stateProxy, adapter);\n                break;\n\n            case NotificationName.SWITCH_QUALITY_CATEGORY:\n                stateProxy.userQualityCategory = value;\n                this.switchQualityCategory(stateProxy, value, adapter)\n                break;\n\n            case NotificationName.AUTO_QUALITY_SWITCHING:\n                adapter.autoQualitySwitching = value;\n                stateProxy.qualitySwitchingMode = this.getAbrMode(value);\n                break;\n\n            case NotificationName.MIN_BITRATE:\n                adapter.minBitrate = value;\n                break;\n\n            case NotificationName.MAX_BITRATE:\n                adapter.maxBitrate = value;\n                break;\n        }\n    }\n\n    private switchToIndex(index: number, stateProxy: ContentPlaybackStateProxy, adapter: PlaybackAdapterInterface) {\n        //TODO Need answer from PM. do we lift max or min bitrate set by developer when user manually switches?\n        // Do we lift capping, NO! Need to setup time to discuss with manual switching users like cbs Ent.\n\n        const minIndex = stateProxy.minIndex;\n        const maxIndex = stateProxy.maxIndex;\n        if (Util.inRange(index, minIndex, maxIndex)) {\n            adapter.autoQualitySwitching = false;\n            stateProxy.qualitySwitchingMode = this.getAbrMode(false);\n            adapter.currentIndex = index;\n        }\n        else {\n            this.logger.log(LogLevel.WARN, index >= maxIndex ?\n                AppResources.messages.ABR_MANUAL_SWITCHING_REACHED_UPPER_BOUNDS :\n                AppResources.messages.ABR_MANUAL_SWITCHING_REACHED_LOWER_BOUNDS);\n        }\n    }\n\n    private switchQualityCategory(stateProxy: ContentPlaybackStateProxy, category: string, adapter: PlaybackAdapterInterface) {\n        const qia = stateProxy.model.manifestQualities;\n        const { minBitrate, maxBitrate, minIndex, maxIndex } = Utils.getMinAndMaxValuesForCategory(qia, category);\n\n        if (minIndex === maxIndex) {\n            this.switchToIndex(minIndex, stateProxy, adapter);\n        }\n        else {\n            adapter.minBitrate = minBitrate;\n            adapter.maxBitrate = maxBitrate;\n        }\n    }\n\n    private getAbrMode(enabled: boolean): string {\n        return enabled ? Playback.ABR_SWITCHING_MODE_AUTO : Playback.ABR_SWITCHING_MODE_MANUAL;\n    }\n}\n","/* Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port by Video Technology Group, CBSi Inc. */\n\nimport { CommandInterface, NotificationInterface } from \"../iface\";\nimport { Notifier } from \"./Notifier\";\n\nexport abstract class AbstractMacroCommand extends Notifier implements CommandInterface {\n\n    private subCommands: any[] = null;\n\n    protected constructor() {\n        super();\n        this.subCommands = [];\n        this.initializeMacroCommand();\n    }\n\n    /**\n     * Subclasses override this method to initialize the sub-commands list;\n     * sub-commands may be AbstractMacroCommands or AbstractSimpleCommands\n     * @example\n     *     initializeMacroCommand: function () {\n     *         this.addSubCommand(SomeCommand);\n     *         this.addSubCommand(OtherCommand);\n     *         this.addSubCommand(YetAnotherCommand);\n     *     };\n     */\n    abstract initializeMacroCommand(): void\n\n    addSubCommand(commandClassRef: any): void {\n        this.subCommands.push(commandClassRef);\n    }\n\n    execute(notification: NotificationInterface): void {\n        let cmdClass, cmd;\n\n        while (this.subCommands.length > 0) {\n            cmdClass = this.subCommands.shift();\n            cmd = new (<any>cmdClass)();\n            cmd.initializeNotifier(this.multiCoreKey);\n            cmd.execute(notification);\n        }\n    }\n}\n\n\n\n\n\n\n","export enum LocalizationId {\n\tMEDIA_PLAYER = 'media-player'\n}\n","/* Copyright(c) 2006-2018 Futurescale, Inc. */\n/* TypeScript port by Video Technology Group, CBSi Inc. */\n\nimport {Notifier} from \"./Notifier\";\nimport {ProxyInterface} from \"../iface\";\n\n/**\n * @hideconstructor\n */\nexport class Proxy extends Notifier implements ProxyInterface {\n\n    private readonly proxyName: string = null;\n    private pData: any = null;\n\n    constructor(name: string, data?: any) {\n        super();\n\n        this.proxyName = name;\n        this.pData = data || {};\n    }\n\n    /**\n    * @ignore\n    */\n    get name(): string {\n        return this.proxyName;\n    }\n\n    /**\n    * @ignore\n    */\n    get data(): any {\n        return this.pData;\n    }\n\n    /**\n    * @ignore\n    */\n    onRegister(): void {\n        /* implementation optional */\n    }\n\n    /**\n    * @ignore\n    */\n    onRemove(): void {\n        this.pData = null;\n\n        super.onRemove();\n    }\n}\n","import { apiAccessor, apiCollection, apiMethod } from '../app/ApiDecorators';\nimport { Util } from '../core/Util';\nimport { AsyncDataRequest } from '../dataservice/AsyncDataRequest';\nimport { LocalizationId } from '../enum/LocalizationId';\nimport { LogLevel } from '../enum/LogLevel';\nimport { ProxyName } from '../enum/ProxyName';\nimport { XhrResponseType } from '../enum/XhrResponseType';\nimport { Entry } from '../iface/Entry';\nimport { LanguageTagInterface } from '../iface/LanguageTagInterface';\nimport { LocaleData } from '../iface/LocaleData';\nimport { LocalizationData } from '../iface/LocalizationData';\nimport { LocalizationInterface } from '../iface/LocalizationInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { StrStrDict } from '../iface/StrStrDict';\nimport { Proxy } from '../mvc/Proxy';\n\n\nexport class LocalizationProxy extends Proxy implements LocalizationInterface {\n\n\tprivate static pExternalData: Record<string, Promise<StrAnyDict>> = {};\n\n\tstatic load(url: string): Promise<StrStrDict> {\n\t\tif (this.pExternalData[url] == null) {\n\t\t\tthis.pExternalData[url] = AsyncDataRequest.load({ url, responseType: XhrResponseType.JSON });\n\t\t}\n\t\treturn this.pExternalData[url].then(request => request.response);\n\t}\n\n\tstatic LocalizationData: LocalizationData = {\n\t\ten: {\n\t\t\t[LocalizationId.MEDIA_PLAYER]: 'Media Player'\n\t\t},\n\t\tes: {\n\t\t\t[LocalizationId.MEDIA_PLAYER]: 'Reproductor multimedia'\n\t\t}\n\t};\n\n\tprivate pLanguage: string;\n\tprivate pLanguageTag: LanguageTagInterface;\n\tprivate pLocalizationData: LocalizationData[] = [];\n\tprivate pLocale: Record<string, StrStrDict> = {};\n\n\tconstructor(name: ProxyName, language: string) {\n\t\tsuper(name, {});\n\t\tthis.pLanguage = language;\n\t\tthis.registerLocalizationData(LocalizationProxy.LocalizationData);\n\t}\n\n\tonRemove() {\n\t\tthis.pLocale = null;\n\t\tthis.pLocalizationData = null;\n\t\tthis.pLanguageTag = null;\n\t\tthis.pLanguage = null;\n\t}\n\n\tgetApi(): LocalizationInterface {\n\t\treturn apiCollection({}, this) as LocalizationInterface;\n\t}\n\n\t@apiAccessor(true)\n\tget defaultLanguage(): string {\n\t\treturn (navigator && navigator.language) ? navigator.language : 'en';\n\t}\n\n\t@apiAccessor(true)\n\tget language(): string {\n\t\treturn this.pLanguage || this.defaultLanguage;\n\t}\n\n\t@apiMethod()\n\tget languageTag(): LanguageTagInterface {\n\t\treturn this.pLanguageTag;\n\t}\n\n\t@apiMethod()\n\tchangeLanguage(language: string = this.defaultLanguage): Promise<LocaleData> {\n\t\tthis.pLanguage = language;\n\t\tthis.pLanguageTag = Util.parseLanguageTag(this.language);\n\t\tconst tag = new RegExp(`^${this.pLanguageTag.language}`, 'i');\n\t\tconst load = ([k, v]: Entry): Promise<Entry> => {\n\t\t\t//@ts-ignore\n\t\t\treturn LocalizationProxy\n\t\t\t\t.load(v)\n\t\t\t\t.then(data => [k, data])\n\t\t\t\t.catch(error => {\n\t\t\t\t\t// Errors loading localization files should not halt playback\n\t\t\t\t\tthis.facade.log(LogLevel.ERROR, `Could not load locale file ${v}`, error);\n\t\t\t\t\treturn [k, {}];\n\t\t\t\t});\n\t\t};\n\n\t\t// create an array of entry arrays\n\t\tconst data = this.pLocalizationData.map(data => {\n\t\t\tconst locale = Util.entries(data)\n\t\t\t\t// only operate on data for the current language\n\t\t\t\t.filter((e: Entry) => tag.test(e[0]))\n\n\t\t\t\t// start loading external data, or return the entry array\n\t\t\t\t.map((e: Entry) => (typeof e[1] == 'string') ? load(e) : e);\n\n\t\t\treturn Promise.all(locale);\n\t\t});\n\n\t\t// wait for all external data to finish loading\n\t\treturn Promise.all(data)\n\t\t\t.then(entries => {\n\t\t\t\t// convert entry arrays back into objects\n\t\t\t\tconst objs = entries.map(entry => Util.fromEntries(entry));\n\n\t\t\t\t// Merge into a single object\n\t\t\t\tconst data = Util.merge(...objs);\n\n\t\t\t\t// Cache the data and return the final object\n\t\t\t\treturn this.pLocale = data;\n\t\t\t});\n\t}\n\n\t@apiMethod()\n\tregisterLocalizationData(data: LocalizationData): void {\n\t\tif (Util.isEmpty(data)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.pLocalizationData.push(data);\n\t}\n\n\t@apiMethod()\n\tlocalize(messageId: string, context?: any): string {\n\t\tconst message = this.lookup(messageId);\n\t\treturn Util.template(message, context);\n\t}\n\n\tprivate lookup(messageId: string, language: string = this.language): string {\n\t\tconst find = (lang: string): string => {\n\t\t\tconst locale = (this.pLocale[lang] || {}) as StrStrDict;\n\t\t\treturn locale[messageId];\n\t\t};\n\t\treturn find(language) || find(this.pLanguageTag.language) || messageId;\n\t}\n}\n","import { ModelName } from '../enum/ModelName';\nimport { ProxyName } from '../enum/ProxyName';\nimport { PlayerDomProxyInterface } from '../iface';\nimport { ModelInterface } from '../iface/ModelInterface';\nimport { ModelSnapshotInterface } from '../iface/ModelSnapshotInterface';\nimport { PresentationStateInterface } from '../iface/PresentationStateInterface';\nimport { Proxy } from '../mvc/Proxy';\nimport { ModelCollection } from './vo/ModelCollection';\n\n\nexport class ModelCollectionProxy extends Proxy {\n\n    /*\n        All models:\n\n            AdBreakInfo             | Reset between resources\n            AdItem                  | \n            ContentPlaybackState    |\n            - - - - - - - - - - - - - - - - - - - - - - - - \n            PresentationState       | Partial reset\n            ------------------------------------------------\n            BuildInfo               | NO reset\n            PlayerDom               |\n            PlayerOptions           | \n    */\n\n    private resettables: string[] = [\n        ModelName.AdBreakInfo,\n        ModelName.AdItem,\n        ModelName.ContentPlaybackState\n    ];\n\n    constructor(name: string, data?: ModelCollection) {\n        super(name, data);\n    }\n\n    onRemove(): void {\n        this.resettables = null;\n        const pdp = <PlayerDomProxyInterface>this.facade.retrieveProxy(ProxyName.PlayerDomProxy);\n        if (pdp) {\n            pdp.removeDom();\n        }\n        super.onRemove();\n    }\n\n    get collection(): ModelCollection {\n        return <ModelCollection>(this.data);\n    }\n\n    getSnapshot(): ModelSnapshotInterface {\n        return this.collection.getSnapshot();\n    }\n\n    getModel<T>(name: string): T {\n        return <T>((<ModelCollection>(this.data)).getModel(name));\n    }\n\n    reset(): void {\n        const list = this.resettables;\n        let i = list.length;\n\n        while (i--) {\n            (<ModelInterface>this.getModel(list[i])).reset();\n        }\n\n        // partial reset for presentation state\n        const psi = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n        psi.skipAutoplayCheck = !psi.isAutoplay || psi.autoplaySupport !== null;\n        psi.isAutoplay = true; // coerce true for a reset (only should occur after a resource has played!)\n        psi.isCurrentVideoAd = false;\n        psi.started = false;\n        psi.streamDuration = NaN;\n        psi.streamTime = NaN;\n    }\n}\n","\nexport enum PerformanceMode {\n\n    /** Auto select the best mode for the detected environment */\n    AUTO = 'auto',\n\n    /** Allows the most forward and backwards buffer*/\n    DESKTOP = 'desktop',\n    \n    /** Slightly reduces the forward and backwards buffer compared to desktop*/\n    MOBILE = 'mobile',\n\n    /** Allows the least amount of forward and backwards buffer, most restrictive setting.*/\n    TV = 'tv'\n}\n","import { ModelName } from '../enum/ModelName';\nimport { PerformanceMode } from '../enum/PerformanceMode';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ServiceName } from '../enum/ServiceName';\nimport { PerformanceSettingsInterface, SystemServiceInterface } from '../iface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { Proxy } from '../mvc/Proxy';\nimport { ModelCollectionProxy } from './ModelCollectionProxy';\n\n\nexport class PerformanceProxy extends Proxy implements PerformanceSettingsInterface {\n\n    private pMode: PerformanceMode;\n\n    constructor(name: string, data?: any) {\n        super(name, data);\n    }\n\n    onRegister() {\n        const mcp = <ModelCollectionProxy>this.facade.retrieveProxy(ProxyName.ModelCollectionProxy);\n        const options = <PlayerOptionsInterface>mcp.getModel(ModelName.PlayerOptions);\n\n        this.pMode = (options.performanceMode == PerformanceMode.AUTO) ? this.calculatePerformanceMode() : options.performanceMode;\n    }\n\n    private calculatePerformanceMode(): PerformanceMode {\n        const sys = <SystemServiceInterface>this.facade.retrieveService(ServiceName.System);\n        switch (true) {\n            case sys.isTv:\n            case sys.isEmbedded:\n                return PerformanceMode.TV;\n\n            case sys.isMobile:\n                return PerformanceMode.MOBILE;\n\n            default:\n                return PerformanceMode.DESKTOP;\n        }\n    }\n\n    get mode(): PerformanceMode {\n        return this.pMode;\n    }\n\n    get forwardBufferLength(): number {\n        switch (this.pMode) {\n            case PerformanceMode.MOBILE:\n            case PerformanceMode.TV:\n                return 20;\n\n            default:\n                return null;\n        }\n    }\n\n    get backBufferLength(): number {\n        switch (this.pMode) {\n            case PerformanceMode.MOBILE:\n            case PerformanceMode.TV:\n                return 30;\n\n            default:\n                return 60;\n        }\n    }\n\n    get topQualityForwardBufferLength(): number {\n        switch (this.pMode) {\n            case PerformanceMode.MOBILE:\n            case PerformanceMode.TV:\n                return 60;\n\n            default:\n                return null;\n        }\n    }\n\n}\n","\nexport enum PlayerDom {\n    MAIN_CONTAINER = 'main',\n    VIDEO_EL = 'video',\n    VIDEO_CONTAINER = 'videoContainer',\n    CC_CONTAINER = 'ccContainer',\n    AD_CONTAINER = 'adContainer',\n    PANEL_CONTAINER = 'panelContainer',\n    AD_CLICK_EL = 'adClickEl',\n}\n","import { AppResources } from '../app/AppResources';\nimport { PlayerDom } from '../enum/PlayerDom';\nimport { PlayerDomProxyInterface } from '../iface';\nimport { DimensionsInterface } from '../iface/DimensionsInterface';\nimport { PlayerDomInterface } from '../iface/PlayerDomInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { VideoInterface } from '../iface/VideoInterface';\nimport { Proxy } from '../mvc/Proxy';\n\n\nexport class PlayerDomProxy extends Proxy implements PlayerDomProxyInterface {\n\n    private controlVisCssClass: string = 'cvui-ctrlbar-vis';\n\n    constructor(name: string, data?: any) {\n        super(name, data);\n    }\n\n    setModel(coll: StrAnyDict): void {\n        for (const q in coll) {\n            this.model[q] = coll[q];\n        }\n    }\n\n    removeDom(): void {\n        const main = this.getMain(),\n            children = main.childNodes;\n        let i = children.length;\n\n        while (i--) {\n            main.removeChild(children[i]);\n        }\n    }\n\n    setControlVisibility(controlsVisible: boolean): void {\n        const el = this.getMain();\n        if (!el) { return; }\n\n        const m = controlsVisible ? 'add' : 'remove';\n\n        el.classList[m](this.controlVisCssClass);\n    }\n\n    getElement(n: PlayerDom): any {\n        const el = this.model[n];\n        return el || null;\n    }\n\n    getSafeZIndex(): number {\n        const el = this.getElement(PlayerDom.AD_CONTAINER);\n        if (!el) return 10;\n\n        return Number(el.style.zIndex) + 10;\n    }\n\n    getVideo(): VideoInterface {\n        return <VideoInterface>this.getElement(PlayerDom.VIDEO_EL);\n    }\n\n    getTextTrackContainer(): HTMLElement {\n        return (<HTMLElement>this.getElement(PlayerDom.CC_CONTAINER)) || null;\n    }\n\n    setVideoVolume(v: number) {\n        const el = this.getVideo();\n        if (!el || this.getVideoVolume() == v) {\n            return;\n        }\n\n        el.volume = v;\n    }\n\n    getVideoVolume(): number {\n        const el = this.getVideo();\n        return el ? el.volume : null;\n    }\n\n    getMain(): HTMLElement {\n        return this.getElement(PlayerDom.MAIN_CONTAINER);\n    }\n\n    showAdClickElement(flag?: boolean): void {\n        const el = this.getElement(PlayerDom.AD_CLICK_EL);\n\n        if (el) {\n            (el.style.display = flag !== false ? 'block' : 'none');\n        }\n    }\n\n    getDimensions(): DimensionsInterface {\n        const r = this.getPresentationRect();\n\n        return r ? { width: r.width, height: r.height } : null;\n    }\n\n    showContainer(name: PlayerDom, flag: boolean): void {\n        const el = this.getElement(name);\n\n        if (el) {\n            el.style.display = flag ? 'inline-block' : 'none';\n        }\n    }\n\n    showAdContainer(flag: boolean) {\n        this.showContainer(PlayerDom.AD_CONTAINER, flag);\n    }\n\n    getPresentationRect(): ClientRect | null {\n        const m = this.getMain(),\n            r = m && m.getBoundingClientRect();\n\n        return r || null;\n    }\n\n    muteVideo(flag: boolean): void {\n        const v = this.getVideo(),\n            att = 'muted';\n\n        if (v) {\n            v.muted = flag;\n            flag && v.setAttribute(att, att);\n            !flag && v.removeAttribute(att);\n        }\n    }\n\n    primeVideo(): Promise<any> {\n        return Promise.resolve()\n            .then(() => {\n                const v = this.getVideo();\n                if (v) {\n                    v.src = AppResources.blankVideoUrl;\n                    v.load();\n\n                    return v.play();\n                }\n            });\n    }\n\n    setVideoAttribute(name: string, value: string): void {\n        const v = this.getVideo();\n        v && v.setAttribute(name, value);\n    }\n\n    removeVideoAttribute(name: string): void {\n        const v = this.getVideo();\n        v && v.removeAttribute(name);\n    }\n\n    private get model(): PlayerDomInterface {\n        return <PlayerDomInterface>this.data;\n    }\n}\n","import { apiAccessor, apiCollection, apiMethod } from '../app/ApiDecorators';\nimport { ResourceConfiguration } from '../app/ResourceConfiguration';\nimport { Util } from '../core/Util';\nimport { NotificationName } from '../enum/NotificationName';\nimport { NotificationType } from '../enum/NotificationType';\nimport { PlaylistInterface } from '../iface/PlaylistInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { Proxy } from '../mvc/Proxy';\n\n\nexport class PlaylistProxy extends Proxy implements PlaylistInterface {\n\n    private pList: ResourceConfigurationInterface[];\n    private pCurrentIndex: number = -1;\n    private cachedApi: PlaylistInterface = null;\n\n    /**\n    * @hidden\n    */\n    constructor(name: string, data?: any) {\n        super(name, data);\n\n        this.pList = [];\n    }\n\n    /**\n     * @ignore\n     */\n    onRemove(): void {\n        this.clear();\n        this.pList = null;\n        this.cachedApi = null;\n        super.onRemove();\n    }\n\n    /**\n     * @ignore\n     */\n    getApi(): PlaylistInterface {\n        if (!this.cachedApi) {\n            this.cachedApi = <PlaylistInterface>apiCollection({}, this);\n        }\n\n        return this.cachedApi;\n    }\n\n    @apiAccessor(true) //readonly\n    get list(): ResourceConfigurationInterface[] {\n        const out: ResourceConfigurationInterface[] = [];\n\n        let i = this.pList.length;\n        while (i--) {\n            out.unshift(Util.merge({}, this.pList[i]));\n        }\n\n        return out;\n    }\n\n    @apiAccessor()\n    get length(): number {\n        return this.pList.length;\n    }\n\n    @apiAccessor()\n    get currentIndex(): number {\n        return this.pCurrentIndex;\n    }\n    set currentIndex(index: number) {\n        if (index < 0 || index >= this.pList.length) {\n            this.notify(NotificationName.PLAYLIST_OUT_OF_RANGE);\n\n            return;\n        }\n        const cur = Math.max(this.pCurrentIndex, 0);\n        this.advance(index - cur);\n    }\n\n    @apiAccessor()\n    get currentResource(): ResourceConfigurationInterface {\n        const r = this.find(this.pCurrentIndex);\n\n        return r ? Util.merge({}, r) : null;\n    }\n\n    @apiAccessor()\n    get nextResource(): ResourceConfigurationInterface | null {\n        const r = this.find(this.pCurrentIndex + 1);\n\n        return r ? Util.merge({}, r) : null;\n    }\n\n    @apiAccessor()\n    get prevResource(): ResourceConfigurationInterface | null {\n        const r = this.find(this.pCurrentIndex - 1);\n\n        return r ? Util.merge({}, r) : null;\n    }\n\n    @apiMethod()\n    next(): void {\n        this.advance(1);\n    }\n\n    @apiMethod()\n    prev(): void {\n        this.advance(-1);\n    }\n\n    @apiMethod()\n    start(idx: number = 0): void {\n        this.pCurrentIndex = !isNaN(idx) ? idx - 1 : -1;\n        this.advance();\n    }\n\n    @apiMethod()\n    addResources(resources: Partial<ResourceConfigurationInterface> | Partial<ResourceConfigurationInterface>[], index: number = null): void {\n        const a: Partial<ResourceConfigurationInterface>[] = !Array.isArray(resources) ? [resources] : resources;\n\n        a.forEach((v, i) => {\n            const r = new ResourceConfiguration(v);\n            index !== null ? this.pList.splice(index + i, 0, r) : this.pList.push(r);\n        });\n\n        this.notifyChanged();\n    }\n\n    @apiMethod()\n    removeResourceAtIndex(idx: number): ResourceConfigurationInterface {\n        const l = this.length;\n\n        if (idx === this.currentIndex && l === 1) {\n            this.clear();\n\n            return null;\n        }\n\n        if (idx >= 0 && idx < l) {\n            const itm = this.pList.splice(idx, 1);\n\n            if (idx === this.currentIndex) {\n                this.notify(NotificationName.PLAYLIST_CURRENT_RESOURCE_CLEARED, { interruptedResource: itm });\n            }\n            this.notifyChanged();\n\n            return (itm && itm[0]) || null;\n        }\n\n        return null;\n    }\n\n    /**\n    * Will clear the entire playlist. \n    */\n    @apiMethod()\n    clear(): void {\n        let itm = this.find(this.pCurrentIndex);\n        this.pList = [];\n        this.pCurrentIndex = -1;\n        this.notify(NotificationName.PLAYLIST_CLEARED, { interruptedResource: itm });\n    }\n\n    private advance(inc: number = 1): void {\n        const idx = this.pCurrentIndex + inc,\n            item = this.find(idx);\n\n        let note: NotificationName = null,\n            data = null;\n\n        if (item) {\n            this.pCurrentIndex = idx;\n            data = { resource: item, currentIndex: idx };\n            note = NotificationName.PLAYLIST_ADVANCED;\n        }\n        else {\n            if (idx < 0) {\n                note = NotificationName.PLAYLIST_OUT_OF_RANGE;\n            }\n            else {\n                note = NotificationName.PLAYLIST_COMPLETE;\n            }\n        }\n\n        this.notify(note, data);\n    }\n\n    private find(idx: number): ResourceConfigurationInterface | null {\n        return (idx >= 0 && idx < this.pList.length && this.pList[idx]) || null;\n    }\n\n    private notify(name: string, data: StrAnyDict | null = null): void {\n        this.facade && this.facade.sendNotification(name, data || null, NotificationType.INTERNAL);\n    }\n\n    private notifyChanged(): void {\n        this.notify(NotificationName.PLAYLIST_CHANGE, null);\n    }\n}\n","export enum TextTrackMode {\n    SHOWING = 'showing',\n    HIDDEN = 'hidden',\n    DISABLED = 'disabled'\n}","import { TextTrackSettingsInterface } from '../iface';\nimport { Proxy } from '../mvc/Proxy';\nimport { TextTrackMode } from '../playback/enum/TextTrackMode';\n\n\nexport class TextTrackProxy extends Proxy implements TextTrackSettingsInterface {\n\n\tconstructor(name: string, data: any = {}) {\n\t\tsuper(name, {\n\t\t\tnative: data.native !== false,\n\t\t\tmode: TextTrackMode.DISABLED,\n\t\t\tlanguage: (data.language != null) ? data.language : navigator.language\n\t\t});\n\t}\n\n\tset mode(value: TextTrackMode) {\n\t\tthis.data.mode = value;\n\t}\n\n\tget mode(): TextTrackMode {\n\t\treturn this.data.mode;\n\t}\n\n\tset enabled(value: boolean) {\n\t\tif (value) {\n\t\t\tthis.mode = this.enabledMode;\n\t\t}\n\t\telse {\n\t\t\tthis.mode = TextTrackMode.DISABLED;\n\t\t}\n\t}\n\n\tget enabled(): boolean {\n\t\treturn this.data.mode != TextTrackMode.DISABLED;\n\t}\n\n\tget enabledMode(): TextTrackMode {\n\t\treturn (this.data.native) ? TextTrackMode.SHOWING : TextTrackMode.HIDDEN;\n\t}\n\n\tget native(): boolean {\n\t\treturn this.data.native;\n\t}\n\n\tset language(value: string) {\n\t\tthis.data.language = value;\n\t}\n\n\tget language(): string {\n\t\treturn this.data.language;\n\t}\n}\n","export enum AdBreakType {\n    PRE = 'PRE',\n    MID = 'MID',\n    POST = 'POST'\n}\n","export class Validator {\n\n    protected constructor() { }\n\n    static checkType(val: any, type: string | string[], allowNull?: boolean): boolean {\n        if (typeof type == \"string\") {\n            type = [type];\n        }\n        return allowNull && val === null ? true : type.some(t => typeof val === t);\n    }\n\n    static notEmpty(obj: any): boolean {\n        return !(\n            obj === null || obj === undefined ||\n            (Array.isArray(obj) && obj.length === 0) ||\n            (\"object\" === typeof obj && obj.constructor === Object && Object.keys(obj).length === 0) ||\n            \"string\" === typeof obj && obj === ''\n        );\n    }\n\n    static isArray(obj: any): boolean {\n        return Array.isArray(obj);\n    }\n\n    static validNumber(val: any, defVal: number) {\n        return typeof val !== 'number' ? defVal : val;\n    }\n\n    static isTypedArray(obj: any, type: string): boolean {\n        if (this.isArray(obj) && this.notEmpty(obj)) {\n            let i = obj.length;\n\n            while (i--) {\n                if (typeof obj[i] !== type) {\n                    return false\n                }\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n\n    static isType(value: any, type: any): boolean {\n        return value instanceof type;\n    }\n\n    static isPositiveNumber(value: any): boolean {\n        return typeof value === 'number' && value >= 0;\n    }\n}\n","import { AdBreakType } from '../../enum/AdBreakType';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { Validator } from '../vo/Validator';\n\n\nexport const ad_break_info_config: StrAnyDict = {\n\n    adBreakDuration: {\n        type: 'number',\n        defaultValue: -1,\n        setterTransformer: (val: number): number => {\n            return typeof val !== 'number' ? -1 : val;\n        }\n    },\n\n    adTotal: {\n        type: 'number',\n        defaultValue: -1,\n        setterTransformer: (val: number): number => {\n            return typeof val !== 'number' ? -1 : val;\n        }\n    },\n\n    adBreakPosition: {\n        type: 'number',\n        defaultValue: -1,\n        setterTransformer: (val: number): number => {\n            return typeof val !== 'number' ? -1 : val;\n        }\n    },\n\n    adBreakType: {\n        type: 'string',\n        defaultValue: null,\n        setterTransformer: (val: string): string => {\n            return (val === AdBreakType.MID || val === AdBreakType.POST || val === AdBreakType.PRE)\n                ? val : null;\n        }\n    },\n\n    adServerName: {\n        type: 'string',\n        defaultValue: null,\n        validator: Validator.notEmpty\n    }\n};\n","import { StrAnyDict } from '../../iface/StrAnyDict';\nimport { Validator } from \"../vo/Validator\";\n\n\nexport const ad_item_config: StrAnyDict = {\n\n    adDuration: {\n        type: 'number',\n        defaultValue: -1,\n        setterTransformer: (val: number): number => {\n            return Validator.validNumber(val, -1);\n        }\n    },\n\n    adTitle: {\n        type: 'string',\n        defaultValue: null\n    },\n\n    adId: {\n        type: 'string',\n        defaultValue: null\n    },\n\n    adPosition: {\n        type: 'number',\n        defaultValue: -1,\n        setterTransformer: (val: number): number => {\n            return Validator.validNumber(val, -1);\n        }\n    },\n\n    adAssetUrl: {\n        type: 'string',\n        defaultValue: null\n    },\n\n    isVpaid: {\n        type: 'boolean',\n        defaultValue: false,\n        setterTransformer: (val: boolean): boolean => {\n            return typeof val !== 'boolean' ? false : val;\n        }\n    },\n\n    wrapperAdId: {\n        type: 'string',\n        defaultValue: null\n    },\n\n    creativeId: {\n        type: 'string',\n        defaultValue: null\n    },\n\n    wrapperCreativeId: {\n        type: 'string',\n        defaultValue: null\n    },\n\n    vastMediaWidth: {\n        type: 'number',\n        defaultValue: null\n    },\n\n    vastMediaHeight: {\n        type: 'number',\n        defaultValue: null\n    },\n\n    vastMediaBitrate: {\n        type: 'number',\n        defaultValue: null\n    },\n};\n","import { StrAnyDict } from \"../../iface/StrAnyDict\";\n\n\nexport const build_info_config: StrAnyDict = {\n\n    // TODO 1737 - remove props\n\n    env: {\n        type: 'string',\n        defaultValue: null\n    },\n\n    playerName: {\n        type: 'string',\n        defaultValue: null\n    },\n\n    playerVersion: {\n        type: 'string',\n        defaultValue: null\n    },\n\n    buildTime: {\n        type: 'string',\n        defaultValue: null\n    }\n};\n","import { StreamType } from '../../enum/StreamType';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { Validator } from '../vo/Validator';\n\n\nexport const content_playback_state_config: StrAnyDict = {\n\n    manifestQualities: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    qualityInfo: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    audioTracks: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    textTracks: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    streamType: {\n        type: 'string',\n        defaultValue: StreamType.VOD,\n    },\n\n    liveStreamInfo: {\n        type: 'object',\n        defaultValue: null\n    },\n\n    bufferLength: {\n        type: 'number',\n        defaultValue: 0,\n    },\n\n    cdn: {\n        type: 'string',\n        defaultValue: null,\n        validator: Validator.notEmpty\n    },\n\n    drmType: {\n        type: 'string',\n        defaultValue: null,\n        validator: Validator.notEmpty\n    },\n\n    contentSegment: {\n        type: 'number',\n        defaultValue: NaN,\n    },\n\n    maxBandwidth: {\n        type: 'number',\n        defaultValue: NaN,\n    },\n\n    time: {\n        type: 'number',\n        defaultValue: NaN,\n    },\n\n    state: {\n        type: 'number',\n        defaultValue: NaN,\n    },\n\n    duration: {\n        type: 'number',\n        defaultValue: NaN,\n    },\n\n    bitrate: {\n        type: 'number',\n        defaultValue: NaN,\n    },\n\n    started: {\n        type: 'boolean',\n        defaultValue: false,\n    },\n\n    averageDroppedFps: {\n        type: 'number',\n        defaultValue: NaN,\n    },\n\n    framerate: {\n        type: 'number',\n        defaultValue: NaN,\n    }\n};\n","import { StrAnyDict } from '../../iface/StrAnyDict';\n\n\nexport const player_dom_config: StrAnyDict = {\n\n    main: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    video: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    videoContainer: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    ccContainer: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    adContainer: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    panelContainer: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    adClickEl: {\n        type: 'object',\n        defaultValue: null,\n    }\n\n};\n","export enum Autoplay {\n    NONE = 'none',\n    ATTEMPT_MUTED = 'attemptMuted',\n    ATTEMPT_UNMUTED = 'attemptUnmuted',\n    ATTEMPT_UNMUTED_THEN_MUTED = 'attemptUnmutedThenMuted'\n}\n","import { Autoplay } from '../../enum/Autoplay';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { PerformanceMode } from '../../enum/PerformanceMode';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\n\n\nexport const player_options_config: StrAnyDict = {\n\n    container: {\n        type: ['object', 'string'],\n        defaultValue: null,\n    },\n\n    dataTransformers: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    plugins: {\n        type: 'object',\n        defaultValue: null,\n    },\n\n    autoplay: {\n        type: 'string',\n        defaultValue: Autoplay.NONE\n    },\n\n    offsetTextOnControlsVisible: {\n        type: 'boolean',\n        defaultValue: false\n    },\n\n    id: {\n        type: 'string',\n        defaultValue: null\n    },\n\n    networkErrorRecovery: {\n        type: 'object',\n        defaultValue: null\n    },\n\n    performanceMode: {\n        type: 'string',\n        defaultValue: PerformanceMode.AUTO\n    },\n\n    renderTextTrackNatively: {\n        type: 'boolean',\n        defaultValue: true\n    },\n\n    nativePlugins: {\n        type: 'object',\n        defaultValue: null\n    },\n\n    playsInline: {\n        type: 'boolean',\n        defaultValue: true\n    },\n\n    uiConfig: {\n        type: 'object',\n        defaultValue: null\n    },\n\n    useNativeControls: {\n        type: 'boolean',\n        defaultValue: false\n    },\n\n    overrides: {\n        type: 'object',\n        defaultValue: {}\n    },\n\n    logLevel: {\n        type: 'string',\n        defaultValue: LogLevel.OFF\n    },\n\n    language: {\n        type: 'string',\n        defaultValue: null\n    }\n};\n","export class Transformer {\n\n    protected constructor() { }\n\n    static clampValue(val: any, min: number, max: number): number | null {\n        if (typeof val !== \"number\") {\n            return null;\n        }\n        return Math.max(min, Math.min(val, max));\n    }\n\n    static lowerCase(val: any): any {\n        return typeof val === \"string\" ? val.toLowerCase() : val;\n    }\n\n    static strToNum(val: any): number | any {\n        if (typeof val === 'number') {\n            return val;\n        }\n        if (typeof val === 'string') {\n            let pf = parseFloat(val);\n            return isNaN(pf) ? val : pf;\n        }\n\n        return val;\n    }\n}\n","import { StrAnyDict } from '../../iface/StrAnyDict';\nimport { Transformer } from '../vo/Transformer';\nimport { Validator } from '../vo/Validator';\n\n\nexport const presentation_state_config: StrAnyDict = {\n\n    skipAutoplayCheck: {\n        type: 'boolean',\n        defaultValue: false,\n    },\n\n    streamTime: {\n        type: 'number',\n        defaultValue: NaN,\n        setterTransformer: (value: any) => {\n            return Validator.isPositiveNumber(value) ? value : NaN;\n        }\n    },\n\n    streamDuration: {\n        type: 'number',\n        defaultValue: NaN,\n        setterTransformer: (value: any) => {\n            return Validator.isPositiveNumber(value) ? value : NaN;\n        }\n    },\n\n    autoplaySupport: {\n        type: 'object',\n        defaultValue: null\n    },\n\n    isAutoplay: {\n        type: 'boolean',\n        defaultValue: false,\n    },\n\n    isCurrentVideoAd: {\n        type: 'boolean',\n        defaultValue: false,\n    },\n\n    isFullscreen: {\n        type: 'boolean',\n        defaultValue: false,\n    },\n\n    isMuted: {\n        type: 'boolean',\n        defaultValue: false,\n    },\n\n    isMuteAtPlayStart: {\n        type: 'boolean',\n        defaultValue: false,\n    },\n\n    started: {\n        type: 'boolean',\n        defaultValue: false,\n    },\n\n    userHasUnmuted: {\n        type: 'boolean',\n        defaultValue: false,\n    },\n\n    volume: {\n        type: 'number',\n        defaultValue: 0.35,\n        setterTransformer: (value: any) => {\n            return Transformer.clampValue(value, 0, 1);\n        }\n    },\n\n    usesSsai: {\n        type: 'boolean',\n        defaultValue: false,\n    },\n\n    streamId: {\n        type: 'string',\n        defaultValue: null,\n    },\n\n    suspended: {\n        type: 'boolean',\n        defaultValue: false,\n    }\n};\n","import { StrAnyDict } from '../../iface/StrAnyDict';\nimport { ad_break_info_config } from './ad_break_info_config';\nimport { ad_item_config } from './ad_item_config';\nimport { build_info_config } from './build_info_config';\nimport { content_playback_state_config } from './content_playback_state_config';\nimport { player_dom_config } from './player_dom_config';\nimport { player_options_config } from './player_options_config';\nimport { presentation_state_config } from './presentation_state_config';\n\n\nconst config: StrAnyDict = {\n    build_info_config: build_info_config,\n    ad_break_info_config: ad_break_info_config,\n    ad_item_config: ad_item_config,\n    content_playback_state_config: content_playback_state_config,\n    player_dom_config: player_dom_config,\n    player_options_config: player_options_config,\n    presentation_state_config: presentation_state_config,\n}\n\nexport { config };\n","import { DataConfigInterface } from '../../iface/DataConfigInterface';\nimport { PropertyConfigInterface } from '../../iface/PropertyConfigInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { Validator } from './Validator';\n\n\nexport class Generator {\n\n    protected constructor() { }\n\n    static generateModel(\n        scope: any,\n        config: DataConfigInterface,\n        dataContainer: StrAnyDict,\n        defaultValueContainer: StrAnyDict\n    ): void {\n\n        for (let q in config) {\n            this.createProperty(q, config[q], scope, dataContainer, defaultValueContainer);\n        }\n    }\n\n    private static createProperty(\n        name: string,\n        config: PropertyConfigInterface,\n        scope: any,\n        dataCtr: StrAnyDict,\n        defaultValueCtr: StrAnyDict\n    ): void {\n\n        let validator = config.validator,\n            type = config.type,\n            defValue = config.defaultValue,\n            enumerable = config.enumerable !== false,\n            setterTransformer = this.getTransformer(config, 'setter', scope),\n            getterTransformer = this.getTransformer(config, 'getter', scope);\n\n        if (config.writable === false) {\n            Object.defineProperty(scope, name, {\n                enumerable: enumerable,\n                value: defValue,\n                writable: false\n            });\n            dataCtr[name] = defValue;\n        }\n        else {\n            Object.defineProperty(scope, name, {\n                enumerable: enumerable,\n                set: function (val: any) {\n                    let canWarn = console && console.warn,\n                        txVal = setterTransformer(val);\n\n                    // note: value is first transformed, then validated\n                    if (validator && !validator(txVal)) {\n                        canWarn && console.warn(`Invalid value '${txVal}' for property ${name}`);\n\n                        return;\n                    }\n                    if (!Validator.checkType(txVal, type, defValue === null)) {\n                        canWarn && console.warn(`Invalid type supplied for property ${name}`);\n\n                        return;\n                    }\n                    dataCtr[name] = txVal;\n                },\n                get: function () {\n                    return getterTransformer(dataCtr[name]);\n                }\n            });\n\n            dataCtr[name] = defValue;\n        }\n\n        defaultValueCtr[name] = defValue;\n    }\n\n    private static getTransformer(pCfg: PropertyConfigInterface, which: string, scope: any) {\n        const tx = pCfg[which + 'Transformer'];\n\n        if (tx && typeof tx === 'function') {\n            return tx.bind(scope);\n        }\n\n        return this.blankTransformer;\n    }\n\n    private static blankTransformer(val: any) {\n        return val;\n    }\n\n}\n","import { Util } from '../../core/Util';\nimport { DataConfigInterface } from '../../iface/DataConfigInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { Generator } from './Generator';\n\n\nexport class ConfigurablePropertyContainer {\n\n    private readonly pData: StrAnyDict; // private data\n    private readonly defaultValues: StrAnyDict;\n\n    constructor(config: DataConfigInterface) {\n        this.pData = {};\n        this.defaultValues = {};\n\n        Generator.generateModel(this, config, this.pData, this.defaultValues);\n    }\n\n    /**\n     * Returns a cloned, \"read-only\" object\n     * (i.e, modifying values on this object has no effect on model)\n     */\n    get data(): StrAnyDict {\n        return Util.assign({}, this.pData);\n    }\n\n    reset() {\n        for (let q in this.defaultValues) {\n            this.pData[q] = this.defaultValues[q];\n        }\n    }\n}\n","import { AdBreakType } from '../../enum/AdBreakType';\nimport { AdBreakInfoInterface } from '../../iface/AdBreakInfoInterface';\nimport { DataConfigInterface } from '../../iface/DataConfigInterface';\nimport { ModelInterface } from '../../iface/ModelInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { ConfigurablePropertyContainer } from './ConfigurablePropertyContainer';\n\n\nexport class AdBreakInfo implements AdBreakInfoInterface, ModelInterface {\n\n    private model: StrAnyDict;\n\n    constructor(config: DataConfigInterface) {\n        this.model = new ConfigurablePropertyContainer(config);\n    }\n\n    static get modelName(): string { return 'AdBreakInfo'; }\n\n    get data(): AdBreakInfoInterface { return <AdBreakInfoInterface>(this.model.data); }\n\n    reset(): void { this.model.reset(); }\n\n\n    set adBreakDuration(value: number) { this.model.adBreakDuration = value; }\n    get adBreakDuration(): number { return this.model.adBreakDuration; }\n\n    set adBreakPosition(value: number) { this.model.adBreakPosition = value; }\n    get adBreakPosition(): number { return this.model.adBreakPosition; }\n\n    set adBreakType(value: AdBreakType) { this.model.adBreakType = value; }\n    get adBreakType(): AdBreakType { return this.model.adBreakType; }\n\n    set adServerName(value: string) { this.model.adServerName = value; }\n    get adServerName(): string { return this.model.adServerName; }\n\n    set adTotal(value: number) { this.model.adTotal = value; }\n    get adTotal(): number { return this.model.adTotal; }\n}\n","import { AdItemInterface } from '../../iface/AdItemInterface';\nimport { DataConfigInterface } from '../../iface/DataConfigInterface';\nimport { ModelInterface } from '../../iface/ModelInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { ConfigurablePropertyContainer } from './ConfigurablePropertyContainer';\n\n\nexport class AdItem implements AdItemInterface, ModelInterface {\n\n    private model: StrAnyDict;\n\n    constructor(config: DataConfigInterface) {\n        this.model = new ConfigurablePropertyContainer(config);\n    }\n\n    static get modelName(): string { return 'AdItem'; }\n\n    get data(): AdItemInterface { return <AdItemInterface>(this.model.data); }\n\n    reset(): void { this.model.reset(); }\n\n\n    set adDuration(value: number) { this.model.adDuration = value; }\n    get adDuration(): number { return this.model.adDuration; }\n\n    set adTitle(value: string) { this.model.adTitle = value; }\n    get adTitle(): string { return this.model.adTitle; }\n\n    set adId(value: string) { this.model.adId = value; }\n    get adId(): string { return this.model.adId; }\n\n    set adPosition(value: number) { this.model.adPosition = value; }\n    get adPosition(): number { return this.model.adPosition; }\n\n    set adAssetUrl(value: string) { this.model.adAssetUrl = value; }\n    get adAssetUrl(): string { return this.model.adAssetUrl; }\n\n    set isVpaid(value: boolean) { this.model.isVpaid = value; }\n    get isVpaid(): boolean { return this.model.isVpaid; }\n\n    set wrapperAdId(value: string) { this.model.wrapperAdId = value; }\n    get wrapperAdId(): string { return this.model.wrapperAdId; }\n\n    set creativeId(value: string) { this.model.creativeId = value; }\n    get creativeId(): string { return this.model.creativeId; }\n\n    set wrapperCreativeId(value: string) { this.model.wrapperCreativeId = value; }\n    get wrapperCreativeId(): string { return this.model.wrapperCreativeId; }\n\n    set vastMediaWidth(value: number) { this.model.vastMediaWidth = value; }\n    get vastMediaWidth(): number { return this.model.vastMediaWidth; }\n\n    set vastMediaHeight(value: number) { this.model.vastMediaHeight = value; }\n    get vastMediaHeight(): number { return this.model.vastMediaHeight; }\n\n    set vastMediaBitrate(value: number) { this.model.vastMediaBitrate = value; }\n    get vastMediaBitrate(): number { return this.model.vastMediaBitrate; }\n}\n","import { BuildInfoInterface } from '../../iface/BuildInfoInterface';\nimport { DataConfigInterface } from '../../iface/DataConfigInterface';\nimport { ModelInterface } from '../../iface/ModelInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { ConfigurablePropertyContainer } from './ConfigurablePropertyContainer';\n\n\nexport class BuildInfo implements BuildInfoInterface, ModelInterface {\n\n    private model: StrAnyDict;\n\n    constructor(config: DataConfigInterface) {\n        this.model = new ConfigurablePropertyContainer(config);\n    }\n\n    static get modelName(): string { return 'BuildInfo'; }\n\n    get data(): BuildInfoInterface { return <BuildInfoInterface>(this.model.data); }\n\n    reset(): void { this.model.reset(); }\n\n\n    set buildTime(value: string) { this.model.buildTime = value; }\n    get buildTime(): string { return this.model.buildTime; }\n\n    set env(value: string) { this.model.env = value; }\n    get env(): string { return this.model.env; }\n\n    set playerName(value: string) { this.model.playerName = value; }\n    get playerName(): string { return this.model.playerName; }\n\n    set playerVersion(value: string) { this.model.playerVersion = value; }\n    get playerVersion(): string { return this.model.playerVersion; }\n}\n","import { PlaybackState } from '../../enum/PlaybackState';\nimport { StreamType } from '../../enum/StreamType';\nimport { AudioTracksInterface } from '../../iface/AudioTracksInterface';\nimport { ContentPlaybackStateInterface } from '../../iface/ContentPlaybackStateInterface';\nimport { DataConfigInterface } from '../../iface/DataConfigInterface';\nimport { LiveStreamInfoInterface } from '../../iface/LiveStreamInfoInterface';\nimport { ModelInterface } from '../../iface/ModelInterface';\nimport { QualityInfoInterface } from '../../iface/QualityInfoInterface';\nimport { QualityInterface } from '../../iface/QualityInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { TextTracksInterface } from '../../iface/TextTracksInterface';\nimport { ConfigurablePropertyContainer } from './ConfigurablePropertyContainer';\n\n\nexport class ContentPlaybackState implements ContentPlaybackStateInterface, ModelInterface {\n\n    private model: StrAnyDict;\n\n    constructor(config: DataConfigInterface) {\n        this.model = new ConfigurablePropertyContainer(config);\n    }\n\n    static get modelName(): string { return 'ContentPlaybackState'; }\n\n    get data(): ContentPlaybackStateInterface { return <ContentPlaybackStateInterface>(this.model.data); }\n\n    reset(): void { this.model.reset(); }\n\n\n    set manifestQualities(value: QualityInterface[]) { this.model.manifestQualities = value; }\n    get manifestQualities(): QualityInterface[] { return this.model.manifestQualities; }\n\n    set qualityInfo(value: QualityInfoInterface) { this.model.qualityInfo = value; }\n    get qualityInfo(): QualityInfoInterface { return this.model.qualityInfo; }\n\n    set audioTracks(value: AudioTracksInterface) { this.model.audioTracks = value; }\n    get audioTracks(): AudioTracksInterface { return this.model.audioTracks; }\n\n    set textTracks(value: TextTracksInterface) { this.model.textTracks = value; }\n    get textTracks(): TextTracksInterface { return this.model.textTracks; }\n\n    set streamType(value: StreamType) { this.model.streamType = value; }\n    get streamType(): StreamType { return this.model.streamType; }\n\n    set liveStreamInfo(value: LiveStreamInfoInterface) { this.model.liveStreamInfo = value; }\n    get liveStreamInfo(): LiveStreamInfoInterface { return this.model.liveStreamInfo; }\n\n    set bufferLength(value: number) { this.model.bufferLength = value; }\n    get bufferLength(): number { return this.model.bufferLength; }\n\n    set cdn(value: string) { this.model.cdn = value; }\n    get cdn(): string { return this.model.cdn; }\n\n    set drmType(value: string) { this.model.drmType = value; }\n    get drmType(): string { return this.model.drmType; }\n\n    set contentSegment(value: number) { this.model.contentSegment = value; }\n    get contentSegment(): number { return this.model.contentSegment; }\n\n    set maxBandwidth(value: number) { this.model.maxBandwidth = value; }\n    get maxBandwidth(): number { return this.model.maxBandwidth; }\n\n    set time(value: number) { this.model.time = value; }\n    get time(): number { return this.model.time; }\n\n    set state(value: PlaybackState) { this.model.state = value; }\n    get state(): PlaybackState { return this.model.state; }\n\n    set duration(value: number) { this.model.duration = value; }\n    get duration(): number { return this.model.duration; }\n\n    set bitrate(value: number) { this.model.bitrate = value; }\n    get bitrate(): number { return this.model.bitrate; }\n\n    set started(value: boolean) { this.model.started = value; }\n    get started(): boolean { return this.model.started; }\n\n    set averageDroppedFps(value: number) { this.model.averageDroppedFps = value; }\n    get averageDroppedFps(): number { return this.model.averageDroppedFps; }\n\n    set framerate(value: number) { this.model.framerate = value; }\n    get framerate(): number { return this.model.framerate; }\n}\n","import { DataConfigInterface } from '../../iface/DataConfigInterface';\nimport { ModelInterface } from '../../iface/ModelInterface';\nimport { PlayerDomInterface } from '../../iface/PlayerDomInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { VideoInterface } from '../../iface/VideoInterface';\nimport { ConfigurablePropertyContainer } from './ConfigurablePropertyContainer';\n\n\nexport class PlayerDom implements PlayerDomInterface, ModelInterface {\n\n    private model: StrAnyDict;\n\n    constructor(config: DataConfigInterface) {\n        this.model = new ConfigurablePropertyContainer(config);\n    }\n\n    static get modelName(): string { return 'PlayerDom'; }\n\n    get data(): PlayerDomInterface { return <PlayerDomInterface>(this.model.data); }\n\n    reset(): void { this.model.reset(); }\n\n\n    set main(value: HTMLElement) { this.model.main = value; }\n    get main(): HTMLElement { return this.model.main; }\n\n    set video(value: VideoInterface) { this.model.video = value; }\n    get video(): VideoInterface { return this.model.video; }\n\n    set videoContainer(value: HTMLElement) { this.model.videoContainer = value; }\n    get videoContainer(): HTMLElement { return this.model.videoContainer; }\n\n    set ccContainer(value: HTMLElement) { this.model.ccContainer = value; }\n    get ccContainer(): HTMLElement { return this.model.ccContainer; }\n\n    set adContainer(value: HTMLElement) { this.model.adContainer = value; }\n    get adContainer(): HTMLElement { return this.model.adContainer; }\n\n    set panelContainer(value: HTMLElement) { this.model.panelContainer = value; }\n    get panelContainer(): HTMLElement { return this.model.panelContainer; }\n\n    set adClickEl(value: HTMLElement) { this.model.adClickEl = value; }\n    get adClickEl(): HTMLElement { return this.model.adClickEl; }\n}\n","import { Autoplay } from '../../enum/Autoplay';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { NativePlugin } from '../../enum/NativePlugin';\nimport { PerformanceMode } from '../../enum/PerformanceMode';\nimport { DataConfigInterface } from '../../iface/DataConfigInterface';\nimport { DataTransformersConfigInterface } from '../../iface/DataTransformersConfigInterface';\nimport { DomReference } from '../../iface/DomReference';\nimport { ErrorRecoveryInterface } from '../../iface/ErrorRecoveryInterface';\nimport { ModelInterface } from '../../iface/ModelInterface';\nimport { OverridesInterface } from '../../iface/OverridesInterface';\nimport { PlayerOptionsInterface } from '../../iface/PlayerOptionsInterface';\nimport { PluginConfigInterface } from '../../iface/PluginConfigInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { ConfigurablePropertyContainer } from './ConfigurablePropertyContainer';\n\n\nexport class PlayerOptions implements PlayerOptionsInterface, ModelInterface {\n\n    private model: StrAnyDict;\n\n    constructor(config: DataConfigInterface) {\n        this.model = new ConfigurablePropertyContainer(config);\n    }\n\n    static get modelName(): string { return 'PlayerOptions'; }\n\n    get data(): PlayerOptionsInterface { return <PlayerOptionsInterface>(this.model.data); }\n\n    reset(): void { this.model.reset(); }\n\n    set container(value: DomReference) { this.model.container = value; }\n    get container(): DomReference { return this.model.container; }\n\n    set dataTransformers(value: DataTransformersConfigInterface) { this.model.dataTransformers = value; }\n    get dataTransformers(): DataTransformersConfigInterface { return this.model.dataTransformers; }\n\n    set plugins(value: PluginConfigInterface[]) { this.model.plugins = value; }\n    get plugins(): PluginConfigInterface[] { return this.model.plugins; }\n\n    set autoplay(value: Autoplay) { this.model.autoplay = value; }\n    get autoplay(): Autoplay { return this.model.autoplay; }\n\n    set offsetTextOnControlsVisible(value: boolean) { this.model.offsetTextOnControlsVisible = value; }\n    get offsetTextOnControlsVisible(): boolean { return this.model.offsetTextOnControlsVisible; }\n\n    set id(value: string) { this.model.id = value; }\n    get id(): string { return this.model.id; }\n\n    set isEmbedded(value: boolean) { this.model.isEmbedded = value; }\n    get isEmbedded(): boolean { return this.model.isEmbedded; }\n\n    set networkErrorRecovery(value: ErrorRecoveryInterface) { this.model.networkErrorRecovery = value; }\n    get networkErrorRecovery(): ErrorRecoveryInterface { return this.model.networkErrorRecovery; }\n\n    set performanceMode(value: PerformanceMode) { this.model.performanceMode = value; }\n    get performanceMode(): PerformanceMode { return this.model.performanceMode; }\n\n    set nativePlugins(value: NativePlugin[]) { this.model.nativePlugins = value; }\n    get nativePlugins(): NativePlugin[] { return this.model.nativePlugins; }\n\n    set renderTextTrackNatively(value: boolean) { this.model.renderTextTrackNatively = value; }\n    get renderTextTrackNatively(): boolean { return this.model.renderTextTrackNatively; }\n\n    set playsInline(value: boolean) { this.model.playsInline = value; }\n    get playsInline(): boolean { return this.model.playsInline; }\n\n    set uiConfig(value: StrAnyDict) { this.model.uiConfig = value; }\n    get uiConfig(): StrAnyDict { return this.model.uiConfig; }\n\n    set useNativeControls(value: boolean) { this.model.useNativeControls = value; }\n    get useNativeControls(): boolean { return this.model.useNativeControls; }\n\n    set overrides(value: OverridesInterface) { this.model.overrides = value; }\n    get overrides(): OverridesInterface { return this.model.overrides; }\n\n    set logLevel(value: LogLevel) { this.model.logLevel = value; }\n    get logLevel(): LogLevel { return this.model.logLevel; }\n}\n","import { AutoplayInfoInterface } from '../../iface/AutoplayInfoInterface';\nimport { DataConfigInterface } from '../../iface/DataConfigInterface';\nimport { ModelInterface } from '../../iface/ModelInterface';\nimport { PresentationStateInterface } from '../../iface/PresentationStateInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { ConfigurablePropertyContainer } from './ConfigurablePropertyContainer';\n\n\nexport class PresentationState implements PresentationStateInterface, ModelInterface {\n\n    private model: StrAnyDict;\n\n    constructor(config: DataConfigInterface) {\n        this.model = new ConfigurablePropertyContainer(config);\n    }\n\n    static get modelName(): string { return 'PresentationState'; }\n\n    get data(): PresentationStateInterface { return <PresentationStateInterface>(this.model.data); }\n\n    reset(): void { this.model.reset(); }\n\n\n    set skipAutoplayCheck(value: boolean) { this.model.skipAutoplayCheck = value; }\n    get skipAutoplayCheck(): boolean { return this.model.skipAutoplayCheck; }\n\n    set streamTime(value: number) { this.model.streamTime = value; }\n    get streamTime(): number { return this.model.streamTime; }\n\n    set streamDuration(value: number) { this.model.streamDuration = value; }\n    get streamDuration(): number { return this.model.streamDuration; }\n\n    set autoplaySupport(value: AutoplayInfoInterface) { this.model.autoplaySupport = value; }\n    get autoplaySupport(): AutoplayInfoInterface { return this.model.autoplaySupport; }\n\n    set isAutoplay(value: boolean) { this.model.isAutoplay = value; }\n    get isAutoplay(): boolean { return this.model.isAutoplay; }\n\n    set isCurrentVideoAd(value: boolean) { this.model.isCurrentVideoAd = value; }\n    get isCurrentVideoAd(): boolean { return this.model.isCurrentVideoAd; }\n\n    set isFullscreen(value: boolean) { this.model.isFullscreen = value; }\n    get isFullscreen(): boolean { return this.model.isFullscreen; }\n\n    set isMuted(value: boolean) { this.model.isMuted = value; }\n    get isMuted(): boolean { return this.model.isMuted; }\n\n    set isMuteAtPlayStart(value: boolean) { this.model.isMuteAtPlayStart = value; }\n    get isMuteAtPlayStart(): boolean { return this.model.isMuteAtPlayStart; }\n\n    set started(value: boolean) { this.model.started = value; }\n    get started(): boolean { return this.model.started; }\n\n    set userHasUnmuted(value: boolean) { this.model.userHasUnmuted = value; }\n    get userHasUnmuted(): boolean { return this.model.userHasUnmuted; }\n\n    set volume(value: number) { this.model.volume = value; }\n    get volume(): number { return this.model.volume; }\n\n    set usesSsai(value: boolean) { this.model.usesSsai = value; }\n    get usesSsai(): boolean { return this.model.usesSsai; }\n\n    set streamId(value: string) { this.model.streamId = value; }\n    get streamId(): string { return this.model.streamId; }\n\n    set suspended(value: boolean) { this.model.suspended = value; }\n    get suspended(): boolean { return this.model.suspended; }\n}\n","import { AdBreakInfoInterface } from '../../iface/AdBreakInfoInterface';\nimport { AdItemInterface } from '../../iface/AdItemInterface';\nimport { BuildInfoInterface } from '../../iface/BuildInfoInterface';\nimport { ContentPlaybackStateInterface } from '../../iface/ContentPlaybackStateInterface';\nimport { ModelSnapshotInterface } from '../../iface/ModelSnapshotInterface';\nimport { PlayerDomInterface } from '../../iface/PlayerDomInterface';\nimport { PlayerOptionsInterface } from '../../iface/PlayerOptionsInterface';\nimport { PresentationStateInterface } from '../../iface/PresentationStateInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { config } from '../cfg';\nimport { AdBreakInfo } from './AdBreakInfo';\nimport { AdItem } from './AdItem';\nimport { BuildInfo } from './BuildInfo';\nimport { ContentPlaybackState } from './ContentPlaybackState';\nimport { PlayerDom } from './PlayerDom';\nimport { PlayerOptions } from './PlayerOptions';\nimport { PresentationState } from './PresentationState';\n\n\nexport class ModelCollection {\n\n    private mdlCollection: StrAnyDict;\n\n    constructor() {\n        this.mdlCollection = {};\n        this.createModels();\n    }\n\n    destroy() {\n        for (let q in this.mdlCollection) {\n            delete this.mdlCollection[q];\n        }\n        this.mdlCollection = null;\n    }\n\n    getModel<T>(name: string): T {\n        return <T>(this.mdlCollection[name]);\n    }\n\n    getSnapshot(): ModelSnapshotInterface {\n        const out = <ModelSnapshotInterface>{};\n        for (let q in this.mdlCollection) {\n            if (q == 'PlayerDom' || q == 'PlayerOptions' || q == 'BuildInfo') continue;\n            out[q] = this.mdlCollection[q].data;\n        }\n\n        return out;\n    }\n\n    get AdBreakInfo(): AdBreakInfoInterface { return this.mdlCollection.AdBreakInfo; }\n\n    get AdItem(): AdItemInterface { return this.mdlCollection.AdItem; }\n\n    get BuildInfo(): BuildInfoInterface { return this.mdlCollection.BuildInfo; }\n\n    get ContentPlaybackState(): ContentPlaybackStateInterface { return this.mdlCollection.ContentPlaybackState; }\n\n    get PlayerDom(): PlayerDomInterface { return this.mdlCollection.PlayerDom; }\n\n    get PlayerOptions(): PlayerOptionsInterface { return this.mdlCollection.PlayerOptions; }\n\n    get PresentationState(): PresentationStateInterface { return this.mdlCollection.PresentationState; }\n\n\n    private createModels(): void {\n        let models = [\n            AdBreakInfo,\n            AdItem,\n            BuildInfo,\n            ContentPlaybackState,\n            PlayerDom,\n            PlayerOptions,\n            PresentationState,\n        ] as any,\n            i = models.length;\n\n        while (i--) {\n            let c = models[i],\n                n = c.modelName,\n                cfg = config[this.classToCfgName(n)];\n\n            this.mdlCollection[n] = new c(cfg);\n        }\n    }\n\n    private classToCfgName(str: string): string {\n        return (str.replace(/(?:^|\\.?)([A-Z])/g, function (x, y) {\n            return '_' + y.toLowerCase();\n        }).replace(/^_/, '')) + '_config';\n    }\n}\n","import { Util } from '../../core/Util';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { ModelName } from '../../enum/ModelName';\nimport { ProxyName } from '../../enum/ProxyName';\nimport { ServiceName } from '../../enum/ServiceName';\nimport { NotificationInterface, SystemServiceInterface } from '../../iface';\nimport { BuildInfoInterface } from '../../iface/BuildInfoInterface';\nimport { PlayerDomInterface } from '../../iface/PlayerDomInterface';\nimport { PlayerOptionsInterface } from '../../iface/PlayerOptionsInterface';\nimport { LocalizationProxy } from '../../model/LocalizationProxy';\nimport { ModelCollectionProxy } from '../../model/ModelCollectionProxy';\nimport { PerformanceProxy } from '../../model/PerformanceProxy';\nimport { PlayerDomProxy } from '../../model/PlayerDomProxy';\nimport { PlaylistProxy } from '../../model/PlaylistProxy';\nimport { TextTrackProxy } from '../../model/TextTrackProxy';\nimport { ModelCollection } from '../../model/vo/ModelCollection';\nimport { BuildInfoService } from '../../service/BuildInfoService';\nimport { LogAwareSimpleCommand } from '../LogAwareSimpleCommand';\n\n\nexport class PrepModelCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface): void {\n        const sys = <SystemServiceInterface>this.facade.retrieveService(ServiceName.System),\n            mdlColl = new ModelCollection(),\n            mdlCollProxy = new ModelCollectionProxy(ProxyName.ModelCollectionProxy, mdlColl),\n            playerOptions = <PlayerOptionsInterface>notification.body.playerOptions;\n\n        // Model collection Proxy\n        this.facade.registerProxy(mdlCollProxy);\n        this.setPlayerOptions(mdlCollProxy, playerOptions);\n        this.setBuildInfo(mdlCollProxy);\n\n        // Performance Proxy\n        this.facade.registerProxy(new PerformanceProxy(ProxyName.PerformanceProxy));\n\n        // Localization Proxy\n        const loc = new LocalizationProxy(ProxyName.LocalizationProxy, playerOptions.language)\n        this.facade.registerProxy(loc);\n\n        // Text Track Proxy\n        this.facade.registerProxy(new TextTrackProxy(ProxyName.TextTrackProxy, { native: playerOptions.renderTextTrackNatively, language: loc.language }));\n\n        // DOM Proxy\n        !sys.isWebMaf && this.createDomProxy(mdlCollProxy);\n\n        // Playlist Proxy\n        this.facade.registerProxy(new PlaylistProxy(ProxyName.Playlist));\n\n        this.log(LogLevel.DEBUG, 'Model prepared');\n    }\n\n    private setPlayerOptions(proxy: ModelCollectionProxy, opts: PlayerOptionsInterface): void {\n        const pOptsMdl = <PlayerOptionsInterface>proxy.getModel(ModelName.PlayerOptions);\n\n        for (let q in opts) {\n            !Util.isUndefined(pOptsMdl[q]) && (pOptsMdl[q] = opts[q]);\n        }\n    }\n\n    private setBuildInfo(proxy: ModelCollectionProxy): void {\n        const fac = this.facade,\n            buildInfoMdl = <BuildInfoInterface>proxy.getModel(ModelName.BuildInfo),\n            buildInfoService = <BuildInfoService>fac.retrieveService(ServiceName.BuildInfo),\n            serviceInfo = (<unknown>buildInfoService) as Record<string, string>;\n\n        for (let q in serviceInfo) {\n            buildInfoMdl[q] = serviceInfo[q];\n        }\n    }\n\n    private createDomProxy(proxy: ModelCollectionProxy): void {\n        const mdl = <PlayerDomInterface>proxy.getModel(ModelName.PlayerDom),\n            domCollProxy = new PlayerDomProxy(ProxyName.PlayerDomProxy, mdl);\n\n        this.facade.registerProxy(domCollProxy);\n    }\n}\n","export enum KeyboardScope {\n    NONE = 'none',\n    DOCUMENT = 'document',\n    PLAYER = 'player'\n}\n","import { Util } from '../core/Util';\nimport { ServiceName } from '../enum/ServiceName';\nimport { KeyCommandDef, NotificationInterface, SystemServiceInterface } from '../iface';\nimport { LogAwareMediator } from './LogAwareMediator';\n\n\nexport abstract class AbstractKeyCommandMediator extends LogAwareMediator {\n\n    protected defs: KeyCommandDef[] = [];\n\n    private pScope: HTMLElement | Document = null;\n    private keyUpHandler: EventListenerOrEventListenerObject = null;\n    private keyDownHandler: EventListenerOrEventListenerObject = null;\n    private pDisabled: boolean = false;\n    private suppressed: boolean = false;\n    private scopeActive: boolean | null = null;\n\n    constructor(name: string) {\n        super(name);\n    }\n\n    onRemove() {\n        this.activateScope(false);\n        this.pScope = null;\n        const mt = function (e: KeyboardEvent) { };\n        this.keyUpHandler = mt;\n        this.keyDownHandler = mt;\n    }\n\n    get disabled(): boolean {\n        return this.suppressed || this.pDisabled;\n    }\n\n    set scope(scp: HTMLElement | Document) {\n        if (this.suppressed) { \n            return;\n        }\n\n        if (this.pScope && this.scopeActive) {\n            this.activateScope(false);\n        }\n\n        this.pScope = scp;\n\n        const active = !!this.scopeActive || this.scopeActive === null;\n    \n        active && this.activateScope(true);\n    }\n\n    registerCommandDef(cmdDef: KeyCommandDef) {\n        if (this.suppressed) { return }\n\n        this.defs.push(cmdDef);\n    }\n\n    disable() {\n        if (this.suppressed) { return }\n        this.scopeActive && this.activateScope(false);\n        this.pDisabled = true;\n    }\n\n    enable() {\n        if (this.suppressed) { return }\n        !this.scopeActive && this.activateScope(true);\n        this.pDisabled = false;\n    }\n\n    protected abstract hKeyUp(e: KeyboardEvent): void;\n\n    protected abstract hKeyDown(e: KeyboardEvent): void;\n\n    validatePrimaryKey(def: KeyCommandDef, e: KeyboardEvent): boolean {\n        const k = e.key,\n            kl = Util.isString(k) && k.toLowerCase(),\n            kc = e.keyCode;\n\n        if (!k && !kc) { return false; }\n\n        const hasKey = def.primaryKey === k || def.primaryKey === kl || def.keyCode === kc;\n\n        return hasKey;\n    }\n\n    getCommand(e: KeyboardEvent, checkModifiers: boolean = true): KeyCommandDef | null {\n        let i = this.defs.length,\n            def = null,\n            mods, d;\n\n        while (i--) {\n            d = this.defs[i];\n            if (this.validatePrimaryKey(d, e)) {\n                mods = !checkModifiers || this.hasRequiredModifiers(d, e);\n                if (mods) {\n                    def = d;\n                    break;\n                }\n            }\n        }\n\n        return def;\n    }\n\n    /**\n     * Checks if required modifier keys are pressed.\n     *\n     * Using bitwise XOR; any mismatch will yield a '1'.\n     * e.g. 1 ^ 1 = 0;  1 ^ 0 = 1; 0 ^ 0 = 0\n     * \n     * Note that JS allows booleans in XOR expressions, but TS doesn't,\n     * so bool values are converted to 1 / 0\n     */\n    hasRequiredModifiers(def: KeyCommandDef, event: KeyboardEvent): boolean {\n        const c1 = !!((def.requireCtrl ? 1 : 0) ^ (event.ctrlKey ? 1 : 0)),\n            c2 = !!((def.requireShift ? 1 : 0) ^ (event.shiftKey ? 1 : 0)),\n            c3 = !!((def.requireMeta ? 1 : 0) ^ (event.metaKey ? 1 : 0));\n\n        // each of the above must be FALSE to pass test\n        return !c1 && !c2 && !c3;\n    }\n\n    activateScope(flag: boolean): void {\n        if (!this.pScope || this.suppressed) { \n            return; \n        }\n\n        const m = flag ? 'addEventListener' : 'removeEventListener';\n        this.pScope[m](\"keyup\", this.keyUpHandler);\n        this.pScope[m](\"keydown\", this.keyDownHandler);\n\n        this.scopeActive = flag;\n    }\n\n    handleNotification(notification: NotificationInterface): void {\n        // no impl\n    }\n\n    onRegister(): void {\n        super.onRegister();\n\n        const sys = <SystemServiceInterface>this.facade.retrieveService(ServiceName.System);\n        if (!sys.document || sys.isTv || sys.isWebMaf) {\n            this.suppressed = true;\n            return;\n        }\n\n        this.keyDownHandler = (e: KeyboardEvent) => this.hKeyDown(e);\n        this.keyUpHandler = (e: KeyboardEvent) => this.hKeyUp(e);\n    }\n}\n","import { AppResources } from '../app/AppResources';\nimport { Util } from '../core/Util';\nimport { AccessibilityAction } from '../enum/AccessibilityAction';\nimport { MediatorName } from '../enum/MediatorName';\nimport { NonPrintingKey } from '../enum/NonPrintingKey';\nimport { NotificationName } from '../enum/NotificationName';\nimport { StreamType } from '../enum/StreamType';\nimport { KeyCommandDef, UiMediatorInterface } from '../iface';\nimport { VideoPlayerInterface } from '../iface/VideoPlayerInterface';\nimport { Notification } from '../mvc/Notification';\nimport { KeyCode } from '../util/KeyCode';\nimport { AbstractKeyCommandMediator } from './AbstractKeyCommandMediator';\nimport { AppMediator } from './AppMediator';\n\n\nexport class AccessibilityKeyCommandMediator extends AbstractKeyCommandMediator {\n\n    private uim: UiMediatorInterface = null;\n    private vpi: VideoPlayerInterface = null;\n    private seekMoving: boolean = false;\n    private seekEnabled: boolean = false;\n\n    private VOLUME_INCREMENT: number = 0.05;\n    private SEEK_FACTOR_DISCRETE: number = 0.05;\n    private SEEK_INCREMENT_CONTINUOUS: number = 0.001;\n\n    private tZero: number = 0; // used for seek acceleration\n\n    constructor(name: string) {\n        super(name);\n    }\n\n    onRemove(): void {\n        this.vpi = null;\n        this.uim = null;\n        super.onRemove();\n    }\n\n    protected isControl(element: Element): boolean {\n        // TODO: We need a more comprehensive way to do this, or a public\n        //       API that the UI can call to disable/enable hotkeys\n        return element.nodeName == 'BUTTON' || element.nodeName == 'INPUT';\n    }\n\n    protected hKeyUp(e: KeyboardEvent): void {\n        if (this.disabled || this.isControl(document.activeElement)) {\n            return\n        }\n\n        if (!this.seekMoving) {\n            this.processKeyEvent(e);\n        }\n        else {\n            this.disengageSeek();\n        }\n    }\n\n    protected hKeyDown(e: KeyboardEvent): void {\n        const k = e.key,\n            kc = e.keyCode,\n            up = k === NonPrintingKey.ARROW_UP || kc === KeyCode.UP_ARROW,\n            down = k === NonPrintingKey.ARROW_DOWN || kc === KeyCode.DOWN_ARROW,\n            space = k === NonPrintingKey.SPACE || kc === KeyCode.SPACE,\n            back = k === NonPrintingKey.ARROW_LEFT || kc === KeyCode.LEFT_ARROW,\n            fwd = k === NonPrintingKey.ARROW_RIGHT || kc === KeyCode.RIGHT_ARROW,\n            rep = e.repeat;\n\n        // block default scrolling behavior when player has focus\n        if ((fwd || back || up || down || space) && !this.isControl(document.activeElement)) {\n            e.preventDefault();\n            return;\n        }\n\n        if (!this.shouldSeekContinuous()) {\n            return\n        }\n\n        if (!back && !fwd) { return }\n\n        if (!this.seekMoving && rep) {\n            this.tZero = Date.now();\n            this.engageSeek();\n        }\n\n        else if (this.seekMoving && rep) {\n            const d = (Date.now() - this.tZero) * .001,\n                n = d >= 5 ? 3 : (d >= 3 ? 2 : 1), // after 3 seconds, move by 2x, after 5 sec, use 3x\n                mul = back ? - 1 : 1;\n\n            this.moveSeekBy(mul * this.SEEK_INCREMENT_CONTINUOUS * n);\n        }\n\n        this.stopEvent(e);\n    }\n\n    private engageSeek() {\n        this.uim && this.uim.engageSeek();\n        this.seekMoving = true;\n    }\n\n    private disengageSeek() {\n        this.uim && this.uim.disengageSeek();\n        this.seekMoving = false;\n        this.tZero = null;\n\n        setTimeout(() => {\n            this.uim && this.uim.forceControlsVisible(false);\n        }, 500);\n    }\n\n    private moveSeekBy(inc: number): void {\n        this.uim && this.uim.moveSeekBy(inc);\n    }\n\n    private shouldSeekContinuous(): boolean {\n        const viewOk = this.uim && this.uim.uiIsStandardView();\n\n        return viewOk && !this.disabled && this.seekEnabled;\n    }\n\n    private get player(): VideoPlayerInterface {\n        if (!this.vpi) {\n            const appMed = <AppMediator>this.facade.retrieveMediator(MediatorName.APPLICATION);\n            this.vpi = appMed.getAppApi();\n        }\n\n        return this.vpi;\n    }\n\n    private stopEvent(e: Event): void {\n        e.stopImmediatePropagation();\n        e.preventDefault();\n    }\n\n    private processKeyEvent(e: KeyboardEvent): void {\n        if (\n            e.ctrlKey\n            || e.shiftKey\n            || e.metaKey\n            || e.key === NonPrintingKey.META\n            || e.key === NonPrintingKey.SHIFT\n            || e.key === NonPrintingKey.CONTROL\n\n        ) {\n            return null;\n        }\n\n        const cmdDef = this.getCommand(e, false);\n        if (!cmdDef) {\n            return;\n        }\n\n        this.doAction(cmdDef);\n        this.stopEvent(e);\n    }\n\n    private doAction(cmdDef: KeyCommandDef): void {\n        const a = cmdDef.action;\n        let cv, v, mul;\n\n        switch (a) {\n\n            case AccessibilityAction.INCREASE_VOLUME:\n            case AccessibilityAction.DECREASE_VOLUME:\n                mul = a === AccessibilityAction.DECREASE_VOLUME ? - 1 : 1;\n                cv = this.player.volume,\n                    v = Util.clampValue(cv + (this.VOLUME_INCREMENT * mul), 0, 1);\n\n                this.player.volume = v;\n                this.uim && this.uim.setAccVolumeLevelIndicator(v);\n                break;\n\n            case AccessibilityAction.SEEK_BACK:\n            case AccessibilityAction.SEEK_FORWARD:\n                if (!this.seekEnabled) { return }\n\n                const d = this.player.contentDuration;\n                mul = a === AccessibilityAction.SEEK_BACK ? - 1 : 1;\n                cv = this.player.contentTime;\n\n                if (!d || isNaN(d) || (mul === 1 && this.player.streamType === StreamType.DVR && this.player.isPlayingLive)) {\n                    return;\n                }\n\n                v = Util.clampValue(cv + (this.SEEK_FACTOR_DISCRETE * mul * d), 0, d);\n\n                this.setSeekNotice(v, mul);\n                this.player.seek(v);\n\n                break;\n\n            case AccessibilityAction.ENTER_FULLSCREEN:\n                this.player.enterFullscreen();\n                break;\n\n            case AccessibilityAction.TOGGLE_PLAY:\n                if (this.player.streamType !== StreamType.LIVE) {\n                    this.player.togglePlayPause();\n                }\n                break;\n\n            case AccessibilityAction.TOGGLE_MUTE:\n                this.player.muted = !this.player.muted;\n                break;\n\n            case AccessibilityAction.TOGGLE_TT:\n                this.player.textTrackEnabled = !this.player.textTrackEnabled;\n                break;\n\n            case AccessibilityAction.PLAYLIST_NEXT:\n            case AccessibilityAction.PLAYLIST_PREV:\n                mul = a == AccessibilityAction.PLAYLIST_PREV ? -1 : 1;\n                if (this.player.playList.length > 1) {\n                    mul < 0 ? this.player.playList.prev() : this.player.playlist.next();\n                }\n                break;\n\n            case AccessibilityAction.STOP:\n                if (this.player.streamType === StreamType.LIVE) {\n                    this.player.stop();\n                }\n                else {\n                    this.player.pause();\n                }\n                break;\n        }\n    }\n\n    private setSeekNotice(v: number, dir: number) {\n        if (!this.uim) { return }\n\n        const t = Util.secToHms(v),\n            d = Util.secToHms(this.player.contentDuration),\n            msg = dir > 0 ? `&gt;&nbsp;&nbsp;${t}&nbsp;/&nbsp;${d}` : `${t}&nbsp;/&nbsp;${d}&nbsp;&nbsp;&lt;`;\n\n        this.uim.setSeekNotice(msg, dir);\n    }\n\n    handleNotification(notification: Notification) {\n        const n = notification.name,\n            nn = NotificationName;\n\n        switch (n) {\n            case nn.AD_BREAK_START:\n                this.seekEnabled = false;\n\n                break;\n            case nn.CONTENT_COMPLETE:\n                this.seekEnabled = false;\n                this.disable();\n                break;\n\n            case nn.CONTENT_START:\n            case nn.CONTENT_SEGMENT_START:\n                this.enable();\n                this.seekEnabled = this.player.streamType !== StreamType.LIVE;\n                break;\n        }\n    }\n\n    listNotificationInterests(): NotificationName[] {\n        const n = NotificationName;\n        return [\n            n.AD_BREAK_START,\n            n.CONTENT_START,\n            n.CONTENT_SEGMENT_START,\n            n.CONTENT_COMPLETE,\n        ];\n    }\n\n    onRegister(): void {\n        super.onRegister();\n\n        const acd = AppResources.accessibilityKeyCmdDefs;\n\n        let i = acd.length;\n        while (i--) {\n            this.registerCommandDef(acd[i]);\n        }\n\n        const m = <UiMediatorInterface>this.facade.retrieveMediator(MediatorName.UI);\n        if (m) {\n            this.uim = m;\n        }\n    }\n}\n","/*!\n* screenfull\n* v5.0.2 - 2020-02-13\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\n\tvar fn = (function () {\n\t\tvar val;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// New WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// Old WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar eventNameMap = {\n\t\tchange: fn.fullscreenchange,\n\t\terror: fn.fullscreenerror\n\t};\n\n\tvar screenfull = {\n\t\trequest: function (element) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar onFullScreenEntered = function () {\n\t\t\t\t\tthis.off('change', onFullScreenEntered);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenEntered);\n\n\t\t\t\telement = element || document.documentElement;\n\n\t\t\t\tvar returnPromise = element[fn.requestFullscreen]();\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenEntered).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\texit: function () {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tif (!this.isFullscreen) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar onFullScreenExit = function () {\n\t\t\t\t\tthis.off('change', onFullScreenExit);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenExit);\n\n\t\t\t\tvar returnPromise = document[fn.exitFullscreen]();\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenExit).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\ttoggle: function (element) {\n\t\t\treturn this.isFullscreen ? this.exit() : this.request(element);\n\t\t},\n\t\tonchange: function (callback) {\n\t\t\tthis.on('change', callback);\n\t\t},\n\t\tonerror: function (callback) {\n\t\t\tthis.on('error', callback);\n\t\t},\n\t\ton: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.addEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\toff: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.removeEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = {isEnabled: false};\n\t\t} else {\n\t\t\twindow.screenfull = {isEnabled: false};\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn Boolean(document[fn.fullscreenElement]);\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tisEnabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn Boolean(document[fn.fullscreenEnabled]);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n","import screenfull from 'screenfull';\nimport { Browser } from '../enum/Browser';\nimport { NotificationName } from '../enum/NotificationName';\nimport { NotificationType } from '../enum/NotificationType';\nimport { Os } from '../enum/Os';\nimport { ProxyName } from '../enum/ProxyName';\nimport { NotificationInterface, PlayerDomProxyInterface } from '../iface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { LogAwareMediator } from './LogAwareMediator';\n\n\n// screenfull publishes a type declaration, but for some \n// reason the only property on it is 'isEnabled'.\ninterface ScreenfullInterface {\n    isEnabled: boolean;\n    isFullscreen: boolean;\n    raw: StrAnyDict;\n    exit(): void;\n    on(e: string, h: VoidFunction): void;\n    off(e: string, h: VoidFunction): void;\n    request(l: HTMLElement): void;\n    toggle(): void;\n    onchange(e: string, h: VoidFunction): void;\n    onerror(e: string, h: VoidFunction): void;\n}\n\ninterface IosFsPropsInterface extends StrAnyDict {\n    ENTER_EVENT: string;\n    EXIT_EVENT: string;\n    ENTER_METHOD: string;\n    EXIT_METHOD: string;\n    SUPPORTED: string;\n}\n\nexport class FullscreenMediator extends LogAwareMediator {\n\n    private isFullscreen: boolean = false;\n    private fsElement: HTMLElement = null;\n    private enabled: boolean = false;\n    private pIsAndroidFirefox: boolean | null = null;\n    private isIos: boolean = false;\n    private fsMgr: ScreenfullInterface = null;\n    private changeHandler: (e?: Event) => void;\n\n    private iosPropNames: IosFsPropsInterface = {\n        ENTER_EVENT: 'webkitbeginfullscreen',\n        EXIT_EVENT: 'webkitendfullscreen',\n        ENTER_METHOD: 'webkitEnterFullscreen',\n        EXIT_METHOD: 'webkitExitFullscreen',\n        SUPPORTED: 'webkitSupportsFullscreen',\n    }\n\n    constructor(name: string, viewControl?: any) {\n        super(name, viewControl);\n        this.fsMgr = <ScreenfullInterface>screenfull;\n        this.changeHandler = (e?: Event) => this.hChange(e);\n    }\n\n    set fullscreenElement(el: HTMLElement) {\n        if (!(el instanceof HTMLElement)) {\n            return;\n        }\n        // VTG-2222: support alt fs element for non-mobile\n        if (!this.systemService.isIos && !this.systemService.isAndroid) {\n            this.fsElement = el;\n        }\n    }\n\n    get fullscreenElement(): HTMLElement {\n        return this.fsElement;\n    }\n\n    onRemove(): void {\n        if (this.isIos && this.fsElement) {\n            this.fsElement.removeEventListener(this.iosPropNames.ENTER_EVENT, this.changeHandler);\n            this.fsElement.removeEventListener(this.iosPropNames.EXIT_EVENT, this.changeHandler);\n        }\n\n        this.fsMgr && this.fsMgr.off('change', this.changeHandler);\n        this.fsElement = null;\n        this.fsMgr = null;\n\n        super.onRemove();\n    }\n\n    enter(): void {\n        if (!this.enabled) { return }\n        this.isIos ? this.enterFsIos() : this.fsMgr.request(this.fsElement);\n    }\n\n    exit(): void {\n        if (!this.enabled) { return }\n        this.isIos ? this.exitFsIos() : this.fsMgr.exit();\n    }\n\n    isFullScreenPermitted(): boolean {\n        return this.enabled;\n    }\n\n    isFullScreen(): boolean {\n        return this.isFullscreen;\n    }\n\n    ///////////////////////////////////\n    // PRIVATE / MVC\n\n    private get isAndroidFirefox(): boolean {\n        if (this.pIsAndroidFirefox === null) {\n            const sysSvc = this.systemService;\n            this.pIsAndroidFirefox = sysSvc.os === Os.ANDROID && sysSvc.browser === Browser.FIREFOX;\n        }\n        return this.pIsAndroidFirefox;\n    }\n\n    handleNotification(notification: NotificationInterface): void {\n        const n = notification.name;\n\n        if (n === NotificationName.VIDEO_LOADED_METADATA) {\n            this.handleMetadataLoaded();\n            return;\n        }\n\n        if (!this.enabled) { return; }\n\n        const enter = n === NotificationName.ENTER_FULLSCREEN_REQUEST;\n        enter ? this.enter() : this.exit();\n    }\n\n    listNotificationInterests(): string[] {\n        return [\n            NotificationName.VIDEO_LOADED_METADATA,\n            NotificationName.ENTER_FULLSCREEN_REQUEST,\n            NotificationName.EXIT_FULLSCREEN_REQUEST\n        ];\n    }\n\n    private handleMetadataLoaded(): void {\n        this.enabled = this.enabled || this.webkitIosEnabled();\n        this.enabled && this.sendNotification(NotificationName.FULLSCREEN_AVAILABLE, null);\n    }\n\n    private hChange(e?: Event): void {\n        this.isFullscreen = this.isIos ? this.checkWebkitIsoState(e) : (<any>screenfull).isFullscreen;\n\n        if (this.isAndroidFirefox) {\n            // controls must be explicitly set for this case\n            this.isFullscreen && this.fsElement.setAttribute('controls', '');\n            !this.isFullscreen && this.fsElement.removeAttribute('controls');\n        }\n\n        this.sendNotification(\n            NotificationName.FULLSCREEN_CHANGE,\n            { isFullscreen: this.isFullscreen },\n            NotificationType.INTERNAL\n        );\n    }\n\n    private enterFsIos(): void {\n        (<any>this.fsElement)[this.iosPropNames.ENTER_METHOD]();\n    }\n\n    private exitFsIos(): void {\n        (<any>this.fsElement)[this.iosPropNames.EXIT_METHOD]();\n    }\n\n    private webkitIosEnabled(): boolean {\n        return this.systemService.isIos && (<any>this.fsElement)[this.iosPropNames.SUPPORTED];\n    }\n\n    private checkWebkitIsoState(e: Event): boolean {\n        return e.type === this.iosPropNames.ENTER_EVENT;\n    }\n\n    onRegister(): void {\n        const sys = this.systemService,\n            dp = <PlayerDomProxyInterface>this.facade.retrieveProxy(ProxyName.PlayerDomProxy);\n\n        // On iOS and Android devices, use native fullscreen; i.e,\n        // the video element itself will be the fullscreen element.\n\n        // Android has Fullscreen API support, so we can use \n        // 'screenfull' to manage fullscreen state.\n\n        // iOS has mixed support for Fullscreen API, but it's easiest\n        // to just manage it separately, as if it doesn't, and leave\n        // 'screenfull' out of any iOS FS management.\n\n        // Note that this approach forces all mobile devices - even those that do\n        // have FS API support (Android phones and tablets, iPad) - to use native \n        // controls in fullscreen mode, and this is intended (as of may 2020, r 0.10.0).\n        if (sys.isIos || sys.isAndroid) {\n            this.isIos = sys.isIos;\n            this.fsElement = <HTMLElement>(<unknown>dp.getVideo());\n        }\n        else {\n            // otherwise, the main container is used as the fullscreen element\n            this.fsElement = dp.getMain();\n        }\n\n        if (!this.isIos && this.fsElement && this.fsMgr.isEnabled) {\n            this.enabled = true;\n            this.fsMgr.on('change', this.changeHandler);\n        }\n        else if (this.fsElement && this.isIos) {\n            this.fsElement.addEventListener(this.iosPropNames.ENTER_EVENT, this.changeHandler);\n            this.fsElement.addEventListener(this.iosPropNames.EXIT_EVENT, this.changeHandler);\n        }\n    }\n}\n","export enum VideoMode {\n    AD,\n    CONTENT,\n    IDLE\n}\n","import { cvui } from '../cvui';\nimport { LogLevel } from '../enum/LogLevel';\nimport { MediatorName } from '../enum/MediatorName';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { NotificationType } from '../enum/NotificationType';\nimport { PlaybackState } from '../enum/PlaybackState';\nimport { ProxyName } from '../enum/ProxyName';\nimport { StreamType } from '../enum/StreamType';\nimport { VideoMode } from '../enum/VideoMode';\nimport { NotificationInterface, ProgressDataInterface, UiEnumCollectionInterface, UiMediatorInterface } from '../iface';\nimport { EventHandler } from '../iface/EventHandler';\nimport { EventInterface } from '../iface/EventInterface';\nimport { PresentationStateInterface } from '../iface/PresentationStateInterface';\nimport { ContentPlaybackStateProxy } from '../model/ContentPlaybackStateProxy';\nimport { LocalizationProxy } from '../model/LocalizationProxy';\nimport { FullscreenMediator } from './FullscreenMediator';\nimport { LogAwareMediator } from './LogAwareMediator';\nimport ViewControllerInterface = cvui.ViewControllerInterface;\nimport ControlEvent = cvui.ControlEvent;\nimport ControlName = cvui.ControlName;\n\n\nexport class UiMediator extends LogAwareMediator implements UiMediatorInterface {\n\n    private enums!: UiEnumCollectionInterface;\n    private fsm!: FullscreenMediator;\n    private seekRedirectPending: boolean = false;\n    private ccEnabled: boolean = false;\n    private ccAvail: boolean = false;\n    private fullScreenAccessRestricted = false;\n    private increment: number = 10;\n    private isPlayingLive: boolean = false;\n    private controlsVisible: boolean = false;\n\n    constructor(name: string, viewControl?: any) {\n        super(name, viewControl);\n    }\n\n    onRegister() {\n        const service = this.facade.retrieveProxy(ProxyName.LocalizationProxy) as LocalizationProxy;\n        this.ui.setLocalizationService(service);\n\n        const getThumbnail = (time: number) => {\n            const cps = this.facade.retrieveProxy(ProxyName.ContentPlaybackStateProxy) as ContentPlaybackStateProxy;\n            return cps.getThumbnail(time);\n        }\n        this.ui.setThumbnailService({ getThumbnail });\n    }\n\n    onRemove(): void {\n        this.viewControl && this.viewControl.destroy();\n        this.viewControl = null;\n        this.enums = null;\n        this.fsm = null;\n        super.onRemove();\n    }\n\n    get viewController(): ViewControllerInterface {\n        return this.ui;\n    }\n\n    get controlNames(): ControlName {\n        return this.enums.ControlName;\n    }\n\n    uiIsStandardView(): boolean {\n        return this.ui.isStandardView();\n    }\n\n    setSeekNotice(str: string, dir: number): void {\n        this.ui.setSeekNotice(str, dir);\n    }\n\n    setFullScreenAccessRestricted(flag: boolean): void {\n        this.fullScreenAccessRestricted = flag;\n    }\n\n    killUi(): void {\n        this.viewControl && this.viewControl.destroy();\n        this.viewControl = null;\n    }\n\n    initialize(enumCollection: UiEnumCollectionInterface): void {\n        this.enums = enumCollection;\n        this.init();\n    }\n\n    enableControl(name: string): void {\n        this.ui.enableControl(name);\n    }\n\n    disableControl(name: string): void {\n        this.ui.disableControl(name);\n    }\n\n    enableFullscreen(): void {\n        if (!this.fullScreenAccessRestricted && this.isFullScreenAvailable()) {\n            this.enableControl(this.controlNames.FULLSCREEN_TOGGLE);\n        }\n    }\n\n    disableFullscreen(): void {\n        this.disableControl(this.controlNames.FULLSCREEN_TOGGLE);\n    }\n\n    setMuteState(flag: boolean): void {\n        this.ui.setMuteState(flag);\n    }\n\n    forceControlsVisible(flag: boolean): void {\n        this.ui.forceControlsVisible(flag);\n    }\n\n    setSeekable(flag: boolean): void {\n        this.ui.setSeekable(flag);\n    }\n\n    engageSeek(): void {\n        this.ui.forceControlsVisible(true);\n        this.ui.beginSeekMove();\n    }\n\n    disengageSeek(): void {\n        this.ui.endSeekMove();\n        setTimeout(() => this.ui.forceControlsVisible(false), 500);\n    }\n\n    moveSeekBy(inc: number): void {\n        this.ui.moveSeekBy(inc);\n    }\n\n    setVolume(value: number): void {\n        if (!isNaN(value) && value >= 0 && value <= 1) {\n            this.ui.setVolume(value);\n        }\n    }\n\n    setTransportType(type: StreamType) {\n        // TODO: Remove this once UI is updated to accept StreamType enum\n        const num = (type == StreamType.LIVE) ? 1 : (type == StreamType.DVR) ? 2 : 0;\n        this.ui.setTransportType(num);\n    }\n\n    setIsPlayingLive(isLive: boolean) {\n        this.isPlayingLive = isLive;\n        this.ui.setIsPlayingLive(isLive);\n    }\n\n    setClosedCaptionState(state: boolean): void {\n        this.ui.setClosedCaptionState(state);\n    }\n\n    updateProgress(pdi: ProgressDataInterface): void {\n        const { playheadTime, duration } = pdi;\n\n        this.ui.updateProgress({\n            currentTime: playheadTime,\n            duration: duration\n        });\n\n        const cn: ControlName = this.controlNames;\n        if (this.isPlayingLive || playheadTime + this.increment >= duration) {\n            this.ui.disableControl(cn.SEEK_FORWARD_BUTTON);\n        }\n        else {\n            this.ui.enableControl(cn.SEEK_FORWARD_BUTTON);\n        }\n\n        if (playheadTime <= this.increment) {\n            this.ui.disableControl(cn.SEEK_BACK_BUTTON);\n        }\n        else {\n            this.ui.enableControl(cn.SEEK_BACK_BUTTON);\n        }\n    }\n\n    setClickCatcherState(state: PlaybackState): void {\n        const s = state === PlaybackState.PLAYING ? this.enums.PlayState.PLAYING : this.enums.PlayState.PAUSED;\n        this.ui.setClickCatcherState(s);\n    }\n\n    hideClickCatcher(flag: boolean) {\n        this.ui.hideClickCatcher(flag);\n    }\n\n    displayPoster(flag: boolean): void {\n        this.ui.showDecorator(this.enums.DecoratorName.POSTER, flag);\n    }\n\n    activatePoster(): void {\n        this.ui.activatePoster();\n    }\n\n    showUnmutePrompt(): void {\n        this.ui.showDecorator(this.enums.DecoratorName.UNMUTE_PROMPT, true);\n    }\n\n    displaySpinner(flag: boolean): void {\n        this.ui.showDecorator(this.enums.DecoratorName.SPINNER, flag);\n    }\n\n    setAccVolumeLevelIndicator(val: number): void {\n        this.ui.setAccVolumeLevelIndicator(val);\n    }\n\n    setVideoMode(m: VideoMode): void {\n        this.ui.setVideoMode(m);\n    }\n\n    resetUi(): void {\n        this.hideClickCatcher(true);\n        this.displayPoster(false);\n        this.ui.setChapterMarkers([]);\n        this.ui.setVideoMode(VideoMode.IDLE);\n    }\n\n    handleNotification(notification: NotificationInterface): void {\n        const n = notification.name,\n            data = notification.body;\n\n        if (!this.ui) {\n            return;\n        }\n\n        switch (n) {\n            case NotificationName.ENABLE_UI:\n                this.enableFullscreen();\n                this.ui.activateControls();\n                break;\n\n            case NotificationName.DISABLE_UI:\n                this.ui.setVideoMode(VideoMode.IDLE);\n                this.ui.inactivateControls();\n                break;\n\n            case NotificationName.VIDEO_LOAD_START:\n                this.displaySpinner(true);\n                break;\n\n            case NotificationName.VIDEO_LOAD_COMPLETE:\n                this.displaySpinner(false);\n                break;\n\n            case NotificationName.CONTENT_TIME_UPDATE:\n                if (this.seekRedirectPending) {\n                    return;\n                }\n                this.ui.updateProgress({\n                    currentTime: data.contentTime,\n                    duration: data.contentDuration\n                });\n                break;\n\n            case NotificationName.AD_CUEPOINTS_AVAILABLE:\n                this.ui.setChapterMarkers(data.cuepoints);\n                break;\n\n            case NotificationName.AD_TIME_UPDATE:\n                this.ui.updateProgress({\n                    currentTime: data.currentTime,\n                    duration: data.duration\n                });\n                break;\n\n            case NotificationName.TEXT_TRACK_AVAILABLE:\n                this.ccAvail = true;\n                this.ui.enableControl(this.controlNames.CC_TOGGLE);\n                if (this.ccEnabled) {\n                    this.ui.setClosedCaptionState(true);\n                    this.activateCaptions(true);\n                }\n                break;\n\n            case NotificationName.TEXT_TRACK_DISPLAY_MODE_CHANGE:\n                this.doCaptionCheckOnControlVisChange()\n                break;\n\n            case NotificationName.CONTENT_SEEKING:\n                this.displaySpinner(true);\n                if (this.seekRedirectPending) {\n                    return;\n                }\n                this.ui.setSeekComplete();\n                break;\n\n            case NotificationName.SEEK_REDIRECT_START:\n                this.seekRedirectPending = true;\n                break;\n\n            case NotificationName.SEEK_REDIRECT_COMPLETE:\n                this.seekRedirectPending = false;\n                break;\n\n            case NotificationName.CONTENT_SEEKED:\n                this.displaySpinner(false);\n\n                if (this.seekRedirectPending) {\n                    return;\n                }\n                this.ui.setSeekComplete();\n                break;\n\n            case NotificationName.CONTENT_BUFFERING:\n                this.displaySpinner(data.value);\n                break;\n\n            case NotificationName.FULLSCREEN_AVAILABLE:\n                this.enableFullscreen();\n                break;\n\n            case NotificationName.FULLSCREEN_CHANGE:\n                this.ui.setFullscreenState(notification.body.isFullscreen);\n                break;\n\n            case NotificationName.PRESENTATION_SIZE_CHANGE:\n                this.ui.updateSize();\n                break;\n\n            case NotificationName.RESOURCE_PLAYING:\n                this.displaySpinner(false);\n                this.setPlayState(PlaybackState.PLAYING);\n                break;\n\n            case NotificationName.RESOURCE_PAUSED:\n                this.setPlayState(PlaybackState.PAUSED);\n                break;\n\n            case NotificationName.AD_BREAK_START:\n                this.ui.hidePanelsForAdPlay(true);\n                this.ui.setVideoMode(VideoMode.AD);\n                break;\n\n            case NotificationName.CONTENT_START:\n            case NotificationName.CONTENT_SEGMENT_START:\n                this.ui.setVideoMode(VideoMode.CONTENT);\n                this.ccAvail && this.ui.enableControl(this.controlNames.CC_TOGGLE);\n                break;\n\n            case NotificationName.AD_BREAK_COMPLETE:\n            case NotificationName.CONTENT_SEGMENT_END:\n            case NotificationName.RESOURCE_INTERRUPTED:\n            case NotificationName.CONTENT_COMPLETE:\n                this.ui.resetProgress();\n                this.ui.setVideoMode(VideoMode.IDLE);\n\n                if (n === NotificationName.AD_BREAK_COMPLETE) {\n                    this.ui.hidePanelsForAdPlay(false);\n                }\n                else {\n                    this.ui.disableControl(this.controlNames.CC_TOGGLE);\n                }\n\n                if (n == NotificationName.RESOURCE_INTERRUPTED || n === NotificationName.CONTENT_COMPLETE) {\n                    this.ccAvail = false;\n                }\n                break;\n\n            case NotificationName.READY:\n            case NotificationName.LANGUAGE_CHANGE:\n                this.ui.updateText();\n                break;\n\n            default: break;\n        }\n    }\n\n    listNotificationInterests(): string[] {\n        return [\n            NotificationName.AD_CUEPOINTS_AVAILABLE,\n            NotificationName.ENABLE_UI,\n            NotificationName.DISABLE_UI,\n            NotificationName.SEEK_REDIRECT_START,\n            NotificationName.SEEK_REDIRECT_COMPLETE,\n            NotificationName.CONTENT_SEEKED,\n            NotificationName.CONTENT_BUFFERING,\n            NotificationName.FULLSCREEN_AVAILABLE,\n            NotificationName.FULLSCREEN_CHANGE,\n            NotificationName.PRESENTATION_SIZE_CHANGE,\n            NotificationName.RESOURCE_PLAYING,\n            NotificationName.RESOURCE_PAUSED,\n            NotificationName.RESOURCE_INTERRUPTED,\n            NotificationName.AD_BREAK_START,\n            NotificationName.CONTENT_START,\n            NotificationName.CONTENT_COMPLETE,\n            NotificationName.CONTENT_SEGMENT_START,\n            NotificationName.AD_BREAK_COMPLETE,\n            NotificationName.CONTENT_SEGMENT_END,\n            NotificationName.AD_TIME_UPDATE,\n            NotificationName.CONTENT_TIME_UPDATE,\n            NotificationName.TEXT_TRACK_AVAILABLE,\n            NotificationName.TEXT_TRACK_DISPLAY_MODE_CHANGE,\n            NotificationName.VIDEO_LOAD_START,\n            NotificationName.VIDEO_LOAD_COMPLETE,\n            NotificationName.LANGUAGE_CHANGE,\n            NotificationName.READY,\n        ];\n    }\n\n    private setPlayState(s: PlaybackState): void {\n        const key = PlaybackState[s],\n            st = this.enums.PlayState[key];\n\n        st !== null && st !== undefined && this.ui.setPlayState(st);\n    }\n\n    private get ui(): ViewControllerInterface {\n        return <ViewControllerInterface>this.viewControl;\n    }\n\n    private hVisibilityEvent(e: EventInterface): void {\n        const ps: PresentationStateInterface = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n\n        if (ps.isCurrentVideoAd) {\n            return;\n        }\n\n        const ce: ControlEvent = this.enums.ControlEvent;\n        let name: string | null = null;\n\n        switch (e.type) {\n            case ce.BEFORE_CONTROLS_VISIBLE:\n                this.updateControlsVisible(true);\n                name = NotificationName.BEFORE_CONTROLS_VISIBLE;\n                break;\n\n            case ce.CONTROLS_VISIBLE:\n                name = NotificationName.CONTROLS_VISIBLE;\n                break;\n\n            case ce.BEFORE_CONTROLS_HIDDEN:\n                name = NotificationName.BEFORE_CONTROLS_HIDDEN;\n                break;\n\n            case ce.CONTROLS_HIDDEN:\n                this.updateControlsVisible(false);\n                name = NotificationName.CONTROLS_HIDDEN;\n                break;\n        }\n\n        name && this.sendNotification(name);\n    }\n\n    /** All action event handling is consolidated here */\n    // TODO: create interface/enum for action constants\n    private hActionEvent(e: EventInterface): void {\n        const action = e.data.action;\n\n        let note = null,\n            body = null;\n\n        switch (action) {\n            case 'mute':\n                note = NotificationName.MUTE;\n                break;\n\n            case 'unmute':\n                note = NotificationName.UNMUTE;\n                break;\n\n            case 'volume':\n                note = NotificationName.VOLUME_CHANGE;\n                body = { value: e.data.value };\n                break;\n\n            case 'pause':\n                note = NotificationName.PAUSE;\n                break;\n\n            case 'stop':\n                note = NotificationName.STOP;\n                break;\n\n            case 'play':\n                note = NotificationName.PLAY;\n                break;\n\n            case 'posterClick':\n                note = NotificationName.PLAY_ON_USER_GESTURE;\n                break;\n\n            case 'ccEnabled':\n            case 'ccDisabled':\n                const enabled = action === 'ccEnabled';\n                this.activateCaptions(enabled);\n                break;\n\n            case 'seek':\n                note = NotificationName.SEEK;\n                body = { value: e.data.value };\n                break;\n\n            case 'seekForward':\n                note = NotificationName.SEEK_FORWARD;\n                body = { value: e.data.value || this.increment };\n                break;\n\n            case 'seekBack':\n                note = NotificationName.SEEK_BACK;\n                body = { value: e.data.value || this.increment };\n                break;\n\n            case 'enterFullscreen':\n                note = NotificationName.ENTER_FULLSCREEN_REQUEST;\n                break;\n\n            case 'exitFullscreen':\n                note = NotificationName.EXIT_FULLSCREEN_REQUEST;\n                break;\n\n            case 'goLive':\n                note = NotificationName.SEEK_TO_LIVE;\n                break;\n\n            case 'settings':\n                note = NotificationName.USER_SETTINGS_REQUEST;\n                break;\n\n            default:\n                break;\n        }\n\n        note && this.sendNotification(note, body, NotificationType.UI);\n    }\n\n    private doCaptionCheckOnControlVisChange(): void {\n        // only request offset if captions avail the view is currently \n        // full content view (not compact or ad view)\n        if (this.ui.isStandardView() && this.ccAvail) {\n            this.sendNotification(\n                NotificationName.TT_OFFSET_REQUEST,\n                { controlsVisible: this.controlsVisible },\n                NotificationType.UI\n            );\n        }\n    }\n\n    private updateControlsVisible(controlsVisible: boolean) {\n        this.controlsVisible = controlsVisible;\n        this.doCaptionCheckOnControlVisChange();\n    }\n\n    private hGestureEvent(e: EventInterface): void {\n        const presoMdl = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n        if (presoMdl.isCurrentVideoAd) {\n            return;\n        }\n        const n = e.type === this.enums.ControlEvent.MOUSE_ENTER_PRESENTATION ?\n            NotificationName.MOUSE_ENTER_PRESENTATION :\n            NotificationName.MOUSE_LEAVE_PRESENTATION;\n\n        this.sendNotification(n, null, NotificationType.UI);\n    }\n\n    private activateCaptions(flag: boolean): void {\n        this.ccEnabled = flag;\n        this.sendNotification(NotificationName.SWITCH_TEXT_MODE, { value: flag }, NotificationType.UI);\n    }\n\n    private isFullScreenAvailable(): boolean {\n        return this.fsMediator && this.fsMediator.isFullScreenPermitted();\n    }\n\n    private get fsMediator(): FullscreenMediator {\n        if (!this.fsm) {\n            this.fsm = <FullscreenMediator>this.facade.retrieveMediator(MediatorName.FULLSCREEN);\n        }\n\n        return this.fsm;\n    }\n\n    private init(): void {\n        const ce: ControlEvent = this.enums.ControlEvent,\n            cn: ControlName = this.controlNames,\n            actionHandler: EventHandler = (e: EventInterface) => this.hActionEvent(e),\n            visibilityHandler: EventHandler = (e: EventInterface) => this.hVisibilityEvent(e),\n            gestureHandler: EventHandler = (e: EventInterface) => this.hGestureEvent(e);\n\n        // visibility event handling\n        const list: string[] = [\n            ce.BEFORE_CONTROLS_VISIBLE, ce.CONTROLS_VISIBLE,\n            ce.BEFORE_CONTROLS_HIDDEN, ce.CONTROLS_HIDDEN\n        ];\n        let i = list.length;\n\n        while (i--) {\n            this.ui.on(list[i], visibilityHandler);\n        }\n\n        // action event handling\n        this.ui.on(ce.ACTION, actionHandler);\n        this.ui.on(ce.MOUSE_ENTER_PRESENTATION, gestureHandler);\n        this.ui.on(ce.MOUSE_LEAVE_PRESENTATION, gestureHandler);\n\n        this.ui.disableControl(cn.CC_TOGGLE);\n        this.disableFullscreen();\n\n        this.ui.setVolume(0.35);\n\n        this.ui.setVideoMode(VideoMode.IDLE);\n\n        this.log(LogLevel.INFO, 'UI created.');\n    }\n}\n","import { NotificationName } from '../enum/NotificationName';\nimport { AbstractKeyCommandMediator } from './AbstractKeyCommandMediator';\nimport { AppResources } from '../app/AppResources';\n\nexport class UserKeyCommandMediator extends AbstractKeyCommandMediator {\n\n    constructor(name: string) {\n        super(name);\n    }\n\n    hKeyUp(e: KeyboardEvent): void {\n        const def = this.getCommand(e);\n\n        if (def) {\n            this.sendNotification(NotificationName.USER_KEY_COMMAND, {\n                action: def.action\n            });\n        }\n    }\n\n    hKeyDown(e: KeyboardEvent) {\n        // no impl\n    }\n\n    onRegister(): void {\n        super.onRegister();\n\n        const ucd = AppResources.userKeyCmdDefs;\n\n        let i = ucd.length;\n        while (i--) {\n            this.registerCommandDef(ucd[i]);\n        }\n    }\n}\n","import { cvui } from '../../cvui';\nimport { KeyboardScope } from '../../enum/KeyboardScope';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { MediatorName } from '../../enum/MediatorName';\nimport { PlayerDom } from '../../enum/PlayerDom';\nimport { ProxyName } from '../../enum/ProxyName';\nimport { ServiceName } from '../../enum/ServiceName';\nimport { FacadeInterface, NotificationInterface, SystemServiceInterface, UiEnumCollectionInterface } from '../../iface';\nimport { PlayerOptionsInterface } from '../../iface/PlayerOptionsInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { PlayerDomProxy } from '../../model/PlayerDomProxy';\nimport { AccessibilityKeyCommandMediator } from '../../view/AccessibilityKeyCommandMediator';\nimport { FullscreenMediator } from '../../view/FullscreenMediator';\nimport { UiMediator } from '../../view/UiMediator';\nimport { UserKeyCommandMediator } from '../../view/UserKeyCommandMediator';\nimport { LogAwareSimpleCommand } from '../LogAwareSimpleCommand';\nimport ViewControllerInterface = cvui.ViewControllerInterface;\n\n\nexport class PrepViewCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        const f: FacadeInterface = this.facade,\n            sysSvc = <SystemServiceInterface>f.retrieveService(ServiceName.System),\n            playerOpts: PlayerOptionsInterface = notification.body.playerOptions;\n\n        if (sysSvc.global) {\n            // ui\n            if (!playerOpts.useNativeControls && sysSvc.global.cvui) {\n                this.createUi(sysSvc.global.cvui, sysSvc, playerOpts);\n            }\n            else {\n                !playerOpts.useNativeControls && this.log(LogLevel.INFO, 'PrepView: Skipping UI creation.');\n            }\n\n            // fullscreen\n            if (!sysSvc.isTv) {\n                f.registerMediator(new FullscreenMediator(MediatorName.FULLSCREEN));\n            }\n\n            const kScope = this.getScopeForKeys(playerOpts.overrides && playerOpts.overrides.keyboardScope);\n\n            if (kScope !== KeyboardScope.NONE) {\n                // accessibility key command mediator\n                const akm = new AccessibilityKeyCommandMediator(MediatorName.ACC_KEY_CMD_MEDIATOR);\n                f.registerMediator(akm);\n\n                // user key commands\n                const ukm = new UserKeyCommandMediator(MediatorName.KEY_COMMAND);\n                f.registerMediator(ukm);\n\n                // set key handling scope\n                const c = this.getPlayerContainer();\n                akm.scope = c;\n                ukm.scope = c;\n            }\n        }\n        else {\n            this.log(LogLevel.INFO, 'System.global is null');\n        }\n\n        this.log(LogLevel.DEBUG, 'View prepared');\n    }\n\n    getScopeForKeys(scope: string): KeyboardScope {\n        switch (scope) {\n            case KeyboardScope.PLAYER:\n            case KeyboardScope.DOCUMENT:\n            case KeyboardScope.NONE:\n                return scope;\n        }\n\n        return KeyboardScope.PLAYER;\n    }\n\n    getPlayerContainer(): HTMLElement {\n        const domProxy = <PlayerDomProxy>this.facade.retrieveProxy(ProxyName.PlayerDomProxy);\n\n        return domProxy.getMain();\n    }\n\n    createUi(ui: cvui.UiObjectInterface, sysSvc: SystemServiceInterface, playerOpts: PlayerOptionsInterface) {\n        const viewController: ViewControllerInterface = this.getViewController(ui, sysSvc, playerOpts),\n            enums: UiEnumCollectionInterface = this.getEnums(ui);\n\n        const m = new UiMediator(MediatorName.UI, viewController);\n\n        this.facade.registerMediator(m);\n        m.initialize(enums);\n    }\n\n    getEnums(ui: cvui.UiObjectInterface): UiEnumCollectionInterface {\n        return {\n            ControlName: ui.ControlName,\n            ControlEvent: ui.ControlEvent,\n            PlayState: ui.PlayState,\n            DecoratorName: ui.DecoratorName,\n            VideoType: ui.VideoType,\n        }\n    }\n\n    getViewController(ui: cvui.UiObjectInterface, sysSvc: SystemServiceInterface, opts: PlayerOptionsInterface): ViewControllerInterface {\n        const domProxy = <PlayerDomProxy>this.facade.retrieveProxy(ProxyName.PlayerDomProxy);\n        let uic: StrAnyDict = opts.uiConfig;\n\n        // vtg-1732 - exclude CC\n        if (sysSvc.isIos || sysSvc.isAndroid) {\n            if (!uic) {\n                uic = {};\n            }\n            if (!uic.exclude || !Array.isArray(uic.exclude)) {\n                uic.exclude = [];\n            }\n            uic.exclude.indexOf(ui.ControlName.CC_TOGGLE) == -1 && uic.exclude.push(ui.ControlName.CC_TOGGLE);\n        }\n\n        return ui.createUi({\n            controlContainer: domProxy.getMain(),\n            panelContainer: domProxy.getElement(PlayerDom.PANEL_CONTAINER),\n            zOrigin: domProxy.getSafeZIndex(),\n            systemInfo: sysSvc.info,\n            configuration: uic || {},\n            omitVolume: !sysSvc.isDesktop\n        });\n    }\n}\n","import { NotificationInterface } from '../../iface';\nimport { LogAwareSimpleCommand } from '../LogAwareSimpleCommand';\n\n\nexport class PrepServiceCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        //const o: PlayerOptionsInterface = notification.body.playerOptions;\n        //this.log(LogLevel.DEBUG, 'Services prepared');\n    }\n}\n","import { PlayerDom } from '../../enum/PlayerDom';\nimport { PlayerDomInterface } from '../../iface/PlayerDomInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\n\n\nexport class PlayerDomCreator {\n\n    private document: HTMLDocument;\n    private main: HTMLElement;\n\n    constructor(container: HTMLElement, document: HTMLDocument) {\n        this.document = document;\n        this.main = container;\n    }\n\n    destroy(): void {\n        this.main = null;\n        this.document = null;\n    }\n\n    create(skipEls: PlayerDom[]): PlayerDomInterface {\n        const coll: StrAnyDict = {\n            [PlayerDom.MAIN_CONTAINER]: this.main\n        },\n            main = this.main,\n            s: StrAnyDict = {\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                width: '100%',\n                height: '100%',\n                padding: 0,\n                margin: 0,\n                zIndex: 0,\n                overflow: 'hidden'\n            },\n            roles: PlayerDom[] = [\n                PlayerDom.VIDEO_CONTAINER,\n                PlayerDom.CC_CONTAINER,\n                PlayerDom.PANEL_CONTAINER,\n                PlayerDom.AD_CONTAINER\n            ];\n\n        main.style.position = 'relative';\n        main.style.padding = '0';\n        main.style.width = '100%';\n        main.style.height = '100%';\n        main.style.background = '#000';\n        main.style.overflow = 'hidden';\n        main.classList.add('cvp-container');\n\n        let el: HTMLElement;\n\n        // containers\n        for (let i = 0, n = roles.length; i < n; i++) {\n            if (skipEls && skipEls.indexOf(roles[i]) >= 0) {\n                continue;\n            }\n\n            s.zIndex += 10;\n\n            el = this.div(roles[i], s);\n            coll[roles[i]] = el;\n\n            main.appendChild(el);\n        }\n\n        // video element\n        const v = document.createElement(\"video\");\n        v.style.height = '100%';\n        v.style.width = '100%';\n\n        coll[PlayerDom.VIDEO_CONTAINER].appendChild(v);\n        coll[PlayerDom.VIDEO_EL] = v;\n\n        // ad click element\n        coll[PlayerDom.AD_CLICK_EL] = this.createAdClickEl(++s.zIndex);\n        main.appendChild(coll[PlayerDom.AD_CLICK_EL]);\n\n        return <PlayerDomInterface>{\n            [PlayerDom.MAIN_CONTAINER]: coll[PlayerDom.MAIN_CONTAINER],\n            [PlayerDom.VIDEO_EL]: coll[PlayerDom.VIDEO_EL],\n            [PlayerDom.VIDEO_CONTAINER]: coll[PlayerDom.VIDEO_CONTAINER],\n            [PlayerDom.CC_CONTAINER]: coll[PlayerDom.CC_CONTAINER],\n            [PlayerDom.AD_CONTAINER]: coll[PlayerDom.AD_CONTAINER],\n            [PlayerDom.AD_CLICK_EL]: coll[PlayerDom.AD_CLICK_EL],\n            [PlayerDom.PANEL_CONTAINER]: coll[PlayerDom.PANEL_CONTAINER]\n        }\n    }\n\n    private createAdClickEl(z: number): HTMLElement {\n        const style = {\n            display: 'none',\n            padding: '4px 8px',\n            fontSize: '12px',\n            background: '#dedede',\n            lineHeight: '14px',\n            color: '#000',\n            position: 'absolute',\n            zIndex: z,\n            right: '2px',\n            top: '2px',\n            textAlign: 'center'\n        },\n            el = this.div('adClickEl', style);\n\n        el.innerHTML = 'Learn More';\n\n        return el;\n    }\n\n    private div(role: string, style: StrAnyDict): HTMLElement {\n        const el = this.document.createElement('div');\n\n        el.setAttribute('data-role', role);\n\n        for (let q in style) {\n            (<StrAnyDict>el).style[q] = style[q];\n        }\n\n        return el;\n    }\n}\n\n","import { LogLevel } from '../../enum/LogLevel';\nimport { ModelName } from '../../enum/ModelName';\nimport { PlayerDom } from '../../enum/PlayerDom';\nimport { ProxyName } from '../../enum/ProxyName';\nimport { ServiceName } from '../../enum/ServiceName';\nimport { NotificationInterface, PlayerDomProxyInterface, SystemServiceInterface } from '../../iface';\nimport { DomReference } from '../../iface/DomReference';\nimport { PlayerDomInterface } from '../../iface/PlayerDomInterface';\nimport { PlayerOptionsInterface } from '../../iface/PlayerOptionsInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { PlayerDomCreator } from '../command-helpers/PlayerDomCreator';\nimport { LogAwareSimpleCommand } from '../LogAwareSimpleCommand';\n\n\nexport class CreateDomCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface): void {\n        const cfg: StrAnyDict = notification.body.playerOptions,\n            container: DomReference = cfg.container,\n            sysSvc = <SystemServiceInterface>this.facade.retrieveService(ServiceName.System),\n            playerOpts = <PlayerOptionsInterface>this.getModel(ModelName.PlayerOptions);\n\n        if (sysSvc.isWebMaf || !sysSvc.global || !sysSvc.document || !container) {\n            return;\n        }\n\n        let c = <HTMLElement>(\n            typeof container === 'string' ? sysSvc.document.querySelector(container) : container\n        );\n\n        let skipEls: PlayerDom[] | null = null;\n        if (playerOpts.useNativeControls) {\n            // Skip creation of these containers (not needed in a native control display)\n            skipEls = [PlayerDom.CC_CONTAINER, PlayerDom.PANEL_CONTAINER];\n        }\n\n        const dc = new PlayerDomCreator(c, sysSvc.document),\n            domColl: PlayerDomInterface = dc.create(skipEls),\n            domProxy = <PlayerDomProxyInterface>this.facade.retrieveProxy(ProxyName.PlayerDomProxy);\n\n        domProxy.setModel(domColl);\n        dc.destroy();\n\n        domProxy.showAdContainer(false);\n\n        if (playerOpts.useNativeControls) {\n            domProxy.setVideoAttribute('controls', '');\n        }\n\n        playerOpts.playsInline !== false && domProxy.setVideoAttribute('playsinline', '');\n\n        domProxy.setVideoAttribute('data-player-id', this.facade.appId);\n\n        this.log(LogLevel.INFO, 'Player DOM created.');\n    }\n}\n","import { Emitter } from '../core/Emitter';\n\n\nexport class Timer extends Emitter {\n\n    static TIC_EVENT: string = 'tic';\n\n    private pInterval: number;\n    private timer: any = NaN;\n    private pCount: number = 0;\n\n    constructor(pInterval: number = 250) {\n        super({});\n        this.pInterval = pInterval;\n    }\n\n    destroy() {\n        this.stop();\n        super.destroy();\n    }\n\n    start() {\n        this.timer = setInterval(() => {\n            this.pCount++;\n            this.emit(Timer.TIC_EVENT, { count: this.pCount });\n        }, this.pInterval);\n    }\n\n    stop() {\n        clearInterval(this.timer);\n        this.timer = NaN;\n        this.pCount = 0;\n    }\n\n    get started(): boolean {\n        return !isNaN(this.timer);\n    }\n\n    set interval(value: number) {\n        this.pInterval = value;\n    }\n    get interval(): number {\n        return this.pInterval;\n    }\n\n    get count(): number {\n        return this.pCount;\n    }\n}\n","import { NotificationName } from '../enum/NotificationName';\nimport { NotificationType } from '../enum/NotificationType';\nimport { NotificationInterface } from '../iface';\nimport { EventInterface } from '../iface/EventInterface';\nimport { Timer } from '../util/Timer';\nimport { LogAwareMediator } from './LogAwareMediator';\n\n\nexport class TimerMediator extends LogAwareMediator {\n\n    private timer: Timer;\n\n    constructor(name: string) {\n        super(name);\n        this.timer = new Timer();\n        this.timer.on(Timer.TIC_EVENT, (e: EventInterface) => this.onTic(e));\n    }\n\n    killTimer(): void {\n        if (this.timer && this.timer.started) {\n            this.timer.stop();\n        }\n    }\n\n    listNotificationInterests(): string[] {\n        return [\n            NotificationName.RESOURCE_START\n        ];\n    }\n\n    handleNotification(notification: NotificationInterface) {\n\n        switch (notification.name) {\n            case NotificationName.RESOURCE_START:\n                if (this.timer && !this.timer.started) {\n                    this.timer.start();\n                }\n                break;\n        }\n    }\n\n    onRegister(): void {\n        super.onRegister();\n    }\n\n    onRemove() {\n        this.timer.destroy();\n        this.timer = null;\n        super.onRemove();\n    }\n\n    onTic(e: EventInterface) {\n        this.facade.sendNotification(NotificationName.TIMER_TIC, { count: e.data.count }, NotificationType.INTERNAL);\n    }\n}\n","import { LogLevel } from '../../enum/LogLevel';\nimport { MediatorName } from '../../enum/MediatorName';\nimport { FacadeInterface, NotificationInterface } from '../../iface';\nimport { TimerMediator } from '../../view/TimerMediator';\nimport { LogAwareSimpleCommand } from '../LogAwareSimpleCommand';\n\n\nexport class PrepTimerCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        const f: FacadeInterface = this.facade;\n\n        f.registerMediator(new TimerMediator(MediatorName.TIMER_MEDIATOR));\n\n        this.log(LogLevel.DEBUG, 'Timer mediator registered');\n    }\n}\n","import { StrAnyDict } from \"../iface/StrAnyDict\";\nimport { StrStrDict } from \"../iface/StrStrDict\";\nimport { Util } from \"./Util\";\n\nexport class QueryString {\n\n\tstatic encode(obj: any): string {\n\t\tif (Util.isEmpty(obj)) {\n\t\t\treturn '';\n\t\t}\n\t\tconst str: string[] = Util.entries(obj).map(([k, v]) => k + \"=\" + encodeURIComponent(v));\n\t\treturn str.join(\"&\");\n\t}\n\n\tstatic decode(uri: string): StrAnyDict {\n\t\tconst results = {} as StrAnyDict;\n\n\t\tif (uri == null) {\n\t\t\treturn results;\n\t\t}\n\n\t\turi\n\t\t\t.replace(/^[^?]*\\?/, '')\n\t\t\t//@ts-ignore\n\t\t\t.replace(new RegExp('([^?=&]+)(=([^&]*))?', 'g'), ($0: string, $1: string, $2: string, $3: string) => {\n\t\t\t\tlet value;\n\n\t\t\t\ttry {\n\t\t\t\t\tvalue = Util.isUndefined($3) ? $3 : decodeURIComponent($3);\n\t\t\t\t}\n\t\t\t\tcatch (error) {\n\t\t\t\t\tvalue = $3;\n\t\t\t\t}\n\n\t\t\t\tresults[decodeURIComponent($1)] = value;\n\t\t\t});\n\n\t\treturn results;\n\t}\n\n\tstatic parseValue(value: string): any {\n\t\tif (Util.isUndefined(value)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet temp: any = value.toLowerCase();\n\t\tif (temp === \"true\" || temp === \"false\") {\n\t\t\treturn temp === \"true\";\n\t\t}\n\n\t\tif (value === \"undefined\") {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (temp === \"null\") {\n\t\t\treturn null;\n\t\t}\n\n\t\ttemp = parseFloat(value);\n\t\tif (!isNaN(temp)) {\n\t\t\treturn temp;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tstatic parse(uri: string): StrAnyDict {\n\t\tconst params = QueryString.decode(uri);\n\t\tfor (const k in params) {\n\t\t\tparams[k] = QueryString.parseValue(params[k]);\n\t\t}\n\t\treturn params;\n\t}\n\n\tstatic append(url: string, params: StrStrDict) {\n\t\tconst prefix = Util.includes(url, '?') ? '&' : '?';\n\t\treturn url + prefix + QueryString.encode(params);\n\t}\n}\n","import { QueryString } from '../core/QueryString';\nimport { cvui } from '../cvui';\nimport { AsyncDataRequest } from '../dataservice/AsyncDataRequest';\nimport { AsyncDataRequestOptions } from '../dataservice/AsyncDataRequestOptions';\nimport { BuildInfoServiceInterface, PlayerDomProxyInterface, PluginServicesOptions, SystemServiceInterface } from '../iface';\nimport { AsyncDataRequestOptionsInterface } from '../iface/AsyncDataRequestOptionsInterface';\nimport { LocalizationInterface } from '../iface/LocalizationInterface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { BuildInfoInterface } from '../iface/BuildInfoInterface';\n\nexport class PluginServices {\n    \n    xhr = {\n        performXhr: (options: AsyncDataRequestOptionsInterface) => {\n            const temp = options.onComplete;\n            options.onComplete = (e) => {\n                temp(e);\n                e.target.destroy();\n            }\n            new AsyncDataRequest(AsyncDataRequestOptions.create(options));\n        }\n    };\n\n    event = {\n        dispatchPluginEvent: (data: StrAnyDict) => {\n            this.dispatch(data);\n        }\n    };\n\n    util = {\n        queryStrFromObj(obj: StrAnyDict, encode?: string[]): string {\n            return QueryString.encode(obj);\n        }\n    }\n\n    private vc: cvui.ViewControllerInterface = null;\n    private sys: SystemServiceInterface = null;\n    private bi: BuildInfoServiceInterface = null;\n    private domProxy: PlayerDomProxyInterface = null;\n    private playerOpts: PlayerOptionsInterface = null;\n    private loc: LocalizationInterface = null;\n    private dispatch: (data: StrAnyDict) => void;\n\n    constructor(options: PluginServicesOptions) {\n        this.vc = options.viewController;\n        this.sys = options.system;\n        this.bi = options.buildInfo;\n        this.domProxy = options.domProxy;\n        this.playerOpts = options.playerOptions;\n        this.loc = options.localization;\n        this.dispatch = options.dispatch;\n    }\n\n    get viewController(): cvui.ViewControllerInterface {\n        return this.vc;\n    }\n\n    get system(): SystemServiceInterface {\n        return this.sys;\n    }\n\n    get playerOptions() {\n        return this.playerOpts;\n    }\n\n    get buildInfo(): BuildInfoInterface {\n        return this.bi;\n    }\n\n    get playerDomProxy(): PlayerDomProxyInterface {\n        return this.domProxy;\n    }\n\n    get localization(): LocalizationInterface {\n        return this.loc;\n    }\n}\n","import { Util } from \"../core/Util\";\nimport { EventHandler } from \"../iface/EventHandler\";\nimport { ScriptLoaderComplete } from '../iface/ScriptLoaderComplete';\nimport { ScriptLoaderOptions } from \"../iface/ScriptLoaderOptions\";\nimport { StrAnyDict } from \"../iface/StrAnyDict\";\nimport { StrStrDict } from \"../iface/StrStrDict\";\nimport { RecoveryEnabledRequest } from './RecoveryEnabledRequest';\n\nexport type ScriptLoadOptions = Omit<ScriptLoaderOptions, 'onComplete'>;\n\nexport class ScriptLoader extends RecoveryEnabledRequest {\n\n    static event: StrStrDict = {\n        COMPLETE: \"complete\"\n    }\n\n    private timeoutHandles: StrAnyDict | null;\n    private map: StrAnyDict;\n\n    static load(options: ScriptLoadOptions): Promise<ScriptLoaderComplete> {\n        return new Promise((resolve, reject) => {\n            options.onComplete = ({ data }: StrAnyDict) => (data.error || data.timedOut) ? reject(data) : resolve(data);\n            new ScriptLoader(<ScriptLoaderOptions>options);\n        });\n    }\n\n    constructor(options: ScriptLoaderOptions) {\n        super(<ScriptLoaderOptions>Util.assign({\n            timeout: 2000\n        }, options || {}));\n\n        this.timeoutHandles = {};\n        this.map = {};\n\n        let hasListener = this.hasListenerFor(ScriptLoader.event.COMPLETE);\n\n        if (this.opts.url && hasListener) {\n            this.loadScript(this.opts.url);\n        }\n        else if (this.opts.urls && hasListener) {\n            this.loadScripts(this.opts.urls);\n        }\n    }\n\n    destroy() {\n        if (!this.timeoutHandles) {\n            return;\n        }\n\n        for (let q in this.timeoutHandles) {\n            clearTimeout(this.timeoutHandles[q]);\n        }\n        this.timeoutHandles = null;\n        super.destroy();\n    }\n\n    loadScript(scriptUrl: string, completeListener?: EventHandler): void {\n        const scr = document.createElement('script'),\n            sec = window.location.protocol === 'https:',\n            url = sec ? scriptUrl.replace('http:', 'https:') : scriptUrl;\n\n        this.map[url] = {\n            hLoad: () => this.hLoadOrError(url),\n            hError: () => this.hLoadOrError(url, true, false),\n            scriptEl: scr\n        };\n\n        const mapObj = this.map[url];\n\n        completeListener && this.on(ScriptLoader.event.COMPLETE, completeListener);\n\n        scr.async = true;\n        scr.addEventListener('load', mapObj.hLoad);\n        scr.addEventListener('error', mapObj.hError);\n\n        this.timeoutHandles[url] = setTimeout(\n            () => this.hLoadOrError(url, true, true),\n            this.opts.timeout\n        );\n\n        document.head.appendChild(scr);\n        scr.src = url;\n    }\n\n    loadScripts(urls: string[], completeListener?: EventHandler) {\n        completeListener && this.on(ScriptLoader.event.COMPLETE, completeListener);\n\n        for (let i = 0, n = urls.length; i < n; i++) {\n            this.loadScript(urls[i]);\n        }\n    }\n\n    private hLoadOrError(url: string, error?: boolean, timedOut?: boolean): void {\n\n        clearTimeout(this.timeoutHandles[url]);\n        delete this.timeoutHandles[url];\n\n        let mapObj: StrAnyDict = this.map[url];\n        mapObj.scriptEl.removeEventListener('load', mapObj.hLoad);\n        mapObj.scriptEl.removeEventListener('error', mapObj.hError);\n\n        for (let q in mapObj) { delete mapObj[q]; }\n        delete this.map[url];\n\n        // VTG-1763: Add retries on error. Note that if we're loading multiple scripts (via array to loadScripts()),  \n        // each script that fails will increment the retry count, which is \n        // limited to options.retryAttempts in total among the files being requested.\n        if (error && this.shouldRetry()) {\n            this.incrementAttempts();\n            setTimeout(() => { this.loadScript(url); }, this.retryInterval);\n        }\n        else {\n            this.emit(ScriptLoader.event.COMPLETE, {\n                url: url,\n                error: error,\n                timedOut: timedOut === true\n            });\n        }\n    }\n}\n","import { AppResources } from '../app/AppResources';\nimport { PluginServices } from '../app/PluginServices';\nimport { Util } from '../core/Util';\nimport { ScriptLoader } from '../dataservice/ScriptLoader';\nimport { LogLevel } from '../enum/LogLevel';\nimport { MediatorName } from '../enum/MediatorName';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { PluginPriority } from '../enum/PluginPriority';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ServiceName } from '../enum/ServiceName';\nimport { BuildInfoServiceInterface, LoadPluginsNotificationInterface, NotificationInterface, PlayerDomProxyInterface, SystemServiceInterface, UiMediatorInterface } from '../iface';\nimport { EventInterface } from '../iface/EventInterface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { PluginConfigInterface } from '../iface/PluginConfigInterface';\nimport { PresentationStateInterface } from '../iface/PresentationStateInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { LocalizationProxy } from '../model/LocalizationProxy';\nimport { Utils } from '../util/Utils';\nimport { AppMediator } from './AppMediator';\nimport { LogAwareMediator } from './LogAwareMediator';\n\n\ninterface PrioritizedPluginsInterface {\n    high: PluginConfigInterface[];\n    low: PluginConfigInterface[];\n}\n\nexport class PluginMediator extends LogAwareMediator {\n    private plugins: StrAnyDict = {};\n    private pendingLoads: PluginConfigInterface[] = null;\n    private services: PluginServices = null;\n    private diagnosticPlugin: any = null;\n    private diagnosticPluginVisible: boolean = false;\n\n    constructor(name: string) {\n        super(name);\n    }\n\n    onRemove(): void {\n        if (this.plugins) {\n            for (const q in this.plugins) {\n                this.killPlugin(q);\n            }\n        }\n        this.plugins = null;\n        super.onRemove();\n    }\n\n    removePlugin(name: string): void {\n        this.killPlugin(name);\n    }\n\n    getPlugin(name: string): any {\n        return this.plugins[name] || null;\n    }\n\n    toggleDiagnosticPlugin() {\n        if (!this.diagnosticPlugin) {\n            this.createDiagnosticPlugin();\n        }\n        else {\n            this.diagnosticPluginVisible = !this.diagnosticPluginVisible;\n            this.diagnosticPluginVisible ? this.diagnosticPlugin.show() : this.diagnosticPlugin.hide();\n        }\n    }\n\n    listNotificationInterests(): string[] {\n        return [\n            NotificationName.LOAD_PLUGINS,\n            NotificationName.AD_BREAK_START,\n            NotificationName.CONTENT_START,\n            NotificationName.REMOVE_PLUGIN\n        ];\n    }\n\n    handleNotification(notification: NotificationInterface): void {\n        switch (notification.name) {\n\n            case NotificationName.LOAD_PLUGINS:\n                this.loadPlugins(<LoadPluginsNotificationInterface>notification.body);\n                break;\n\n            case NotificationName.REMOVE_PLUGIN:\n                this.removePlugin(notification.body.name);\n                break;\n\n            // intentional fall-thru\n            case NotificationName.AD_BREAK_START:\n            case NotificationName.CONTENT_START:\n                this.pendingLoads !== null && this.loadPendingPlugins();\n                break;\n        }\n    }\n\n    private createDiagnosticPlugin(): void {\n        const dCfg = AppResources.nativePluginConfig.diagnostic;\n\n        this.createPluginServices();\n\n        dCfg && this.loadScripts([dCfg], null, () => {\n            this.diagnosticPlugin = this.plugins[dCfg.name];\n            this.diagnosticPluginVisible = true;\n        });\n    }\n\n    private createPluginServices(): void {\n        if (this.services) { return; }\n        const am = <AppMediator>this.facade.retrieveMediator(MediatorName.APPLICATION),\n            uim = <UiMediatorInterface>this.facade.retrieveMediator(MediatorName.UI),\n            pOptsMdl = <PlayerOptionsInterface>this.getModel(ModelName.PlayerOptions);\n\n        this.services = new PluginServices({\n            viewController: uim ? uim.viewController : null,\n            buildInfo: <BuildInfoServiceInterface>this.facade.retrieveService(ServiceName.BuildInfo),\n            system: <SystemServiceInterface>this.facade.retrieveService(ServiceName.System),\n            domProxy: <PlayerDomProxyInterface>this.facade.retrieveProxy(ProxyName.PlayerDomProxy),\n            localization: (<LocalizationProxy>this.facade.retrieveProxy(ProxyName.LocalizationProxy)).getApi(),\n            playerOptions: pOptsMdl.model.data,\n            dispatch: (data: StrAnyDict) => {\n                am.dispatchPluginEvent(data);\n            }\n        });\n    }\n\n    private createPlugin(cfg: PluginConfigInterface): void {\n        const am = <AppMediator>this.facade.retrieveMediator(MediatorName.APPLICATION),\n            c: any = cfg.classRef ? cfg.classRef : Utils.classFromQualifiedName(cfg.qualifiedClassName),\n            opts = cfg.options || {}\n\n        if (cfg.name) {\n            opts.name = cfg.name;\n        }\n        if (c) {\n            let p;\n            if (Util.isFunction(c.onRegister)) {\n                p = c;\n            }\n            else {\n                p = new c();\n            }\n            this.plugins[cfg.name] = p;\n            p.onRegister !== undefined && p.onRegister(am.getAppApi(), opts, this.services);\n            this.log(LogLevel.INFO, `Created plugin '${cfg.name}'`);\n        }\n    }\n\n    private killPlugin(name: string): void {\n        if (!this.plugins[name]) {\n            return;\n        }\n        Util.isFunction(this.plugins[name].destroy) && this.plugins[name].destroy();\n        delete this.plugins[name];\n    }\n\n    private loadPendingPlugins(): void {\n        this.loadScripts(this.pendingLoads.slice());\n        this.pendingLoads = null;\n    }\n\n    private loadPlugins(obj: LoadPluginsNotificationInterface): void {\n        const playerOpts = <PlayerOptionsInterface>this.getModel(ModelName.PlayerOptions),\n            plugins = <PluginConfigInterface[]>obj.plugins || <PluginConfigInterface[]>playerOpts.plugins,\n            data: PrioritizedPluginsInterface = this.processCfg(plugins),\n            ps = <PresentationStateInterface>this.getModel(ModelName.PresentationState),\n            useP = !ps.started,\n            next = (!!obj.nextNotification && obj.nextNotification) || null,\n            callback = (!!obj.callback && obj.callback) || null;\n\n        if (!data.high.length && !data.low.length) {\n            next && this.sendNotification(next);\n            callback && callback();\n            return;\n        }\n\n        this.createPluginServices();\n\n        let loading = false;\n\n        if (useP) {\n            if (data.low.length) {\n                this.pendingLoads = data.low;\n            }\n\n            if (data.high.length) {\n                loading = true;\n                this.loadScripts(data.high, next, callback);\n            }\n        }\n        else {\n            const c: PluginConfigInterface[] = data.low.concat(data.high);\n            loading = true;\n            this.loadScripts(c, next, callback);\n        }\n\n        if (!loading) {\n            next && this.sendNotification(next);\n            callback && callback();\n        }\n    }\n\n    private loadScripts(pc: PluginConfigInterface[], nextNotification: NotificationName = null, callback: () => void = null): void {\n        const map: StrAnyDict = {},\n            urls: string[] = [];\n\n        let i = pc.length;\n        while (i--) {\n            const cfg = pc[i];\n            if (!cfg.loaded) {\n                map[cfg.url] = i;\n                urls.push(cfg.url);\n            }\n            else {\n                this.createPlugin(cfg);\n            }\n        }\n\n        if (!urls.length) {\n            nextNotification && this.sendNotification(nextNotification);\n            callback && callback();\n\n            return;\n        }\n\n        const playerOpts = <PlayerOptionsInterface>this.getModel(ModelName.PlayerOptions);\n\n        new ScriptLoader({\n            urls: urls,\n            errorRecovery: playerOpts.networkErrorRecovery,\n            onComplete: (e: EventInterface) => {\n                if (!e.data.error && e.data.url) {\n                    map[e.data.url] !== undefined && this.createPlugin(pc[map[e.data.url]]);\n                    delete map[e.data.url];\n                }\n                else {\n                    delete map[e.data.url];\n                    this.log(LogLevel.ERROR, AppResources.messages.PLUGIN_LOAD_ERROR)\n                }\n                if (Util.isEmpty(map)) {\n                    nextNotification && this.sendNotification(nextNotification);\n                    callback && callback();\n                }\n            }\n        });\n    }\n\n    private processCfg(cfg: PluginConfigInterface[]): PrioritizedPluginsInterface {\n        if (!cfg) {\n            return { high: [], low: [] };\n        }\n        const ps = <PresentationStateInterface>this.getModel(ModelName.PresentationState),\n            useP = !ps.started,\n            hi: PluginConfigInterface[] = [],\n            lo: PluginConfigInterface[] = [],\n            ret = { high: hi, low: lo };\n\n        let i = cfg.length;\n        while (i--) {\n            const pc = <PluginConfigInterface>cfg[i],\n                loadReq = !Util.isEmpty(pc.url) && !Util.isEmpty(pc.qualifiedClassName),\n                hasRef = !Util.isEmpty(pc.classRef);\n\n            if (loadReq || hasRef) {\n                useP && pc.priority === PluginPriority.HIGH ? hi.unshift(pc) : lo.unshift(pc);\n                pc.loaded = hasRef;\n            }\n        }\n\n        return ret;\n    }\n}\n","import { LogLevel } from '../../enum/LogLevel';\nimport { MediatorName } from '../../enum/MediatorName';\nimport { FacadeInterface, NotificationInterface } from '../../iface';\nimport { PluginMediator } from '../../view/PluginMediator';\nimport { LogAwareSimpleCommand } from '../LogAwareSimpleCommand';\n\n\nexport class PrepPluginsCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        const f: FacadeInterface = this.facade;\n        f.registerMediator(new PluginMediator(MediatorName.PLUGIN_MEDIATOR));\n\n        this.log(LogLevel.DEBUG, 'Plugins Prepared');\n    }\n}\n","import {AbstractMacroCommand} from '../../mvc/AbstractMacroCommand';\nimport {PrepModelCommand} from \"./PrepModelCommand\";\nimport {PrepViewCommand} from \"./PrepViewCommand\";\nimport {PrepServiceCommand} from \"./PrepServiceCommand\";\nimport {CreateDomCommand} from \"./CreateDomCommand\";\nimport {PrepTimerCommand} from './PrepTimerCommand';\nimport {PrepPluginsCommand} from './PrepPluginsCommand';\n\nexport class BootCommand extends AbstractMacroCommand {\n\n    constructor() {\n        super()\n    }\n\n    initializeMacroCommand(): void {\n        this.addSubCommand(PrepModelCommand);\n        this.addSubCommand(CreateDomCommand);\n        this.addSubCommand(PrepServiceCommand);\n        this.addSubCommand(PrepTimerCommand);\n        this.addSubCommand(PrepViewCommand);\n        this.addSubCommand(PrepPluginsCommand);\n    }\n}\n","import { AbstractMacroCommand } from '../../mvc/AbstractMacroCommand';\nimport { PrepModelCommand } from './PrepModelCommand';\nimport { PrepPluginsCommand } from './PrepPluginsCommand';\nimport { PrepServiceCommand } from './PrepServiceCommand';\nimport { PrepTimerCommand } from './PrepTimerCommand';\n\n\nexport class BootWebMafCommand extends AbstractMacroCommand {\n\n    constructor() {\n        super();\n    }\n\n    initializeMacroCommand(): void {\n        this.addSubCommand(PrepModelCommand);\n        this.addSubCommand(PrepServiceCommand);\n        this.addSubCommand(PrepTimerCommand);\n        this.addSubCommand(PrepPluginsCommand);\n    }\n}\n","import { CoreEvent } from '../core/CoreEvent';\nimport { Util } from '../core/Util';\nimport { ErrorCode } from '../enum/ErrorCode';\nimport { ErrorEventInterface } from '../iface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\n\n\nexport class PlayerErrorEvent extends CoreEvent implements ErrorEventInterface {\n\n    private pCode: ErrorCode;\n    private pMessage: string;\n    private pFatal: boolean;\n\n    constructor(type: string, code: ErrorCode, msg: string, data: StrAnyDict, fatal: boolean = false) {\n        super(type, null, Util.assign({}, data));\n\n        this.pCode = code;\n        this.pMessage = msg;\n        this.pFatal = fatal;\n    }\n\n    get code(): ErrorCode {\n        return this.pCode;\n    }\n\n    get message(): string {\n        return this.pMessage;\n    }\n\n    get fatal(): boolean {\n        return this.pFatal;\n    }\n}\n","import { PlayerEvent } from '../enum/PlayerEvent';\nimport { AdErrorEventInterface, ImaAdErrorInfoInterface } from '../iface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { PlayerErrorEvent } from './PlayerErrorEvent';\n\nexport class AdErrorEvent extends PlayerErrorEvent implements AdErrorEventInterface {\n\n    private eInfo: ImaAdErrorInfoInterface;\n\n    constructor(code: any, msg: string, data: ImaAdErrorInfoInterface, fatal: boolean) {\n        super(PlayerEvent.AD_ERROR, code, msg, data, fatal);\n        this.eInfo = <ImaAdErrorInfoInterface>(this.data || {});\n    }\n\n    get errorCode(): number | null {\n        return this.eInfo.errorCode || null;\n    }\n\n    get innerErrorMessage(): string {\n        return this.eInfo.innerErrorMessage || null;\n    }\n\n    get sdkVersion(): string {\n        return this.eInfo.sdkVersion || null;\n    }\n\n    get vastErrorCode(): number {\n        return this.eInfo.vastErrorCode || null;\n    }\n\n    get requestContext(): StrAnyDict {\n        return this.eInfo.requestContext || null;\n    }\n\n    get adInfo() {\n        return this.eInfo.adInfo || null;\n    }\n}\n","import { event_map } from '../app/event_map';\nimport { MediatorName } from '../enum/MediatorName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { PlayerEvent } from '../enum/PlayerEvent';\nimport { AdErrorEvent } from '../event/AdErrorEvent';\nimport { PlayerErrorEvent } from '../event/PlayerErrorEvent';\nimport { NotificationInterface } from '../iface';\nimport { ErrorInfoInterface } from '../iface/ErrorInfoInterface';\nimport { AppMediator } from '../view/AppMediator';\nimport { LogAwareSimpleCommand } from \"./LogAwareSimpleCommand\";\n\n\nexport class HandleErrorCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        const appMed = <AppMediator>this.facade.retrieveMediator(MediatorName.APPLICATION);\n\n        if (!appMed) {\n            return;\n        }\n\n        const name = <NotificationName>notification.name,\n            playerEvt = event_map[name],\n            body = notification.body as ErrorInfoInterface,\n            isAdError = this.isAdRelatedError(name),\n            evt = isAdError ?\n                new AdErrorEvent(body.code, body.message, body.data, body.fatal) :\n                new PlayerErrorEvent(playerEvt, body.code, body.message, body.data, body.fatal);\n\n        if (body.fatal) {\n            const fe = new PlayerErrorEvent(PlayerEvent.FATAL_ERROR, body.code, body.message, body.data, body.fatal);\n            appMed.sendErrorEvent(fe);\n        }\n\n        appMed.sendErrorEvent(evt);\n\n        const e = new PlayerErrorEvent(PlayerEvent.ERROR, body.code, body.message, body.data, body.fatal);\n        appMed.sendErrorEvent(e);\n    }\n\n    isAdRelatedError(name: NotificationName): boolean {\n        return name === NotificationName.AD_ERROR ||\n            name === NotificationName.AD_STALLED;\n    }\n}\n","import { NotificationInterface } from '../iface';\nimport { LogAwareSimpleCommand } from './LogAwareSimpleCommand';\nimport { MediatorName } from '../enum/MediatorName';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ModelCollectionProxy } from '../model/ModelCollectionProxy';\n\nexport class KillResourcePresentationCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface): void {\n        // remove preso mediator\n        this.facade.removeMediator(MediatorName.PRESENTATION_MEDIATOR);\n\n        // remove the resource Proxy\n        this.facade.removeProxy(ProxyName.ResourceProxy);\n\n        // reset models (see ModelCollectionProxy)\n        const p = <ModelCollectionProxy>this.facade.retrieveProxy(ProxyName.ModelCollectionProxy);\n        p.reset();\n    }\n}","import { LocalizationId } from \"../enum/LocalizationId\";\nimport { NotificationName } from \"../enum/NotificationName\";\nimport { ProxyName } from \"../enum/ProxyName\";\nimport { NotificationInterface, PlayerDomProxyInterface } from \"../iface\";\nimport { LocalizationProxy } from \"../model/LocalizationProxy\";\nimport { LogAwareSimpleCommand } from \"./LogAwareSimpleCommand\";\n\n\nexport class LocalizationCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        const { name, body } = notification;\n\n        switch (name) {\n\n            case NotificationName.CHANGE_LANGUAGE:\n                const localization = this.facade.retrieveProxy(ProxyName.LocalizationProxy) as LocalizationProxy;\n                const lang = body.value;\n\n                localization.changeLanguage(lang).then(() => {\n                    const dom = this.facade.retrieveProxy(ProxyName.PlayerDomProxy) as PlayerDomProxyInterface;\n                    if (dom) {\n                        const main = dom.getMain();\n                        main.setAttribute('aria-label', localization.localize(LocalizationId.MEDIA_PLAYER));\n                        main.setAttribute('lang', localization.language);\n                    }\n                    this.sendNotification(NotificationName.LANGUAGE_CHANGE, body);\n                });\n                break;\n\n            case NotificationName.LANGUAGE_CHANGE:\n                this.sendNotification(NotificationName.APP_EVENT, {\n                    notificationName: name,\n                    data: body\n                });\n                break;\n        }\n    }\n}\n","import { Util } from '../core/Util';\nimport { Device } from '../enum/Device';\nimport { LogLevel } from '../enum/LogLevel';\nimport { MediatorName } from '../enum/MediatorName';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { NotificationType } from '../enum/NotificationType';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ServiceName } from '../enum/ServiceName';\nimport { StreamType } from '../enum/StreamType';\nimport { NotificationInterface, PlayerDomProxyInterface, PresentationMediatorInterface, SystemServiceInterface, UiMediatorInterface } from '../iface';\nimport { ContentPlaybackStateInterface } from '../iface/ContentPlaybackStateInterface';\nimport { PlaylistInterface } from '../iface/PlaylistInterface';\nimport { PresentationStateInterface } from '../iface/PresentationStateInterface';\nimport { TextTrackInterface } from '../iface/TextTrackInterface';\nimport { ContentPlaybackStateProxy } from '../model/ContentPlaybackStateProxy';\nimport { PlaylistProxy } from '../model/PlaylistProxy';\nimport { TextTrackProxy } from '../model/TextTrackProxy';\nimport { AppMediator } from '../view/AppMediator';\nimport { LogAwareSimpleCommand } from './LogAwareSimpleCommand';\n\n\nexport class PlaybackCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        const presoMediator = <PresentationMediatorInterface>this.facade.retrieveMediator(MediatorName.PRESENTATION_MEDIATOR),\n            cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model;\n\n        let pos, presoMdl;\n\n        switch (notification.name) {\n\n            case NotificationName.PLAY_ON_USER_GESTURE:\n                if (!presoMediator) {\n                    this.facade.sendNotification(NotificationName.POSTER_CLICK, null, NotificationType.INTERNAL);\n                }\n                else {\n                    this.invokePlayOnUserGesture(presoMediator);\n\n                    const pl = <PlaylistProxy>this.facade.retrieveProxy(ProxyName.Playlist);\n\n                    this.facade.sendNotification(\n                        NotificationName.POSTER_CLICK,\n                        { resource: pl.currentResource },\n                        NotificationType.INTERNAL\n                    );\n                }\n\n                break;\n\n            case NotificationName.PLAY:\n                const hasPreso = !!presoMediator,\n                    started = hasPreso && (<PresentationStateInterface>this.getModel(ModelName.PresentationState)).started;\n\n                if (hasPreso && notification.type === NotificationType.EXTERNAL && !started) {\n                    this.invokePlayOnUserGesture(presoMediator);\n                }\n                else if (started) {\n                    presoMediator && presoMediator.play();\n                }\n                break;\n\n            case NotificationName.PAUSE:\n                presoMediator && presoMediator.pause();\n                presoMdl = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n\n                if (!presoMdl.isCurrentVideoAd && notification.type === NotificationType.UI) {\n                    this.facade.sendNotification(NotificationName.USER_PAUSE, null, NotificationType.INTERNAL);\n                }\n                break;\n\n            case NotificationName.STOP:\n                const appMed = <AppMediator>this.facade.retrieveMediator(MediatorName.APPLICATION),\n                    r = (<PlaylistInterface>(<unknown>this.facade.retrieveProxy(ProxyName.Playlist))).currentResource,\n                    isVod = this.isVod();\n\n                appMed.killCurrentResource()\n                    .then(() => {\n                        if (isVod) {\n                            return;\n                        }\n\n                        this.sendNotification(NotificationName.APP_EVENT, {\n                            notificationName: NotificationName.LIVE_PRESENTATION_STOPPED,\n                            data: r\n                        });\n                    });\n                break;\n\n            case NotificationName.SEEK:\n                presoMediator.seek(notification.body.value);\n                break;\n\n            case NotificationName.SEEK_FORWARD:\n                pos = cps.time + notification.body.value;\n                presoMediator.seek(Math.min(pos, cps.duration));\n                break;\n\n            case NotificationName.SEEK_BACK:\n                pos = cps.time - notification.body.value;\n                presoMediator.seek(Math.max(pos, 0));\n                break;\n\n            case NotificationName.SEEK_TO_LIVE:\n                if (!this.isVod() && cps.liveStreamInfo) {\n                    pos = cps.liveStreamInfo.relativeDuration;\n                    presoMediator.seek(Math.min(pos, cps.duration));\n                }\n                break;\n\n            case NotificationName.SWITCH_AUDIO_TRACK:\n                presoMediator.adapter.audioTrack = notification.body.value;\n                break;\n\n            case NotificationName.SWITCH_TEXT_TRACK:\n                const track = <TextTrackInterface>notification.body.value;\n                if (track) {\n                    (<TextTrackProxy>this.facade.retrieveProxy(ProxyName.TextTrackProxy)).language = track.language;\n                    const textTrack = this.contentPlaybackStateProxy.getTextTrackById(track.id);\n                    presoMediator.adapter.textTrack = textTrack;\n                }\n                break;\n\n            case NotificationName.SWITCH_TEXT_MODE:\n                const enabled = notification.body.value;\n                const textTrackProxy = (<TextTrackProxy>this.facade.retrieveProxy(ProxyName.TextTrackProxy));\n                textTrackProxy.enabled = enabled;\n                presoMediator.adapter.textTrackMode = textTrackProxy.mode;\n                break;\n\n            case NotificationName.MUTE:\n                presoMediator.mute(true);\n                break;\n\n            case NotificationName.UNMUTE:\n                presoMediator.mute(false);\n                break;\n\n            case NotificationName.VOLUME_CHANGE:\n                const { value, muted } = notification.body;\n                !isNaN(value) && presoMediator.setVolume(value);\n\n                // keep the muted state in sync with the video element\n                presoMdl = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n                if (!Util.isUndefined(muted) && presoMdl.isMuted != muted) {\n                    presoMediator.mute(muted);\n                }\n\n                if (notification.type === NotificationType.EXTERNAL) {\n                    const uiMed = <UiMediatorInterface>this.facade.retrieveMediator(MediatorName.UI);\n                    uiMed && uiMed.setVolume(value);\n                }\n                break;\n        }\n    }\n\n    get contentPlaybackStateProxy(): ContentPlaybackStateProxy {\n        return this.facade.retrieveProxy(ProxyName.ContentPlaybackStateProxy) as ContentPlaybackStateProxy;\n    }\n\n    isVod(): boolean {\n        const streamType = this.contentPlaybackStateProxy.model.streamType;\n        return (streamType != StreamType.LIVE && streamType != StreamType.DVR);\n    }\n\n    invokePlayOnUserGesture(presoMediator: PresentationMediatorInterface): void {\n        const domProxy = <PlayerDomProxyInterface>this.facade.retrieveProxy(ProxyName.PlayerDomProxy),\n            sys = <SystemServiceInterface>this.facade.retrieveService(ServiceName.System),\n            skipPriming = !domProxy || sys.device == Device.IPAD || sys.device == Device.LG_SMART_TV;\n\n        if (!skipPriming) {\n            const p: Promise<any> = domProxy.primeVideo();\n            p.then(() => {\n                if (sys.device == Device.IPHONE) {\n                    const ev = 'timeupdate';\n                    const v = domProxy.getVideo(),\n                        h = (e: Event) => {\n                            v.removeEventListener(ev, h);\n                            setTimeout(() => presoMediator.playOnUserGesture(), 200);\n                        };\n                    v.addEventListener(ev, h);\n                }\n                else {\n                    presoMediator.playOnUserGesture();\n                }\n            }).catch((e) => {\n                this.log(LogLevel.ERROR, `ERROR - PlaybackCommand: Priming FAILED.  ${e.message}`);\n                this.facade.sendNotification(NotificationName.AUTOPLAY_BLOCKED, null, NotificationType.INTERNAL);\n            });\n        }\n        else {\n            presoMediator && presoMediator.playOnUserGesture();\n        }\n    }\n}\n","import { MediatorName } from '../enum/MediatorName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { NotificationType } from '../enum/NotificationType';\nimport { NotificationInterface, PresentationMediatorInterface } from '../iface';\nimport { LogAwareSimpleCommand } from './LogAwareSimpleCommand';\n\n\n// playlist notifications are announced to the external world as events.\nexport class PlaylistCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface): void {\n        switch (notification.name) {\n\n            case NotificationName.PLAYLIST_ADVANCED:\n                this.close()\n                    .then(() => {\n                        // Note: In most cases it's desirable to finish internal\n                        // work before sending an event out, but in this case we'll send \n                        // out the PLAYLIST_ADVANCED event *before* validating the resource.\n                        // Because the validation process could detect an error,\n                        // we should avoid emitting an error indicating that the\n                        // item can't be played, followed by an event indicating \n                        // that the playlist just advanced to that same item.\n                        this.sendAppEventNotification(notification.name, notification.body);\n\n                        this.sendNotification(NotificationName.VALIDATE_RESOURCE, notification.body, NotificationType.INTERNAL);\n                    });\n                break;\n\n            case NotificationName.PLAYLIST_COMPLETE:\n            case NotificationName.PLAYLIST_CLEARED:\n            case NotificationName.PLAYLIST_CURRENT_RESOURCE_CLEARED:\n                // 'cleared' notifications carry the interrupted resource (if any) in body\n                this.close()\n                    .then(() => {\n                        this.sendAppEventNotification(notification.name, notification.body);\n                    });\n                break;\n        }\n    }\n\n    private sendAppEventNotification(n: string, data: any = null) {\n        this.sendNotification(NotificationName.APP_EVENT, {\n            notificationName: n,\n            data: data\n        });\n    }\n\n    private close(): Promise<void> {\n        const presoM = <PresentationMediatorInterface>this.facade.retrieveMediator(MediatorName.PRESENTATION_MEDIATOR);\n        return (presoM) ? presoM.close() : Promise.resolve();\n    }\n}\n","\n/**\n * Errors Events that produce error codes.\n * \n * @see [[PlayerEvent.RESOURCE_ERROR]]\n * @see [[PlayerEvent.VIDEO_START_ERROR]]\n * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n * @see [[PlayerEvent.AD_ERROR]]\n */\nexport enum ErrorCode {\n\n    /*\n        ConcurrencyLimitViolation\n        DomainBlocked\n        Expired\n        GeoLocationBlocked\n        IpBlocked\n        NotAvailableRestriction\n        SatelliteProviderBlocked\n        UnknownServerError\n        UserAgentBlocked\n    */\n\n    //********************\n    // RESOURCE ERROR\n    //********************\n\n    /**\n     * Resource validation error, retrieval error/CMS error.\n     * \n     * @see [[PlayerEvent.RESOURCE_ERROR]]\n     */\n    INVALID_RESOURCE_FORMAT =  '1000',\n    // CMS-specific errors parsed from MPX response XML.\n\n    /**\n     * MPX: Responds with a 400 error typically 404.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.RESOURCE_ERROR]]\n     */\n    RESOURCE_UNAVAILABLE = '1100',\n\n    /**\n     * MPX: Geo-restricted content.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.RESOURCE_ERROR]]\n     */\n    GEO_LOCATION_BLOCKED =  '1101',\n\n    /**\n     * MPX: Domain is blocked from content access.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.RESOURCE_ERROR]]\n     */\n    DOMAIN_BLOCKED = '1102',\n\n    /**\n     * MPX:  IP is blocked from content access.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.RESOURCE_ERROR]]\n     */\n    IP_BLOCKED = '1103',\n\n    /**\n     * MPX:  Provider is blocked from content access.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.RESOURCE_ERROR]]\n     */\n    SATELLITE_PROVIDER_BLOCKED = '1104',\n\n    /**\n     * MPX:  Provider is blocked from content access.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.RESOURCE_ERROR]]\n     */\n    EXPIRED = '1105',\n\n    /**\n    * MPX: No response received; typically a failed XHR call with no explicit error.\n    * - Retry logic is not performed.\n    * - This error is fatal and playback will not begin.\n    * \n    * @see [[PlayerEvent.RESOURCE_ERROR]]\n    */\n    SELECTOR_CALL_ERROR = '1106', \n    \n    /**\n    * The SDK is either absent or its loading has been blocked.\n    * - Retry logic is not performed.\n    * - This error is fatal and playback will not begin.\n    * \n    * @see [[PlayerEvent.RESOURCE_ERROR]]\n    */\n    IMA_SDK_MISSING = '1200',\n\n    /**\n    * The SDK is either absent or its loading has been blocked.\n    * - Retry is performed based on player options settings for networkErrorRecovery.\n    * - This error is fatal and playback will not begin.\n    * \n    * @see [[PlayerEvent.RESOURCE_ERROR]]    \n    */\n    DAI_SDK_MISSING = '1201',\n\n    /**\n    * Dash low level streaming engine code is not compiled into CVP.  \n    * It is loaded \"just in time\".\n    * - Retry is performed based on player options settings for networkErrorRecovery.\n    * - This error is fatal and playback will not begin.\n    * \n    * @see [[PlayerEvent.RESOURCE_ERROR]]\n    */\n    DASH_SDK_MISSING = '1202',\n\n    /**\n    * HLS low level streaming engine code is not compiled into CVP.  It is loaded \"just in time\". \n    * - Retry is performed based on player options settings for networkErrorRecovery.\n    * - This error is fatal and playback will not begin.\n    * \n    * @see [[PlayerEvent.RESOURCE_ERROR]]\n    */\n    HLS_SDK_MISSING = '1203',\n\n    /**\n    * Shaka Player low level streaming engine code is not compiled into CVP.  It is loaded \"just in time\". \n    * - Retry is performed based on player options settings for networkErrorRecovery.\n    * - This error is fatal and playback will not begin.\n    * \n    * @see [[PlayerEvent.RESOURCE_ERROR]]\n    */\n    SHAKA_SDK_MISSING = '1204',\n\n    /**\n    * Twitch Low Latency streaming engine code is not compiled into CVP.  It is loaded \"just in time\". \n    * - Retry is performed based on player options settings for networkErrorRecovery.\n    * - This error is fatal and playback will not begin.\n    * \n    * @see [[PlayerEvent.RESOURCE_ERROR]]\n    */\n    TWITCH_SDK_MISSING = '1205',\n\n    //********************\n    // VIDEO_START_ERROR\n    //********************\n\n\n    /**\n     * HLS parser can not parse the manifest for some reason.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.VIDEO_START_ERROR]]\n     */\n    HLSJS_PARSE_ERROR =  '2101',\n\n    /**\n     * DASH parser can not parse the manifest for some reason.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.VIDEO_START_ERROR]]\n     */\n    DASHJS_PARSE_ERROR =  '2102',\n\n    /**\n     * Shaka Player parser can not parse the manifest for some reason.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.VIDEO_START_ERROR]]\n     */\n    SHAKA_PARSE_ERROR =  '2103',\n\n    /**\n     * Twitch parser can not parse the manifest for some reason.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.VIDEO_START_ERROR]]\n     */\n    TWITCH_PARSE_ERROR =  '2104',\n\n    /**\n     * Video.play() invoked illegally when a user click is \n     * required to initiate play\n     * \n     * @see [[PlayerEvent.VIDEO_START_ERROR]]\n     */\n    USER_GESTURE_REQUIRED =  '2300',\n\n    //********************\n    // VIDEO_PLAYBACK_ERROR\n    //********************\n    /**\n     * Native HTML5 playback network error of any type.  \n     * Could not download something needed for playback. \n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    HTML5_NETWORK_ERROR = '3001',\n\n    /**\n     * HLS low level lib network error. Could not download \n     * something needed for playback.\n     * - Thrown only after all retry logic has been performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    HLSJS_NETWORK_ERROR = '3002',\n    \n    /**\n     * DASH low level lib network error. Could not download\n     * something needed for playback.\n     * - Thrown only after all retry logic has been performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    DASHJS_NETWORK_ERROR = '3003',\n    \n    /**\n     * PlayStation WEBMAF lib network error. Could not download\n     * something needed for playback.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    WEBMAF_NETWORK_ERROR = '3004',\n\n    /**\n     * Shaka Player lib network error. Could not download\n     * something needed for playback.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    SHAKA_NETWORK_ERROR = '3005',\n\n    /**\n     * Twitch low level lib network error. Could not download\n     * something needed for playback.\n     * - Thrown only after all retry logic has been performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    TWITCH_NETWORK_ERROR = '3006',\n    \n    /**\n     * The fetching process for the media resource was aborted \n     * by the user agent at the user's request.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */    \n    MEDIA_ABORTED = '3100',\n\n    /**\n     * Native HTML5 media resource was not suitable. \n     * - Thrown when media is not supported due to codec or other reason.\n     * - Retry logic is not performed.\n     *  - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    HTML5_SRC_NOT_SUPPORTED = '3101',\n\n    /**\n     * HLS media resource was not suitable.\n     * - Thrown when media is not supported due to codec or other reason.\n     * - Retry logic is not performed.\n     *  - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    HLSJS_SRC_NOT_SUPPORTED = '3102',\n\n    /**\n     * DASH media resource was not suitable.\n     * - Thrown when media is not supported due to codec or other reason.\n     * - Retry logic is not performed.\n     *  - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    DASHJS_SRC_NOT_SUPPORTED = '3103',\n\n    /**\n     * Any media resource was not suitable.\n     * - Thrown when media is not supported due to codec or other reason.\n     * - Retry logic is not performed.\n     *  - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    WEBMAF_SRC_NOT_SUPPORTED = '3104',\n\n    /**\n     * Any media resource was not suitable.\n     * - Thrown when media is not supported due to codec or other reason.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    SHAKA_SRC_NOT_SUPPORTED = '3105',\n\n    /**\n     * Twitch media resource was not suitable.\n     * - Thrown when media is not supported due to codec or other reason.\n     * - Retry logic is not performed.\n     *  - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    TWITCH_SRC_NOT_SUPPORTED = '3106',\n    \n    /**\n     * Native HTML5 media error.  An error occurred while decoding the media resource, \n     * after the resource was established to be usable.  \n     * - Thrown when corrupted chunks of media are encountered.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    HTML5_MEDIA_ERROR = '3200',\n\n    /**\n     * HLS media error. An error occurred while decoding the media resource,\n     * after the resource was established to be usable.\n     * - Thrown when corrupted chunks of media are encountered.\n     * - Thrown only after all retry logic has been performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    HLSJS_MEDIA_ERROR = '3201',\n\n    /**\n     * HLS.js trans-mux error.  \n     * - Thrown when when memory allocation fails during remuxing\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    HLSJS_MUX_ERROR = '3202',\n\n    /**\n     * DASH media error. An error occurred while decoding the media resource,\n     * after the resource was established to be usable.\n     * - Thrown when corrupted chunks of media are encountered.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    DASHJS_MEDIA_ERROR = '3203',\n\n    /**\n     * **NOT IMPLEMENTED YET**\n     * \n     * PlayStation WEBMAF media error. An error occurred while decoding the media resource,\n     * after the resource was established to be usable.\n     * - Thrown when corrupted chunks of media are encountered.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    WEBMAF_MEDIA_ERROR = '3204',\n\n    /**\n     * Shaka Player media error. An error occurred while decoding the media resource,\n     * after the resource was established to be usable.\n     * - Thrown when corrupted chunks of media are encountered.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    SHAKA_MEDIA_ERROR = '3205',\n\n    /**\n     * Twitch media error. An error occurred while decoding the media resource,\n     * after the resource was established to be usable.\n     * - Thrown when corrupted chunks of media are encountered.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    TWITCH_MEDIA_ERROR = '3206',\n\n    /**\n    * Fairplay Application Certificate DRM error.\n    * - Thrown when any issue is found with the application cert url, the request or certificate decoding.\n    * - Retry logic is not performed.\n    * - This error is fatal and playback will not begin.\n    * \n    * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n    */\n    FAIRPLAY_APP_CERT_ERROR = '3300',\n\n    /**\n     * Fairplay License Acquisition DRM error.\n     * - Thrown when any issue is found with the License Server url, request or setting the license on the key system.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    FAIRPLAY_LIC_ERROR = '3301', \n\n    /**\n     * Widevine or Playready DRM error.\n     * - Thrown for any reason DRM failed during the initialization process.  \n     * - Thrown only after all retry logic has been performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    DASHJS_DRM_ERROR = '3302',\n\n    /**\n     * Playready DRM error.\n     * - Thrown for any reason DRM failed during the initialization process.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    WEBMAF_DRM_ERROR = '3303',\n\n    /**\n     * Widevine or Playready DRM error.\n     * - Thrown for any reason DRM failed during the initialization process.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will not begin.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    SHAKA_DRM_ERROR = '3304',\n\n    /**\n     * All other HTML5 Video errors or any unknown error.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    UNSPECIFIED_VIDEO_PLAYBACK_ERROR = '3400',\n\n    /**\n     * All other HLS errors or any unknown error.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    UNSPECIFIED_HLSJS_ERROR = '3401',\n\n    /**\n     * All other DASH Video errors or any unknown error.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    UNSPECIFIED_DASHJS_ERROR = '3402',\n\n    /**\n     * All other PlayStation WEBMAF errors or any unknown error.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    UNSPECIFIED_WEBMAF_ERROR = '3403',\n\n    /**\n     * All other Shaka errors or any unknown error.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    UNSPECIFIED_SHAKA_ERROR = '3404',\n\n    /**\n     * All other Twitch errors or any unknown error.\n     * - Retry logic is not performed.\n     * - This error is fatal and playback will stop.\n     * \n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     */\n    UNSPECIFIED_TWITCH_ERROR = '3405',\n\n    //********************\n    // AD_ERROR\n    //********************\n\n    /**\n     * Applies to IMA only; if ad progress fails to advance for period of 5 seconds, \n     * the ad is considered 'stalled', the ad break is discarded and content play resumes if applicable.\n     * \n     * @see [[PlayerEvent.AD_ERROR]]\n     * @see [[PlayerEvent.AD_STALLED]]\n     */\n    AD_STALLED = '4000',        \n\n    /**\n     * An attempt to initialize the IMA AdsManager object resulted in an error. \n     * In this case, no ads will play for the session.  \n     * \n     * **This is a rare error.**\n     * \n     * @see [[PlayerEvent.AD_ERROR]]\n     */\n    IMA_INIT_FAILURE = '4100',\n\n    /**\n     * An error from the IMA SDK. There are numerous causes for an ad error; \n     * the AdErrorEvent emitted by the JS player can be interrogated for details.\n     * \n     * @see [[PlayerEvent.AD_ERROR]]\n     */\n    IMA_AD_ERROR =  '4101',\n\n    /**\n     * An error from the IMA SDK. There are numerous causes for an ad error; \n     * the AdErrorEvent emitted by the JS player can be interrogated for details.\n     * \n     * @see [[PlayerEvent.AD_ERROR]]\n     */\n    DAI_DATA_ERROR =  '4200',\n\n    /**\n     * A response was not received from the DAI back end.\n     * \n     * @see [[PlayerEvent.AD_ERROR]]\n     */\n    DAI_NETWORK_ERROR = '4201',\n\n    /**\n     * DOC-TODO\n     */\n    AD_BLOCKING_DETECTED = '4300',\n    \n    //********************\n    // UNEXPECTED\n    //********************\n\n    /**\n     * Cases of developer error or other errors that do not fall into a well-described category.\n     * @see [[PlayerEvent.RESOURCE_ERROR]]\n     * @see [[PlayerEvent.VIDEO_START_ERROR]]\n     * @see [[PlayerEvent.VIDEO_PLAYBACK_ERROR]]\n     * @see [[PlayerEvent.AD_ERROR]]\n     */\n    UNEXPECTED_CONDITION =  '9999',\n}","\nexport enum VideoFormat {\n    HLS = 'hls',\n    DASH = 'dash',\n    MP4 = 'mp4',\n    UNKNOWN = 'unknown'\n}","import { dai } from '../../dai';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\n\n\nexport class Ad implements dai.Ad {\n\n    private data: dai.AdResponse;\n    private podInfo: dai.AdPodInfo;\n\n    constructor(adResponse: dai.AdResponse, podInfo: dai.AdPodInfo) {\n        this.data = adResponse;\n        this.podInfo = podInfo;\n    }\n\n    getAdId(): string {\n        return this.data.ad_id;\n    }\n\n    getAdPodInfo(): dai.AdPodInfo {\n        return this.podInfo;\n    }\n\n    getAdSystem(): string | null {\n        return this.data.advertiser || null;\n    }\n\n    getAdvertiserName(): string | null {\n        return this.data.advertiser || null;\n    }\n\n    getApiFramework(): string {\n        return null;\n    }\n\n    getCreativeAdId(): string {\n        return this.data.creative_ad_id;\n    }\n\n    getCreativeId(): string {\n        return this.data.creative_id;\n    }\n\n    getDealId(): string | null {\n        return this.data.deal_id || null;\n    }\n\n    getDescription(): string {\n        return this.data.description;\n    }\n\n    getDuration(): number {\n        return this.data.duration;\n    }\n\n    getTitle(): string {\n        return this.data.title;\n    }\n\n    getDaiWrapperData(): Record<string, string> {\n        let adId = null;\n        let creativeId = null;\n        let creativeAdId = null;\n\n        if (this.data.wrappers && this.data.wrappers[0]) {\n            const w0 = this.data.wrappers[0];\n            adId = w0.ad_id;\n            creativeId = w0.creative_id;\n            creativeAdId = w0.creative_ad_id;\n        }\n\n        return { adId, creativeId, creativeAdId };\n    }\n\n    getWrapperAdIds(): string[] {\n        return this.getWrapperPropArray('ad_id');\n    }\n\n    getWrapperCreativeIds(): string[] {\n        return this.getWrapperPropArray('creative_id');\n    }\n\n    getWrapperCreativeAdIds(): string[] {\n        return this.getWrapperPropArray('creative_ad_id');\n    }\n\n    getWrapperAdSystems(): string[] {\n        return this.getWrapperPropArray('system');\n    }\n\n    getCompanionAds(): dai.CompanionAd[] | null {\n        return null;\n    }\n\n    private getWrapperPropArray(propName: string): string[] {\n        const out = [],\n            wrappers = this.data.wrappers || null;\n\n        if (!wrappers) {\n            return null;\n        }\n\n        let item: string, w;\n        for (let i = 0, n = wrappers.length; i < n; i++) {\n            w = <StrAnyDict>wrappers[i];\n            item = w[propName];\n            item && item != '' && out.push(item);\n        }\n\n        return out;\n    }\n}\n","import { dai } from '../../dai';\n\n/*\n    export interface AdResponse extends StrAnyDict {\n        seq: number;\n        start: number;\n        duration: number;\n        title: string;\n        description: string;\n        advertiser: string;\n        ad_system: string;\n        ad_id: string;\n        creative_id: string;\n        creative_ad_id: string;\n        deal_id: string;\n        clickthrough_url: string;\n        wrappers: AdWrapper[];\n        events: AdEventObject[];\n        verifications?: AdVerification[]; \n    }\n\n    export interface AdPodResponse extends StrAnyDict {\n        type: string;\n        start: number;\n        duration: number;\n        ads: AdResponse[];\n    }\n*/\n\nexport class AdPodInfo {\n\n    private data: dai.AdBreakResponse;\n    private pos!: number;\n    private podIdx: number;\n\n    constructor(data: dai.AdBreakResponse, adPos: number, idx: number) {\n        this.data = data;\n        this.podIdx = idx;\n        this.pos = adPos;\n    }\n\n    getAdPosition(): number {\n        return this.pos;\n    }\n\n    setAdPosition(n: number): void {\n        this.pos = n;\n    }\n\n    getMaxDuration(): number {\n        return this.data.duration;\n    }\n\n    getPodIndex(): number { // 0 [1, 2,..n] -1\n        return this.podIdx;\n    } \n\n    setPodIndex(n: number): void {\n        this.podIdx = n;\n    }\n\n    getTimeOffset(): number {\n        return this.data.start;\n    }\n\n    getTotalAds(): number {\n        return this.data.ads && this.data.ads.length;\n    }\n}","import { CoreEvent } from '../../core/CoreEvent';\nimport { dai } from '../../dai';\n\n\nexport class StreamEvent extends CoreEvent implements dai.StreamEvent {\n\n    static Type: dai.StreamEventType = {\n        LOADED: 'loaded',\n        AD_BREAK_STARTED: 'adBreakStarted',\n        AD_BREAK_ENDED: 'adBreakEnded',\n        STARTED: 'started',\n        COMPLETE: 'complete',\n        FIRST_QUARTILE: 'firstQuartile',\n        MIDPOINT: 'midpoint',\n        THIRD_QUARTILE: 'thirdQuartile',\n        AD_PERIOD_STARTED: 'adPeriodStarted',\n        AD_PERIOD_ENDED: 'adPeriodEnded',\n        CUEPOINTS_CHANGED: 'cuePointsChanged',\n        STREAM_INITIALIZED: 'streamInitialized',\n        ERROR: 'error',\n        AD_PROGRESS: 'adProgress',\n        CLICK: 'click',\n    };\n\n    data: dai.StreamData;\n    private ad: dai.Ad = null;\n\n    constructor(type: string, target: any, streamData: dai.StreamData, ad?: dai.Ad) {\n        super(type, null, streamData);\n        this.data = streamData;\n        this.target = target;\n        ad && (this.ad = ad);\n    }\n\n    get Type(): dai.StreamEventType {\n        return StreamEvent.Type;\n    }\n\n    getAd(): dai.Ad {\n        return this.ad;\n    }\n\n    getStreamData(): dai.StreamData {\n        return this.data;\n    }\n}\n","import { Emitter } from '../../core/Emitter';\nimport { dai } from '../../dai';\nimport { AsyncDataRequest } from '../../dataservice/AsyncDataRequest';\nimport { AsyncDataRequestOptions } from '../../dataservice/AsyncDataRequestOptions';\nimport { ErrorCode } from '../../enum/ErrorCode';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { VideoFormat } from '../../enum/VideoFormat';\nimport { XhrResponseType } from '../../enum/XhrResponseType';\nimport { AdEventStatusInterface, SimpleVideoInterface } from '../../iface';\nimport { ErrorRecoveryInterface } from '../../iface/ErrorRecoveryInterface';\nimport { EventHandler } from '../../iface/EventHandler';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { Ad } from './Ad';\nimport { AdPodInfo } from './AdPodInfo';\nimport { StreamEvent } from './StreamEvent';\nimport { Util } from '../../core/Util';\n\n\n//////////////////\n// local iface defs\ninterface AdBreakObject {\n    index: number;\n    seq: number;\n    duration: number;\n    start: number;\n    end: number;\n    type: string;\n    ads: dai.AdResponse[];\n    played: boolean;\n}\n\ninterface AdStatus {\n    [index: string]: boolean;\n}\n\ninterface AdStatusByBreak {\n    [index: string]: AdStatus;\n}\n\ninterface BreakInfo {\n    break: AdBreakObject,\n    index: number;\n}\n\n// end iface defs\n/////////////////\n\nexport class StreamManager extends Emitter implements dai.StreamManager {\n\n    static event: dai.StreamEventType = {\n        LOADED: 'loaded',\n        STREAM_INITIALIZED: 'streamInitialized',\n        CUEPOINTS_CHANGED: 'cuePointsChanged',\n        AD_BREAK_STARTED: 'adBreakStarted',\n        AD_BREAK_ENDED: 'adBreakEnded',\n        STARTED: 'started',\n        COMPLETE: 'complete',\n        AD_PROGRESS: 'adProgress',\n        FIRST_QUARTILE: 'firstQuartile',\n        MIDPOINT: 'midpoint',\n        THIRD_QUARTILE: 'thirdQuartile',\n        CLICK: 'click',\n        ERROR: 'error',\n        AD_PERIOD_STARTED: 'adPeriodStarted',\n        AD_PERIOD_ENDED: 'adPeriodEnded',\n    };\n\n    static eventStatusMap: StrAnyDict = {\n        start: 'started',\n        firstquartile: 'firstQuartile',\n        midpoint: 'midpoint',\n        thirdquartile: 'thirdQuartile',\n        complete: 'complete',\n    };\n\n    static DAI_BASE_URL: string = 'https://dai.google.com';\n    static STREAM_PATH: string = '/ondemand/v1/{format}/content/{contentSourceId}/vid/{daiVideoId}/stream';\n\n    private adBreaks: AdBreakObject[] = [];\n    private currBreak: AdBreakObject = null;\n    private currBreakIndex: number = null;\n    private currAd: dai.AdResponse = null;\n    private currEventStatus: AdEventStatusInterface;\n    private breakStatus: AdStatusByBreak = {};\n    private breakPoints: number[] = [];\n    private pollId: any = null;\n    private vidIface: SimpleVideoInterface;\n    private logger: LoggerInterface;\n    private lastRecordedTime: number = -1;\n\n    private streamId!: string;\n    private streamDur!: number;\n    private mvu!: string;\n    private clickEl!: HTMLElement;\n    private clickThruHandler!: EventListenerOrEventListenerObject;\n\n    constructor(SimpleVideoInterface: SimpleVideoInterface, adContainer: HTMLElement, logger?: LoggerInterface) {\n        super(null);\n\n        this.currEventStatus = this.createEventStatus();\n        this.currBreakIndex = null;\n        this.vidIface = SimpleVideoInterface;\n        this.logger = logger;\n        this.setClickElement(adContainer);\n    }\n\n    /////////////////////////////////////////\n    // Public API - replicates API of DAI SDK\n    addEventListener(name: string, fn: EventHandler): void {\n        this.on(name, fn);\n    }\n\n    removeEventListener(name: string, fn: EventHandler): void {\n        this.off(name, fn);\n    }\n\n    requestStream(streamReq: dai.VODStreamRequest | dai.LiveStreamRequest, er: ErrorRecoveryInterface = null): void {\n        streamReq.adTagParameters.correlator = this.getCorrelator();\n\n        if (streamReq.apiKey) {\n            streamReq.adTagParameters['api-key'] = streamReq.apiKey;\n        }\n\n        const reqOpts = AsyncDataRequestOptions.create({\n            responseType: XhrResponseType.JSON,\n            timeout: 3000,\n            method: 'post',\n            errorRecovery: er,\n            headers: { 'Content-Type': 'application/x-www-form-urlencoded', },\n            url: this.getUrl(streamReq.contentSourceId, streamReq.videoId, streamReq.format || 'hls'),\n            data: streamReq.adTagParameters,\n            encodeList: ['cust_params'],\n            onComplete: (e: EventInterface) => {\n                this.handleStreamLoaded(e);\n            }\n        });\n\n        new AsyncDataRequest(reqOpts);\n    }\n\n    setClickElement(clickElement: HTMLElement): void {\n        if (!clickElement) return;\n\n        this.clickEl = clickElement || null;\n        this.clickThruHandler = (e: Event) => { this.hClickThru(e); };\n        this.clickEl.addEventListener('click', this.clickThruHandler);\n    }\n\n    // supply streamTime in seconds; returns content time\n    contentTimeForStreamTime(streamTime?: number): number {\n        const bks = this.adBreaks;\n        let breakSum = 0, b;\n\n        if (streamTime == undefined) {\n            streamTime = this.streamDur;\n        }\n\n        for (let i = 0, n = bks.length; i < n; i++) {\n            b = bks[i];\n            if (streamTime > b.start) {\n                if (streamTime >= b.end) {\n                    breakSum += b.duration;\n                    if (i == n - 1) {\n                        return streamTime - breakSum;\n                    }\n                }\n                else {\n                    return b.start - breakSum;\n                }\n            }\n            else {\n                return streamTime - breakSum;\n            }\n        }\n\n        return streamTime;\n    }\n\n    streamTimeForContentTime(t: number): number {\n        const bks = this.adBreaks;\n\n        let sum = 0, bct, b;\n\n        for (let i = 0, n = bks.length; i < n; i++) {\n            b = bks[i];\n            bct = this.contentTimeForStreamTime(bks[i].start);\n            if (t >= bct) sum += b.duration;\n            else break;\n        }\n\n        return t + sum;\n    }\n\n    previousCuePointForStreamTime(streamTime: number): dai.CuePoint {\n        const bks = this.adBreaks;\n        let i = bks.length, b;\n\n        while (i--) {\n            b = bks[i];\n            if (streamTime >= b.start) {\n                return (!b.played) ? this.cuePointFromBreak(b) : null;\n            }\n        }\n\n        return null;\n    }\n\n    // Pass  processed metadata - used for media_verification call\n    onTimedMetadata(metadata: dai.StreamMetadataInterface): void {\n        const reqOpts = AsyncDataRequestOptions.create({\n            responseType: XhrResponseType.JSON,\n            timeout: 2000,\n            url: this.mvu + metadata.TXXX,\n            onComplete: (e) => { },\n            errorRecovery: {}\n        });\n\n        new AsyncDataRequest(reqOpts);\n    }\n\n    processMetadata(type: string, data: Uint8Array | string, timestamp: number): void {\n        // no impl necessary\n    }\n\n    // Resets the stream manager and removes any continuous polling.\n    reset(): void {\n        clearInterval(this.pollId);\n        this.clickEl && this.clickEl.removeEventListener('click', this.clickThruHandler);\n        this.clickEl = null;\n        this.streamId = null;\n        this.adBreaks = [];\n        this.breakPoints = [];\n        this.streamDur = NaN;\n        this.currBreak = null;\n        this.currBreakIndex = null;\n        this.currAd = null;\n        this.mvu = null;\n        this.resetUponAdComplete();\n        this.lastRecordedTime = -1;\n        this.pollId = null;\n    }\n    // END Public API\n    ////////////////////////////\n\n    ///////////\n    // PRIVATE\n\n    // State\n    private beginPoll(): void {\n        this.pollId = setInterval(() => { this.checkState(); }, 100);\n    }\n\n    private checkState(): void {\n        const t = this.vidIface.currentTime;\n\n        if (!isNaN(t) && t > 0 && t > this.lastRecordedTime) {\n\n            if (!this.currBreak) {\n                const info = this.getBreakForStreamTime(t);\n                const k: AdBreakObject = info.break;\n                if (k && k.played) {\n                    this.emitAdPeriodStarted(k);\n                }\n                else {\n                    k && this.beginBreak(k, info.index);\n                }\n            }\n            // Note: this.currBreak may become defined\n            // in block above, via beginBreak();\n            if (this.currBreak) {\n                const ck = this.currBreak;\n                if (t >= (ck.end)) {\n                    this.monitorAdStatus(t, ck);\n                    this.endBreak();\n                }\n                else {\n                    this.monitorAdStatus(t, ck);\n                }\n            }\n        }\n\n        !isNaN(t) && t >= 0 && (this.lastRecordedTime = t);\n    }\n\n    private monitorAdStatus(t: number, brk: AdBreakObject): void {\n        const ads = brk.ads,\n            brkSt = brk.start;\n\n        if (this.currAd) {\n            this.monitorCurrentAd(t);\n            return;\n        }\n\n        let adSt: number,\n            i = ads.length;\n        while (i--) {\n            adSt = ads[i].start || 0;\n            if (t >= adSt || adSt == undefined) {\n                if (!this.breakStatus[`t_${brkSt}`][`t_${adSt}`]) {\n                    const btl = brk.type.toLowerCase();\n\n                    this.currBreakIndex = btl === 'pre' ? 0 : (btl === 'mid' ? brk.index : -1);\n                    this.beginAd(ads[i], adSt);\n                    break;\n                }\n            }\n        }\n    }\n\n    //  inspect curr Ad 'events' array for ad life-cycle events\n    private monitorCurrentAd(t: number): void {\n        const evts = this.currAd.events,\n            status = this.currEventStatus;\n\n        let emitProg = true,\n            i = evts.length,\n            evt: dai.AdEventObject;\n\n        while (i--) {\n            evt = evts[i];\n            if (t >= evt.time && !status[evt.type]) {\n                status[evt.type] = true;\n                if (evt.type === 'complete' || t >= (this.currAd.start + this.currAd.duration)) {\n                    emitProg = false;\n                    this.emitAdComplete();\n                    this.resetUponAdComplete();\n                    break;\n                }\n                else if (evt.type !== 'start') {\n                    emitProg = false;\n                    this.emit(StreamManager.eventStatusMap[evt.type], this.createStreamData());\n                    break;\n                }\n            }\n        }\n\n        emitProg && this.emitProgress(t);\n    }\n\n    private resetUponAdComplete(): void {\n        this.currEventStatus = this.createEventStatus();\n        this.currAd = null;\n    }\n\n    ///////////////////////////////\n    // adBreak/ad life-cycle points\n    private beginBreak(brk: AdBreakObject, index: number): void {\n        this.currBreak = brk;\n        this.currBreak.played = true;\n\n        this.emitCues();\n\n        const d = this.createStreamData();\n        d.streamId = this.streamId;\n        this.emit(StreamManager.event.AD_BREAK_STARTED, d);\n    }\n\n    private endBreak(): void {\n        this.emit(StreamManager.event.AD_BREAK_ENDED, this.createStreamData());\n        this.currBreak = null;\n    }\n\n    private beginAd(ad: dai.AdResponse, adSt: number): void {\n        this.currAd = ad;\n        this.breakStatus[`t_${this.currBreak.start}`][`t_${adSt}`] = true;\n        this.currEventStatus.start = true;\n\n        const sd = this.createStreamData();\n        sd.streamId = this.streamId;\n\n        const podInfo = new AdPodInfo(this.currBreak, this.currAd.seq, this.currBreakIndex),\n            adInfo = new Ad(this.currAd, podInfo);\n\n        const e = new StreamEvent(StreamManager.event.STARTED, this, sd, adInfo);\n\n        this.dispatchEvt(e);\n    }\n\n    /////////////////\n    // Event handling\n    private handleStreamLoaded(e: EventInterface): void {\n        if (e.data.error) {\n            const msg = `Error. Status: ${e.data.status || 'Unknown'}; Message: ${e.data.message}`;\n            this.logger.log(LogLevel.ERROR, msg);\n            this.emitError(msg, ErrorCode.DAI_NETWORK_ERROR);\n        }\n        else {\n            this.gatherStreamInfo(e.data.response);\n            this.emitCues();\n            this.beginPoll();\n            this.emitLoaded(e.data.response);\n        }\n    }\n\n    private hClickThru(e: Event): void {\n        if (!this.currAd) {\n            return;\n        }\n        const u = this.currAd.clickthrough_url;\n        u && u !== '' && window.open(u);\n        this.emit(StreamManager.event.CLICK);\n    }\n\n    /////////////////\n    // Event dispatch\n\n    // (override)\n    emit(name: string, data: dai.StreamData = null): void {\n        let e: EventInterface = new StreamEvent(name, this, data);\n        this.dispatchEvt(e);\n    }\n\n    private emitCues() {\n        const d = this.createStreamData();\n        d.cuepoints = this.assembleCuePoints();\n\n        this.emit(StreamManager.event.CUEPOINTS_CHANGED, d);\n    }\n\n    // note: passing null will force progress to 100%\n    private emitProgress(t: number | null) {\n        const ap = this.createAdProgressData(t === null ? (this.currAd.start || 0) + this.currAd.duration : t),\n            sd = this.createStreamData();\n\n        sd.adProgressData = ap;\n\n        this.emit(StreamManager.event.AD_PROGRESS, sd);\n    }\n\n    private emitLoaded(s: dai.Stream): void {\n        const d: dai.StreamData = this.createStreamData();\n\n        d.stream_id = this.streamId;\n        d.subtitles = s.subtitles;\n        d.manifestFormat = this.getFormat(s.stream_manifest);\n        d.url = s.stream_manifest;\n\n\n        this.emit(StreamManager.event.LOADED, d);\n    }\n\n    private emitAdComplete(): void {\n        const sd = this.createStreamData();\n        sd.streamId = this.streamId;\n\n        this.emitProgress(null);\n        this.emit(StreamManager.event.COMPLETE, sd)\n    }\n\n    private emitError(msg: string, code: ErrorCode): void {\n        const d = this.createStreamData();\n\n        d.streamId = this.streamId;\n        d.errorMessage = msg;\n        d.code = code;\n\n        this.emit(StreamManager.event.ERROR, d);\n    }\n\n    private emitAdPeriodStarted(k: AdBreakObject): void {\n        const d = this.createStreamData();\n        d.streamResumeTime = k.start + k.duration + 0.1;\n        this.emit(StreamManager.event.AD_PERIOD_STARTED, d);\n    }\n    ///////\n    // util\n    private createAdProgressData(t: number): dai.AdProgressData {\n        return {\n            adBreakDuration: this.currBreak.duration,\n            adPeriodDuration: null,\n            adPosition: this.currAd.seq,\n            currentTime: Util.clampValue(t - (this.currAd.start || 0), 0, this.currAd.duration),\n            duration: this.currAd.duration,\n            totalAds: this.currBreak.ads.length\n        }\n    }\n\n    private createEventStatus(): AdEventStatusInterface {\n        return {\n            start: false,\n            first: false,\n            mid: false,\n            third: false,\n            complete: false\n        };\n    }\n\n    private assembleCuePoints(): dai.CuePoint[] {\n        const cpa = [];\n\n        for (let i = 0, n = this.adBreaks.length; i < n; i++) {\n            cpa.push(this.cuePointFromBreak(this.adBreaks[i]));\n        }\n\n        return cpa;\n    }\n\n    private getBreakForStreamTime(t: number): BreakInfo {\n        let b;\n        for (let i = 0, n = this.adBreaks.length; i < n; i++) {\n            b = this.adBreaks[i];\n            if (t >= b.start && ((t - b.start) <= 1)) {\n                if (!this.currBreak) {\n                    return { break: b, index: i };\n                }\n            }\n        }\n\n        return { break: null, index: null };\n    }\n\n    private getUrl(cid: string, vid: string, format: string): string {\n        let u =\n            StreamManager.DAI_BASE_URL +\n\n            StreamManager.STREAM_PATH\n                .replace('{format}', format)\n                .replace('{contentSourceId}', cid)\n                .replace('{daiVideoId}', vid)\n            ;\n\n        return u;\n    }\n\n    private getCorrelator(): string {\n        let n = String(Math.round(1000000000000000 + Math.random() * 9000000000000000));\n\n        if (n.length < 16) { while (n.length < 16) n += '0'; }\n        if (n.length > 16) { n = n.substr(0, 17); }\n\n        return n;\n    }\n\n    private cuePointFromBreak(b: AdBreakObject): dai.CuePoint {\n        return {\n            start: b.start,\n            end: b.end,\n            played: b.played\n        };\n    }\n\n    private createStreamData(): dai.StreamData {\n        return {\n            adProgressData: null,\n            cuepoints: null,\n            errorMessage: null,\n            streamId: this.streamId || null,\n            manifestFormat: null,\n            subtitles: null,\n            url: null\n        };\n    }\n\n    private getFormat(u: string): VideoFormat {\n        const isHls = u.indexOf('.m3u8') >= 0,\n            isDsh = !isHls && u.indexOf('.mpd') >= 0;\n\n        return isHls ? VideoFormat.HLS : (isDsh ? VideoFormat.DASH : VideoFormat.UNKNOWN);\n    }\n\n    private gatherBreakInfo(b: dai.AdBreakResponse[]): void {\n        const nBreaks = (b && b.length) || 0;\n\n        // TODO - djl - For now, adhere to SDK CuePoint interface.\n        // This can be made more convenient for cuePoint consumer.\n        // (e.g.. by including break type and index)\n        let k: dai.AdBreakResponse, s, e, d;\n        let midSeq = 1;\n\n        for (let i = 0; i < nBreaks; i++) {\n            k = b[i];\n            s = k.start;\n            d = k.duration;\n            e = s + d;\n\n            this.breakPoints.push(s);\n            this.adBreaks.push({\n                duration: d,\n                start: s,\n                end: e,\n                played: false,\n                type: k.type,\n                ads: k.ads,\n                index: i,\n                seq: k.type == 'mid' ? midSeq++ : 0\n            });\n\n            const adStat: AdStatus = this.breakStatus['t_' + s] = {};\n\n            let ast;\n            for (let q = 0, w = k.ads.length; q < w; q++) {\n                ast = k.ads[q].start || 0;\n                adStat['t_' + ast] = false;\n            }\n        }\n    }\n\n    private gatherStreamInfo(s: dai.Stream) {\n        this.streamDur = s.total_duration;\n        this.mvu = s.media_verification_url;\n        this.streamId = s.stream_id;\n\n        this.gatherBreakInfo(s.ad_breaks);\n    }\n}\n","import { Util } from '../../core/Util';\nimport { dai } from '../../dai';\nimport { AdTagParametersInterface } from '../../iface/AdTagParametersInterface';\n\n\nexport class VODStreamRequest {\n\n    private req: dai.VODStreamRequest = {\n        apiKey: null,\n        streamActivityMonitorId: null,\n        adTagParameters: null,\n        assetKey: null,\n        format: 'hls',\n        contentSourceId: null,\n        videoId: null\n    };\n\n    constructor(vodStrReq?: dai.VODStreamRequest) {\n        vodStrReq && Util.assign(this.req, vodStrReq);\n    }\n\n    set adTagParameters(val: AdTagParametersInterface) {\n        this.req.adTagParameters = val;\n    }\n\n    get adTagParameters(): AdTagParametersInterface {\n        return this.req.adTagParameters;\n    }\n\n    set videoId(val: string) {\n        this.req.videoId = val;\n    }\n\n    get videoId(): string {\n        return this.req.videoId;\n    }\n\n    set contentSourceId(val: string) {\n        this.req.contentSourceId = val;\n    }\n\n    get contentSourceId(): string {\n        return this.req.contentSourceId;\n    }\n\n    set apiKey(val: string) {\n        this.req.apiKey = val;\n    }\n\n    get apiKey(): string {\n        return this.req.apiKey;\n    }\n\n    set format(val: string) {\n        this.req.format = val;\n    }\n\n    get format(): string {\n        return this.req.format;\n    }\n\n    set assetKey(val: string) {\n        this.req.assetKey = val;\n    }\n\n    get assetKey(): string {\n        return this.req.assetKey;\n    }\n\n    set streamActivityMonitorId(val: string) {\n        this.req.streamActivityMonitorId = val;\n    }\n\n    get streamActivityMonitorId(): string {\n        return this.req.streamActivityMonitorId;\n    }\n}\n","import { StreamManager } from './StreamManager';\nimport { VODStreamRequest } from './VODStreamRequest';\nimport { StreamEvent } from './StreamEvent';\nimport { dai } from '../../dai';\n\nconst se = <unknown>StreamEvent;\nconst vr = <unknown>VODStreamRequest;\nconst sm = <unknown>StreamManager;\n\nexport const DaiProxyApi: dai.Sdk = {\n    StreamManager: <dai.StreamManagerConstructor>sm,\n    StreamEvent: <dai.StreamEventConstructor>se,\n    VODStreamRequest: <dai.VODStreamRequestConstructor>vr\n}","\n/**\n * For details on using ad settings, see [Ad Play: IMA & DAI](../../guides/ad_play)\n */\nexport enum AdContext {\n    /**\n     * Specifies CSAI using IMA\n     */\n    IMA = 'ima',\n    /**\n     * Specifies SSAI using DAI SDK\n     */\n    DAI_SDK = 'dai_sdk',\n\n    /**\n     * Specifies SSAI using custom SDK (typically for now web)\n     */\n    DAI_API = 'dai_api',\n\n    /**\n     * Specifies SSAI, non-SDK mediated (ad play not tracked client-side)\n     */\n    DAI_SSB = 'dai_ssb',\n\n    /**\n     * Specifies playback without ads\n     */\n    NONE = ''\n}\n","import { Util } from '../core/Util';\nimport { ProxyName } from '../enum/ProxyName';\nimport { TextTrackKind } from '../enum/TextTrackKind';\nimport { AudioTrackInterface } from '../iface/AudioTrackInterface';\nimport { AudioTracksInterface } from '../iface/AudioTracksInterface';\nimport { QualityInfoInterface } from '../iface/QualityInfoInterface';\nimport { QualityInterface } from '../iface/QualityInterface';\nimport { TextTrackInterface } from '../iface/TextTrackInterface';\nimport { TextTracksInterface } from '../iface/TextTracksInterface';\nimport { ThumbnailCueInterface } from '../iface/ThumbnailCueInterface';\nimport { Proxy } from '../mvc/Proxy';\nimport { Playback } from '../playback/enum/Playback';\nimport { ThumbnailTrackSurface } from '../playback/surface/ThumbnailTrackSurface';\nimport { ModelCollectionProxy } from './ModelCollectionProxy';\nimport { ContentPlaybackState } from './vo/ContentPlaybackState';\nimport { Utils } from '../util/Utils';\n\n\nexport class ContentPlaybackStateProxy extends Proxy {\n\n    contentPlaybackState!: ContentPlaybackState;\n    thumbnailTrack: ThumbnailTrackSurface;\n\n    private pTextTrack: TextTrack;\n    private pTextTracks: Record<string, TextTrack>;\n    private pUserQualityCategory: string | null = null;\n    \n    constructor(name: string, data?: any) {\n        super(name, data);\n    }\n\n    onRegister(): void {\n\n        super.onRegister();\n\n        const mcp = <ModelCollectionProxy>this.facade.retrieveProxy(ProxyName.ModelCollectionProxy);\n        this.contentPlaybackState = mcp.getModel(ContentPlaybackState.modelName);\n\n        this.contentPlaybackState.qualityInfo = <QualityInfoInterface>{\n            mode: Playback.ABR_SWITCHING_MODE_AUTO,\n            quality: null,\n            qualities: []\n        }\n\n        this.contentPlaybackState.textTracks = <TextTracksInterface>{\n            track: null,\n            tracks: []\n        }\n\n        this.contentPlaybackState.audioTracks = <AudioTracksInterface>{\n            track: null,\n            tracks: []\n        }\n\n        this.pTextTracks = {};\n    }\n\n    onRemove(): void {\n        this.contentPlaybackState = null;\n        this.pTextTracks = null;\n        this.thumbnailTrack = null;\n        super.onRemove();\n    }\n\n    processQualityProfile(qualities: QualityInterface[]): void {\n        this.tagQualities(qualities);\n        this.contentPlaybackState.qualityInfo.qualities = qualities;\n    }\n\n    updateQualityProfile(minIndex: number, maxIndex: number, arr: QualityInterface[]): void {\n        // based on capping we will recompile the capped bitrate profile each time min or max changes, user or capped player size based. \n        const profile = arr.slice(minIndex, maxIndex + 1);\n        this.processQualityProfile(profile);\n    }\n\n    updateAudioTracks(track: AudioTrackInterface, tracks?: AudioTrackInterface[]) {\n        const info = this.contentPlaybackState.audioTracks;\n        info.track = track;\n\n        if (tracks) {\n            info.tracks = tracks;\n        }\n    }\n\n    addTextTrack(track: TextTrack) {\n        //@ts-ignore Typescript's TextTrack definition is missing the id property\n        const id = track.id ? track.id.toString() : Util.uid8();\n        const tt = Object.freeze({\n            id,\n            language: track.language,\n            kind: track.kind as TextTrackKind,\n            label: track.label\n        });\n        this.pTextTracks[id] = track;\n        this.contentPlaybackState.textTracks.tracks.push(tt);\n    }\n\n    getTextTrackId(track: TextTrack): string {\n        const id = Util.entries(this.pTextTracks)\n            .filter(entry => entry[1] == track)\n            .map(entry => entry[0]);\n\n        return id[0];\n    }\n\n    getTextTrackById(id: string): TextTrack {\n        return this.pTextTracks[id];\n    }\n\n    tagQualities(qia: QualityInterface[]): void {\n        qia.forEach( q => {\n            if (!q.category) {\n                q.category = [`${String(Utils.getQualityCategoryForVideoHeight(q.height))}`, `${q.height}p`];\n            }\n        });\n    }\n    \n    getThumbnail(time: number): ThumbnailCueInterface {\n        return this.thumbnailTrack?.getCueAt(time);\n    }\n\n    set nativeTextTrack(track: TextTrack) {\n        this.pTextTrack = track;\n\n        const id = this.getTextTrackId(track);\n        const tt = Util.find(this.contentPlaybackState.textTracks.tracks, (item) => item.id == id);\n        this.contentPlaybackState.textTracks.track = tt;\n    }\n\n    get nativeTextTrack(): TextTrack {\n        return this.pTextTrack;\n    }\n\n    get textTrackInfo(): TextTracksInterface {\n        return this.contentPlaybackState.textTracks;\n    }\n\n    get textTrack(): TextTrackInterface {\n        return this.contentPlaybackState.textTracks.track;\n    }\n\n    get isAbrSwitchingAvailable(): boolean {\n        return this.manifestQualities ? this.manifestQualities.length > 1 : false;\n    }\n\n    set userQualityCategory(q: string) {\n        this.pUserQualityCategory = q;\n    }\n    get userQualityCategory() {\n        return this.pUserQualityCategory;\n    }\n\n    set qualitySwitchingMode(mode: string) {\n        this.contentPlaybackState.qualityInfo.mode = mode;\n    }\n    get qualitySwitchingMode(): string {\n        return this.contentPlaybackState.qualityInfo.mode;\n    }\n\n    set manifestQualities(value: QualityInterface[]) {\n        this.contentPlaybackState.manifestQualities = value;\n    }\n    get manifestQualities(): QualityInterface[] {\n        return this.contentPlaybackState.manifestQualities;\n    }\n\n    set maxBandwidth(value: number) {\n        this.contentPlaybackState.maxBandwidth = isNaN(this.contentPlaybackState.maxBandwidth)\n            ? value : Math.max(value, this.contentPlaybackState.maxBandwidth);\n    }\n\n    get model(): ContentPlaybackState {\n        return this.contentPlaybackState;\n    }\n\n    get minIndex(): number {\n        return 0;\n    }\n\n    get maxIndex(): number {\n        const qualities = this.contentPlaybackState.qualityInfo.qualities;\n        return (qualities) ? this.contentPlaybackState.qualityInfo.qualities.length - 1 : 0;\n    }\n\n    get minBitrate(): number {\n        return this.contentPlaybackState.qualityInfo.qualities[this.minIndex].bitrate;\n    }\n\n    get maxBitrate(): number {\n        return this.contentPlaybackState.qualityInfo.qualities[this.maxIndex].bitrate;\n    }\n\n    get qualityInfo(): QualityInfoInterface {\n        return this.contentPlaybackState.qualityInfo;\n    }\n\n    set quality(value: QualityInterface) {\n        this.contentPlaybackState.qualityInfo.quality = value;\n    }\n}\n","import { AdViewabilityTrackingEventInterface, MoatInfoInterface, MoatTrackerInterface } from '../iface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\n\n\ninterface ImaMoatEvent {\n    start: string;\n    firstquartile: string;\n    midpoint: string;\n    thirdquartile: string;\n    complete: string;\n    pause: string;\n    resume: string;\n    skip: string;\n    volumechange: string;\n    mute: string;\n}\n\ninterface DaiMoatEvent {\n    started: string;\n    firstquartile: string;\n    midpoint: string;\n    thirdquartile: string;\n    complete: string;\n    controlpause: string;\n    controlplay: string;\n    controlvolumeset: string;\n    controlmute: string;\n    controlunmute: string;\n}\n\ninterface MoatEventMap extends StrAnyDict {\n    ima: ImaMoatEvent;\n    dai_sdk: DaiMoatEvent;\n}\n\ninterface MoatParamsInterface {\n    level1: string;\n    level2: string;\n    level3: string;  // derived from getWrapperAdIds() || getAdId()\n    level4: string;  // derived from getWrapperCreativeIds() || getCreativeId()\n    slicer1: string;\n    slicer2: string;\n    slicer3: string;\n    moatVASTSystem: string;\n    moatVASTAdID: string;\n    zMoatVGUID?: string;\n    zMoatPT?: string;\n}\n\ninterface MoatEventData {\n    type: string;\n    adVolume: number;\n}\n\ninterface MoatTrackingObj {\n    dispatchEvent(d: MoatEventData): void;\n    adData: StrAnyDict;\n}\n\nexport class MoatTracker implements MoatTrackerInterface {\n\n    private MOAT_PARTNER_CODE: string = 'cbsiimajsint708425247896';\n\n    private trackingObj!: MoatTrackingObj;\n\n    // values are vpaid events\n    private adContextToVpaidEventMap: MoatEventMap = {\n        ima: {\n            start: 'AdVideoStart',\n            firstquartile: 'AdVideoFirstQuartile',\n            midpoint: 'AdVideoMidpoint',\n            thirdquartile: 'AdVideoThirdQuartile',\n            complete: 'AdVideoComplete',\n            pause: 'AdPaused',\n            resume: 'AdPlaying',\n            skip: 'AdSkipped',\n            volumechange: 'AdVolumeChange',\n            mute: 'AdVolumeChange'\n        },\n        dai_sdk: {\n            started: 'AdVideoStart',\n            firstquartile: 'AdVideoFirstQuartile',\n            midpoint: 'AdVideoMidpoint',\n            thirdquartile: 'AdVideoThirdQuartile',\n            complete: 'AdVideoComplete',\n            controlpause: 'AdPaused',\n            controlplay: 'AdPlaying',\n            controlvolumeset: 'AdVolumeChange',\n            controlmute: 'AdVolumeChange',\n            controlunmute: 'AdVolumeChange'\n        }\n    };\n\n    constructor() { }\n\n    destroy(): void {\n        this.adContextToVpaidEventMap = null;\n        this.trackingObj = null;\n    }\n\n    track(info: MoatInfoInterface): void {\n        const context = info.context,\n            adData = info.adInfo;\n\n        const ids: MoatParamsInterface = {\n            level1: '',\n            level2: '',\n            level3: adData.wrapperAdId,\n            level4: adData.wrapperCreativeId,\n            slicer1: 'vaw-can',\n            slicer2: info.partner,\n            slicer3: info.pageType,\n            moatVASTSystem: context,\n            moatVASTAdID: adData.wrapperAdId,\n        };\n\n        info.viewGuid !== '' && (ids.zMoatVGUID = info.viewGuid);\n        info.pageType !== '' && (ids.zMoatPT = info.pageType);\n\n        this.initMoat(\n            info.adVideoContainer,\n            ids,\n            adData.adDuration,\n            this.MOAT_PARTNER_CODE,\n            null\n        );\n    }\n\n    untrack(): void {\n        this.trackingObj = null;\n    }\n\n    trackEvent(data: AdViewabilityTrackingEventInterface): void {\n        const vpEvt: string = this.adContextToVpaidEventMap[data.context][data.eventName.toLowerCase()];\n\n        if (!vpEvt || !this.trackingObj) {\n            return;\n        }\n\n        this.trackingObj.dispatchEvent({\n            type: vpEvt,\n            adVolume: data.volume\n        });\n    }\n\n    /**\n     * Code supplied by Moat, slightly massaged for typescript\n     * c ad container\n     * d ids (includes partner code, etc)\n     * e duration of ad\n     * k partner code\n     * l url to the video asset used to display the ad\n    */\n    private initMoat(c: HTMLElement, d: StrAnyDict, e: number, k: string, l: string = null): void {\n        const g = document.createElement('script');\n        let a: any = [];\n        let f, h, sfx;\n\n        const q: MoatTrackingObj = {\n            adData: { ids: d, duration: e, url: l },\n            dispatchEvent: function (b: MoatEventData) {\n                this.sendEvent ? (a && (a.push(b), b = a, a = !1), this.sendEvent(b)) : a.push(b);\n            }\n        };\n        sfx = '_moatApi' + Math.floor(1E8 * Math.random());\n\n        try {\n            f = c.ownerDocument;\n            h = f.defaultView || (<any>f).parentWindow;\n        }\n        catch (b) {\n            h = window;\n        }\n\n        h[sfx] = q;\n        g.type = 'text/javascript';\n        c && c.insertBefore(g, c.childNodes[0] || null);\n        g.src = 'https://z.moatads.com/' + k + '/moatvideo.js#' + sfx;\n\n        this.trackingObj = q;\n    }\n\n}\n","import { MoatTracker } from '../ad/MoatTracker';\nimport { dai } from '../dai';\nimport { AdBreakType } from '../enum/AdBreakType';\nimport { AdContext } from '../enum/AdContext';\nimport { ServiceName } from '../enum/ServiceName';\nimport { AdViewabilityTrackingEventInterface, ImaAdIdInfoInterface, ImaAdInfoInterface, SystemServiceInterface } from '../iface';\nimport { AdBreakInfoInterface } from '../iface/AdBreakInfoInterface';\nimport { ResourceAdViewabilityTrackingInterface } from '../iface/ResourceAdViewabilityTrackingInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { StrStrDict } from '../iface/StrStrDict';\nimport { ima } from '../ima';\nimport { ServiceBase } from './ServiceBase';\n\n\nexport class GamAdService extends ServiceBase {\n\n    protected adContainer: HTMLElement;\n    protected adContext: AdContext;\n    private moatTracker: MoatTracker;\n    private trackingData: ResourceAdViewabilityTrackingInterface;\n\n\n    constructor(name: string, adContext: AdContext) {\n        super(name);\n        this.adContext = adContext;\n    }\n\n    destroy(): void {\n        this.moatTracker && this.moatTracker.destroy();\n        this.moatTracker = null;\n        this.adContainer = null;\n        this.trackingData = null;\n        super.destroy();\n    }\n\n    getGamPlatformString(): string {\n        const sys = <SystemServiceInterface>this.getService(ServiceName.System);\n        // TODO - are there/will there be other valid platform values?\n        return sys.isDesktop ? 'desktop' : 'mobile_web';\n    }\n\n    setTrackingData(obj: ResourceAdViewabilityTrackingInterface /* = partner, ptype, vguid */): void {\n        this.trackingData = obj;\n    }\n\n    getAdContext(): AdContext {\n        return this.adContext;\n    }\n\n    setContainer(el: HTMLElement): void {\n        this.adContainer = el;\n    }\n\n    getAdBreakTypeFromPodIndex(idx: number): AdBreakType {\n        return idx === 0 ? AdBreakType.PRE : idx === -1 ? AdBreakType.POST : AdBreakType.MID;\n    }\n\n    // Ad Break (pod)\n    assembleAdBreakInfo(ad: ima.Ad | dai.Ad): AdBreakInfoInterface {\n        const pi: ima.AdPodInfo = ad.getAdPodInfo(),\n            idx = pi.getPodIndex();\n\n        return {\n            adBreakDuration: pi.getMaxDuration(),\n            adBreakPosition: idx,\n            adTotal: pi.getTotalAds(),\n            adBreakType: this.getAdBreakTypeFromPodIndex(idx),\n            adServerName: this.adContext\n        };\n    }\n\n    assembleAdInfo(ad: ima.Ad | dai.Ad, adData?: StrAnyDict): ImaAdInfoInterface {\n        const podInfo = ad.getAdPodInfo(),\n            adPos = (podInfo && podInfo.getAdPosition()) || -1,\n            idInfo: ImaAdIdInfoInterface = this.getIdInfo(ad),\n            isIma = this.adContext === AdContext.IMA;\n\n        return {\n            adServerName: this.adContext,\n            adDuration: ad.getDuration(),\n            adTitle: ad.getTitle(),\n            adId: idInfo.adId,\n            adPosition: adPos,\n            adAssetUrl: isIma ? (<ima.Ad>ad).getMediaUrl() : (adData.mediaUrl || null),\n            isVpaid: isIma ? this.getIsVpaid(<ima.Ad>ad) : null,\n            wrapperAdId: idInfo.wrapperAdId,\n            creativeId: idInfo.creativeId,\n            wrapperCreativeId: idInfo.wrapperCreativeId,\n            vastMediaHeight: isIma ? (<ima.Ad>ad).getVastMediaHeight() : null,\n            vastMediaWidth: isIma ? (<ima.Ad>ad).getVastMediaWidth() : null,\n            vastMediaBitrate: isIma ? (<ima.Ad>ad).getVastMediaBitrate() : null\n        };\n    }\n\n    // Moat tracking\n    trackAd(adInfo: ImaAdInfoInterface): void {\n        const td = this.trackingData;\n        this.moatTracker.track({\n            viewGuid: td.vguid,\n            pageType: td.ptype,\n            adInfo: adInfo,\n            adVideoContainer: this.adContainer,\n            context: this.adContext,\n            partner: td.partner\n        })\n    }\n\n    trackAdEvent(obj: AdViewabilityTrackingEventInterface): void {\n        this.moatTracker.trackEvent(obj);\n    }\n\n    untrackAd(): void {\n        this.moatTracker.untrack();\n    }\n\n    protected createViewabilityTracker(): void {\n        this.moatTracker = new MoatTracker();\n    }\n\n    ////////////\n    // PRIVATE\n    ////////////\n    private getIdInfo(ad: ima.Ad | dai.Ad): ImaAdIdInfoInterface {\n        const w = this.getWrapperId(ad),\n            c = this.getCreativeId(ad);\n\n        return {\n            adId: w.adId,\n            wrapperAdId: w.wrapperAdId,\n            creativeId: c.creativeId,\n            wrapperCreativeId: c.wrapperCreativeId,\n            adServerName: AdContext.IMA,\n            adDuration: ad.getDuration()\n        };\n    }\n\n    private getWrapperId(ad: ima.Ad | dai.Ad): StrStrDict {\n        const ids = ad.getWrapperAdIds(),\n            len = Array.isArray(ids) && ids.length,\n            defId = ad.getAdId() || '';\n\n        return {\n            adId: (len && len > 1) ? ids[0] : defId,\n            wrapperAdId: (len && len > 1) ? ids[1] : ''\n        }\n    }\n\n    private getCreativeId(ad: ima.Ad | dai.Ad): StrStrDict {\n        const ids = ad.getWrapperCreativeIds(),\n            len = Array.isArray(ids) && ids.length,\n            defId = ad.getCreativeId() || null;\n\n        return {\n            creativeId: (len && len > 1) ? ids[0] : defId,\n            wrapperCreativeId: (len && len > 1) ? ids[1] : null\n        }\n    }\n\n    private getIsVpaid(ad: ima.Ad): boolean {\n        return ad.getContentType() === 'application/javascript';\n    }\n}\n","import { dai } from '../dai';\nimport { AdContext } from '../enum/AdContext';\nimport { ServiceName } from '../enum/ServiceName';\nimport { DaiAdServiceInterface, SimpleVideoInterface, SystemServiceInterface, ImaAdInfoInterface } from '../iface';\nimport { GamAdService } from './GamAdService';\n\n\n\nexport class DaiAdService extends GamAdService implements DaiAdServiceInterface {\n\n    private streamMgr: dai.StreamManager;\n    private pSdk: dai.Sdk | null = null;\n    private usesApi: boolean = false;\n    private videoIface: SimpleVideoInterface = null;\n\n    constructor(name: string, sdk?: dai.Sdk) {\n        super(name, sdk ? AdContext.DAI_API : AdContext.DAI_SDK);\n        if (sdk) {\n            this.pSdk = sdk;\n            this.usesApi = true;\n        }\n    }\n\n    destroy(): void {\n        this.streamMgr && this.streamMgr.reset();\n        this.streamMgr = null;\n        this.pSdk = null;\n        this.videoIface = null;\n\n        super.destroy();\n    }\n\n    initViewabilityTracking(): void {\n        this.createViewabilityTracker();\n    }\n\n    get videoInterface(): SimpleVideoInterface {\n        return this.videoIface;\n    }\n\n    get usesDaiApi(): boolean {\n        return this.usesApi;\n    }\n\n    get sdk(): dai.Sdk | null {\n\n        if (!this.pSdk) {\n            const sysSvc = <SystemServiceInterface>this.getService(ServiceName.System),\n                global = sysSvc.global;\n\n            if (\n                global &&\n                global.google &&\n                global.google.ima &&\n                global.google.ima.dai\n            ) {\n                this.pSdk = global.google.ima.dai.api;\n            }\n        }\n\n        return this.pSdk;\n    }\n\n    setVideoInterface(obj: SimpleVideoInterface): void {\n        this.videoIface = obj;\n    }\n\n    setVolume(v: number): void {\n        this.usesApi && (this.videoIface.volume = v);\n    }\n\n    setMuted(flag: boolean): void {\n        this.usesApi && (this.videoIface.muted = flag);\n    }\n\n    setDuration(d: number): void {\n        this.usesApi && (this.videoIface.duration = d);\n    }\n\n    setCurrentTime(t: number): void {\n        this.usesApi && (this.videoIface.currentTime = t);\n    }\n\n    reset() {\n        this.streamMgr.reset();\n        if (this.usesApi) {\n            this.videoIface.duration = NaN;\n            this.videoIface.currentTime = NaN\n        }\n    }\n\n    assembleAdInfo(ad: dai.Ad, adData?: Record<string, any>): ImaAdInfoInterface {\n        if (this.adContext === AdContext.DAI_SDK) {\n            return super.assembleAdInfo(ad, adData);\n        }\n\n        const podInfo = ad.getAdPodInfo();\n        const adPos = (podInfo && podInfo.getAdPosition()) || -1;\n        const { adId, creativeId } = ad.getDaiWrapperData();\n\n        return {\n            adServerName: this.adContext,\n            adDuration: ad.getDuration(),\n            adTitle: ad.getTitle(),\n            adId: adId,\n            adPosition: adPos,\n            adAssetUrl: adData.mediaUrl || null,\n            isVpaid: false,\n            wrapperAdId: adId,\n            creativeId: creativeId,\n            wrapperCreativeId: creativeId,\n            vastMediaHeight: null,\n            vastMediaWidth:  null,\n            vastMediaBitrate: null\n        };\n    }\n\n    getStreamManager(): dai.StreamManager {\n        if (!this.streamMgr && this.sdk) {\n            if (this.usesApi) {\n                this.streamMgr = new this.sdk.StreamManager(this.videoIface, this.adContainer, this.getLogger());\n            }\n            else {\n                this.streamMgr = new this.sdk.StreamManager(this.videoIface, this.adContainer);\n            }\n        }\n\n        return this.streamMgr;\n    }\n}\n","import { Emitter } from '../core/Emitter';\nimport { ImaAdErrorInfoInterface, ImaAdServiceInterface, ImaAdsLoaderEventInterface, ImaAdsLoaderInterface, ImaAdsLoaderOptions, ImaSdkSettingsInterface } from '../iface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { ima } from '../ima';\n\n\nexport class ImaAdsLoader extends Emitter implements ImaAdsLoaderInterface {\n\n    static event: ImaAdsLoaderEventInterface = {\n        ADS_MANAGER_LOADED: 'adsManagerLoaded',\n        ADS_LOADER_ERROR: 'adsLoaderError'\n    }\n\n    private eMap: Record<string, (e: any) => void> = {\n        errorHandler: null,\n        adsMgrLoadedHandler: null\n    };\n\n    private adsLoader!: ima.AdsLoader;\n    private adService: ImaAdServiceInterface;\n    private sdk: ima.Sdk;\n    private initialized: boolean = false;\n\n    constructor(options: ImaAdsLoaderOptions) {\n        super(options);\n\n        this.adService = this.opts.adService;\n        this.sdk = this.adService.sdk;\n\n        this.eMap.errorHandler = (e: ima.AdErrorEvent) => this.hError(e);\n        this.eMap.adsMgrLoadedHandler = (e: ima.AdsManagerLoadedEvent) => this.hAdsMgrLoaded(e);\n    }\n\n    destroy(): void {\n\n        if (this.adsLoader) {\n            this.adsLoader.removeEventListener(\n                this.sdk.AdErrorEvent.Type.AD_ERROR,\n                this.eMap.errorHandler\n            );\n\n            this.adsLoader.removeEventListener(\n                this.sdk.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,\n                this.eMap.adsMgrLoadedHandler\n            );\n        }\n\n        this.adsLoader.destroy();\n        this.adsLoader = null;\n        this.adService = null;\n        this.sdk = null;\n\n        super.destroy();\n    }\n\n    /**\n     * Initialize may only be called if playback is permitted, i.e,\n     * if autoplay is enabled or a valid user gesture has occurred.\n     * Returns false if the SDK has become undefined.\n     */\n    initialize(): boolean {\n        const o = <ImaAdsLoaderOptions>this.opts,\n            sdk = this.sdk;\n\n        if (!sdk || !sdk.AdsLoader) {\n            return false;\n        }\n\n        if (this.initialized) {\n            return true;\n        }\n\n        const adc: ima.AdDisplayContainer = new sdk.AdDisplayContainer(\n            o.adContainer,\n            o.video,\n            o.adClickEl\n        );\n        adc.initialize();\n\n        this.adsLoader = new sdk.AdsLoader(adc);\n\n        const imaSettings: ima.ImaSdkSettings = this.adsLoader.getSettings();\n        this.populateSdkSettings(imaSettings);\n\n        this.adsLoader.addEventListener(\n            sdk.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,\n            this.eMap.adsMgrLoadedHandler\n        );\n\n        this.adsLoader.addEventListener(sdk.AdErrorEvent.Type.AD_ERROR, this.eMap.errorHandler);\n\n        this.initialized = true;\n\n        return true;\n    }\n\n    requestAds(adsRequest: ima.AdsRequest, userRequestContext?: StrAnyDict) {\n        this.adsLoader && this.adsLoader.requestAds(adsRequest);\n    }\n\n    contentComplete(): void {\n        this.adsLoader && this.adsLoader.contentComplete();\n    }\n\n    getSettings() {\n        return this.adsLoader ? this.adsLoader.getSettings() : null;\n    }\n\n    private hAdsMgrLoaded(e: ima.AdsManagerLoadedEvent): void {\n        this.emit(ImaAdsLoader.event.ADS_MANAGER_LOADED, e);\n    }\n\n    private hError(e: ima.AdErrorEvent): void {\n        const adErrorInfo: ImaAdErrorInfoInterface = this.parseAdErrorEvent(e);\n\n        this.emit(ImaAdsLoader.event.ADS_LOADER_ERROR, adErrorInfo)\n    }\n\n    private parseAdErrorEvent(e: ima.AdErrorEvent): ImaAdErrorInfoInterface {\n        return this.adService.parseAdError(e);\n    }\n\n    private populateSdkSettings(settings: ima.ImaSdkSettings): void {\n        const cbsImaSettings: ImaSdkSettingsInterface = this.opts.sdkSettings,\n            vpaidMode = this.sdk.ImaSdkSettings.VpaidMode[cbsImaSettings.vpaidMode];\n\n        settings.setVpaidMode(vpaidMode);\n        settings.setDisableCustomPlaybackForIOS10Plus(cbsImaSettings.disableCustomPlaybackForIOS10Plus);\n        settings.setPlayerType(cbsImaSettings.playerType);\n        settings.setPlayerVersion(cbsImaSettings.playerVersion);\n    }\n}\n","export enum ImaVpaidMode {\n    DISABLED = 'DISABLED', // VPAID ads will not play; an error will be returned.\n    ENABLED = 'ENABLED',   // Default; Enabled using x-domain iframe. VPAID ads cannot access the site.\n    INSECURE = 'INSECURE'  // Enabled using friendly iframe. Enables VPAID site access via JavaScript.\n}\n\n","import { ImaAdsLoader } from '../ad/ImaAdsLoader';\nimport { Util } from '../core/Util';\nimport { AdContext } from '../enum/AdContext';\nimport { ImaVpaidMode } from '../enum/ImaVpaidMode';\nimport { ServiceName } from '../enum/ServiceName';\nimport { BuildInfoServiceInterface, ImaAdErrorInfoInterface, ImaAdServiceInterface, ImaAdsLoaderInterface, ImaAdsLoaderOptions, ImaAdsRenderingSettingsInterface, ImaSdkSettingsInterface, SystemServiceInterface } from '../iface';\nimport { BuildInfoInterface } from '../iface/BuildInfoInterface';\nimport { ima } from '../ima';\nimport { GamAdService } from './GamAdService';\n\n\nexport class ImaAdService extends GamAdService implements ImaAdServiceInterface {\n\n    private pAdsLoader: ImaAdsLoaderInterface;\n    private pAdsLoaderOptions: ImaAdsLoaderOptions;\n\n    constructor(name: string) {\n        super(name, AdContext.IMA);\n    }\n\n    destroy() {\n        this.pAdsLoader && this.pAdsLoader.destroy();\n        this.pAdsLoader = null;\n        this.pAdsLoaderOptions = null;\n\n        super.destroy();\n    }\n\n    get sdk(): ima.Sdk | null {\n        const sysSvc = <SystemServiceInterface>this.getService(ServiceName.System),\n            global = sysSvc.global;\n\n        return (global && global.google && global.google.ima) || null;\n    }\n\n    get sdkSettings(): ImaSdkSettingsInterface {\n        const biSvc = <BuildInfoServiceInterface>(this.getService(ServiceName.BuildInfo)),\n            bi: BuildInfoInterface = biSvc;\n\n        return {\n            vpaidMode: ImaVpaidMode.INSECURE,\n            disableCustomPlaybackForIOS10Plus: false,\n            playerType: bi.playerName,\n            playerVersion: bi.playerVersion\n        };\n    }\n\n    get defaultRenderingSettings(): ImaAdsRenderingSettingsInterface {\n        return {\n            bitrate: 900,\n            enablePreloading: false,\n            loadVideoTimeout: -1,     // ms, default 8000 ms\n            playAdsAfterTime: undefined,\n            restoreCustomPlaybackStateOnAdBreakComplete: false\n        };\n    }\n\n    set adsLoaderOptions(options: ImaAdsLoaderOptions) {\n        this.pAdsLoaderOptions = options;\n    }\n\n    get adsLoader(): ImaAdsLoaderInterface {\n        return this.pAdsLoader;\n    }\n\n    createAdsLoader(): void {\n        if (!this.pAdsLoader) {\n            this.pAdsLoader = new ImaAdsLoader(this.pAdsLoaderOptions);\n        }\n    }\n\n    initializeAdsLoader(): boolean {\n        this.createViewabilityTracker();\n        return this.pAdsLoader.initialize();\n    }\n\n    // Error\n    parseAdError(e: ima.AdErrorEvent): ImaAdErrorInfoInterface {\n        const err = e.getError(),\n            reqCtx = e.getUserRequestContext(),\n            inner = err.getInnerError();\n\n        return {\n            type: this.getAdErrorType(err),\n            errorCode: err.getErrorCode(),\n            vastErrorCode: err.getVastErrorCode(),\n            message: err.getMessage(),\n            innerErrorMessage: Util.isString(inner) ? inner : null,\n            sdkVersion: this.sdk.VERSION,\n            requestContext: reqCtx || null\n        }\n    }\n\n    //////////\n    // PRIVATE\n    private getAdErrorType(err: ima.AdError): string {\n        const t = err.getType();\n        return t == this.sdk.AdError.Type.AD_LOAD ? 'adLoad' : 'adPlay';\n    }\n}\n","export enum ExtLibEndpoint {\n    DASHJS_GZIP_CDN = '//vidtech.cbsinteractive.com/cvp/lib/dashjs/{{VERSION}}/dash.all.min.js',\n    HLSJS_GZIP_CDN = '//cdnjs.cloudflare.com/ajax/libs/hls.js/{{VERSION}}/hls.min.js',\n    SHAKA_GZIP_CDN = '//vidtech.cbsinteractive.com/cvp/lib/shaka/{{VERSION}}/shaka-player.compiled{{DEBUG}}.js',\n    TWITCH_GZIP_CDN = '//player.live-video.net/{{VERSION}}/mediaplayer.min.js',\n}\n","export enum PlaybackAdapterType {\n    HLSJS =  'hlsjs',\n    DASHJS =  'dashjs',\n    SHAKA =  'shaka',\n    HTML5 =  'html5',\n    PLAY_STATION =  'playStation',\n    TWITCH_LOW_LATENCY =  'twitchLowLatency',\n    UNKNOWN =  'unknown',\n}\n","export enum StreamingLibraryVersion {\n    DASHJS = '2.9.3-cvp.0.9.3',\n    HLSJS = '0.14.8',\n    SHAKA = '2.5.14',\n    TWITCH = '1.0.0-beta'\n}\n","export enum TextTrackSurfaceEvents  {\n    METADATA_CUEPOINT = 'metadataCuepoint',\n    TEXT_CUEPOINT = 'textCuepoint',\n    TEXT_TRACK_DISPLAY_MODE_CHANGE = 'textTrackModeChange',\n    TEXT_TRACK_ADDED = 'textTrackAdded',\n    TEXT_TRACK_CHANGE = 'textTrackChange',\n    TEXT_TRACK_AVAILABLE = 'textTrackAvailable'\n}","export enum VideoSurfaceEvents {\n    ABORT= 'abort', \n    CAN_PLAY = 'canplay',\n    CAN_PLAY_THROUGH = 'canplaythrough',\n    DURATION_CHANGE = 'durationchange',\n    ENDED = 'ended',\n    ERROR = 'error',    \n    LOADED_METADATA = 'loadedmetadata',\n    LOAD_START = 'loadstart',\n    PAUSE = 'pause',\n    PLAY = 'play',\n    PLAYING = 'playing',\n    PROGRESS = 'progress',\n    RATE_CHANGE = 'ratechange',\n    SEEKED = 'seeked',\n    SEEKING = 'seeking',\n    STALLED = 'stalled',\n    TIME_UPDATE = 'timeupdate',\n    WEBKIT_NEED_KEY = 'webkitneedkey',\n    VOLUME_CHANGE = 'volumechange',\n}","export enum TextTrackEvents {\n    CUE_CHANGE = 'cuechange',\n    ADD_TRACK = 'addtrack',\n    CHANGE = 'change'\n}\n","export enum TextTrackType {\n    SUBTITLES = 'subtitles', \n    CAPTIONS = 'captions', \n    METADATA = 'metadata', \n    DESCRIPTIONS = 'descriptions', \n    CHAPTERS = 'chapters' \n}","import { Util } from '../../core/Util';\nimport { AsyncDataRequest } from '../../dataservice/AsyncDataRequest';\nimport { AsyncDataRequestOptions } from '../../dataservice/AsyncDataRequestOptions';\nimport { Browser } from '../../enum/Browser';\nimport { XhrResponseType } from '../../enum/XhrResponseType';\nimport { SystemServiceInterface } from '../../iface';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\n\n\nexport class SmpteToVttCueConverter {\n\n    private url: string;\n    private system: SystemServiceInterface;\n    private isVTTCueSupported: boolean;\n\n    constructor(url: string, system: SystemServiceInterface) {\n        this.url = url;\n        this.system = system;\n        this.isVTTCueSupported = this.system.global.VTTCue !== undefined;\n    }\n\n    convert(): Promise<Array<VTTCue>> {\n\n        return new Promise<Array<VTTCue>>((resolve, reject) => {\n\n            this.loadXml(this.url).then(result => {\n\n                const json = Util.xmlToJson(result),\n                    smpteCues: [] = json.tt.body.div.p;\n\n                if (smpteCues && smpteCues.length > 0) {\n                    const vttCues = this.convertToVTTCues(smpteCues);\n                    return resolve(vttCues);\n                }\n                return reject(null);\n\n            }).catch((err: any) => {\n                //log\n                return reject(null);\n            })\n        });\n    }\n\n    private loadXml(url: string): Promise<XMLDocument> {\n\n        return new Promise<XMLDocument>((resolve, reject) => {\n            new AsyncDataRequest(AsyncDataRequestOptions.create({\n                url: url,\n                method: 'GET',\n                responseType: XhrResponseType.DOCUMENT,\n                onComplete: (e: EventInterface) => {\n                    if (e.data.error) {\n                        return reject(null);\n                    }\n\n                    return resolve(e.data.response);\n                },\n                errorRecovery: {}\n            }));\n        });\n    }\n\n    //UVPJS Ported code.\n    private convertToVTTCues(cues: Array<StrAnyDict>): Array<VTTCue> {\n\n        let list = [];\n\n        for (let i = 0, len = cues.length; i < len; i++) {\n\n            const item = cues[i];\n\n            let text = item.text;\n            if (Util.isEmpty(text)) {\n                continue;\n            }\n\n            //Convert old <span> tags. \n            //OPTIMIZE?\n            text = text.replace(/(.*)<span.*tts:fontStyle=\"italic\">(.*)<\\/span>(.*)/g, '$1<i>$2</i>$3');\n            text = text.replace(/(.*)<span.*tts:fontWeight=\"bold\">(.*)<\\/span>(.*)/g, '$1<b>$2</b>$3');\n            text = text.replace(/(.*)<span.*tts:textDecoration=\"under\">(.*)<\\/span>(.*)/g, '$1<u>$2</u>$3');\n\n            // // Count lines for positioning.\n            const lc = Util.getNumLines(text);\n            item._lineCountPrev = item._lineCountPrev || 0;\n            item._lineCountNext = item._lineCountNext || 0;\n\n            let n = i + 1;\n            let nextItem = cues[n];\n            // // Determine number of lines for each start time.\n            while ((nextItem && nextItem.begin) === item.begin) {\n                nextItem._lineCountPrev = lc + item._lineCountNext;\n                item._lineCountNext += Util.getNumLines(nextItem.text);\n                nextItem = cues[++n];\n            }\n\n            const Cue = this.isVTTCueSupported ? this.system.global.VTTCue : this.system.global.TextTrackCue;\n            let newCue = new Cue(Util.hmsToSec(item.begin), Util.hmsToSec(item.end), text);\n\n            //Can only add position data to VTTCue, Edge only supports TextTrackCue\n            if (this.isVTTCueSupported) {\n                newCue = this.metadataToPosition(item, newCue);\n            }\n            list.push(newCue);\n        }\n\n        return list;\n    }\n\n    private metadataToPosition(item: StrAnyDict, cue: VTTCue): VTTCue {\n\n        const metadata = item.metadata;\n        // TODO: This should be normalized with _setPosition?? FROM OLD PLAYER TODO\n        if (metadata) {\n            cue.snapToLines = true; // Ensures lines don't overlap.\n\n            // NOTE: `cccol` has a max of 35.\n            const xpos = Math.round(metadata.cccol / 35 * 100);\n            cue.position = xpos;\n\n            //VTG-1399: Safari v12.1 does not accept 'middle' - must be 'center; but previous version need middle.\n            try {\n                //@ts-ignore - middle is not an AlignSetting, but old safari does not conform with center!! \n                cue.align = xpos < 45 ? 'start' : xpos > 55 ? 'end' : this.getAlignString();\n            } catch (e) {\n                cue.align = 'center';\n            }\n\n            cue.positionAlign = xpos < 45 ? 'line-left' : xpos > 55 ? 'line-right' : 'center';\n\n            // NOTE: `ccrow` has a max of 15. Subtract 2 lines to bring text\n            //       above control bar. Negative numbers indicate bottom\n            //       up, where -1 is absolute bottom.\n            cue.line = metadata.ccrow - 17 + this.getLineOffset();\n        }\n\n        return cue;\n    }\n\n    private getAlignString(): string {\n        return this.system.browser === Browser.SAFARI ? 'middle' : 'center';\n    }\n\n    private getLineOffset(): number {\n        return this.system.browser === Browser.SAFARI ? -1 : 0;\n    }\n}\n","import { Emitter } from '../../core/Emitter';\nimport { Util } from '../../core/Util';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { MetadataCuepoint, SystemServiceInterface } from '../../iface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { TextTrackEvents } from '../enum/TextTrackEvents';\nimport { TextTrackMode } from '../enum/TextTrackMode';\nimport { TextTrackSurfaceEvents } from '../enum/TextTrackSurfaceEvents';\nimport { TextTrackType } from '../enum/TextTrackType';\nimport { SmpteToVttCueConverter } from '../util/SmpteToVttCueConverter';\n\n\nexport class TextTrackSurface extends Emitter {\n\n    private logger: LoggerInterface;\n    private video: HTMLVideoElement;\n    private system: SystemServiceInterface;\n    private config: PlaybackAdapterConfigInterface;\n\n    private pTextTracks: TextTrackList = null;\n    private currentTextTrack: TextTrack = null;\n    private currentTextTrackMode: TextTrackMode = TextTrackMode.DISABLED;\n    private allowTextTrackCueDispatch: boolean = true;\n    private existingTrack: Array<TextTrack> = [];\n\n    private onTextTrackAddedHandler: EventListenerOrEventListenerObject = (e: TrackEvent) => this.onTextTrackAdded(e);\n    private onVideoTextTrackAddedHandler: EventListenerOrEventListenerObject = (e: TrackEvent) => this.onVideoTextTrackAdded(e);\n    private onTextTrackChangeHandler: EventListenerOrEventListenerObject = (e: TrackEvent) => this.onTextTrackChange(e);\n    private onCueChangeHandler: EventListenerOrEventListenerObject = (e: Event) => this.onCueChange(e);\n\n    constructor(video: HTMLVideoElement, config: PlaybackAdapterConfigInterface, logger: LoggerInterface) {\n        super();\n        this.system = config.system;\n        this.config = config;\n        this.video = video;\n        this.pTextTracks = video.textTracks;\n\n        this.currentTextTrackMode = config.textTrackSettings.mode;\n        this.allowTextTrackCueDispatch = !config.textTrackSettings.native;\n\n        // These functions have the potential to be called multiple times in rapid succession. \n        // Debounce to allow multiple changes to be applied in a single pass.\n        this.processTracks = Util.debounce(this.processTracks.bind(this), 100);\n        this.addTracks = Util.debounce(this.addTracks.bind(this), 25);\n\n        this.addEvents();\n\n        this.logger = logger;\n        this.logger.log(LogLevel.INFO, 'TextTrackSurface created');\n    }\n\n    destroy() {\n        this.removeEvents();\n        Util.forEach(this.pTextTracks, (t) => this.cleanupTrack(t));\n        Util.forEach(this.video.querySelectorAll('track'), (element) => this.video.removeChild(element));\n        super.destroy();\n    }\n\n    private cleanupTrack(track: TextTrack) {\n        //clean cues.\n        Util.forEach(track.cues, (cue) => cue && track.removeCue(cue));\n        Util.forEach(track.activeCues, (cue) => {\n            try {\n                cue && track.removeCue(cue)\n            }\n            catch (error) {\n                // ignore errors and continue cleanup\n            }\n        });\n\n        //@ts-ignore\n        track.expired = true;\n\n        if (this.isTextTrack(track.kind)) {\n            //hls.js disablement\n            //@ts-ignore\n            track.textTrack1 = true;\n            //@ts-ignore\n            track.textTrack2 = true;\n\n            //dashjs disablement                    \n            //@ts-ignore\n            track.isTTML = true; //forces dash.js to use the new track it creates for vtt or ttml sideload on next load.  \n            //@ts-ignore\n            track.isEmbedded = false;\n        }\n\n        //general disablement\n        //@ts-ignore\n        track.mode = TextTrackMode.DISABLED;\n    }\n\n    /**\n     * Sidecar use only\n     */\n    set timeTextSrc(url: string) {\n        const isVtt = url.indexOf('.vtt') >= 0;\n        if (isVtt) {\n            this.createVttTextTrack(this.video, url);\n        }\n        else {\n            this.processSmpteTimedText(url);\n        }\n    }\n\n    set textTrackMode(mode: TextTrackMode) {\n        if (this.currentTextTrack) {\n            this.setTrackMode(mode);\n        }\n        else {\n            this.logger.log(LogLevel.WARN, `No text track detected`);\n        }\n    }\n\n    set textTrack(newTrack: TextTrack) {\n        if (!this.isValidTrack(newTrack) || newTrack == this.currentTextTrack) {\n            return;\n        }\n\n        // disable old track\n        if (this.currentTextTrack && this.currentTextTrack.mode !== TextTrackMode.DISABLED) {\n            this.currentTextTrack.mode = TextTrackMode.DISABLED;\n        }\n\n        this.currentTextTrack = newTrack;\n\n        // re-apply the track mode to the new text track\n        this.setTrackMode(this.currentTextTrackMode).then(() => {\n            this.logger.log(LogLevel.INFO, `${newTrack.language} is being set as the current text track`);\n            this.emit(TextTrackSurfaceEvents.TEXT_TRACK_CHANGE, newTrack);\n        });\n    }\n\n    get textTrack(): TextTrack {\n        return this.currentTextTrack;\n    }\n\n    get textTracks(): TextTrack[] {\n        return Util.toArray(this.pTextTracks).filter(t => this.isValidTrack(t));\n    }\n\n    get activeTextTracks(): TextTrack[] {\n        return Util.toArray(this.pTextTracks).filter(t => !this.isExpired(t));\n    }\n\n    private setTrackMode(mode: TextTrackMode): Promise<void> {\n        return new Promise((resolve, reject) => {\n            const modeChanged = (mode != this.currentTextTrackMode);\n            const applyMode = (): void => {\n                // mode is typed as number with string enum reserve mapped so even though you can set string, TS wants int.\n                //@ts-ignore\n                this.currentTextTrack.mode = mode;\n\n                if (modeChanged) {\n                    // Dispatch the event after the promise resolves\n                    setTimeout(() => this.emit(TextTrackSurfaceEvents.TEXT_TRACK_DISPLAY_MODE_CHANGE, { mode }), 0);\n                }\n\n                // Logging\n                let msg: string = TextTrackMode.DISABLED;\n                mode === TextTrackMode.HIDDEN && (msg = 'enabled for event driven external custom rendering');\n                mode === TextTrackMode.SHOWING && (msg = 'enabled for native rendering by the user agent');\n                this.logger.log(LogLevel.INFO, `The ${this.currentTextTrack.kind} track for language code ${this.currentTextTrack.language} is being ${msg} `);\n\n                resolve();\n            };\n\n            this.currentTextTrackMode = mode;\n\n            // HACK: FF has issue with setting showing from disabled need to set to hidden then showing with timeout. \n            if (mode === TextTrackMode.SHOWING &&\n                this.currentTextTrack.mode === TextTrackMode.DISABLED) {\n\n                // Temporarily set to hidden to get around FF issue\n                this.currentTextTrack.mode = TextTrackMode.HIDDEN;\n                setTimeout(applyMode, 10);\n            }\n            else {\n                applyMode();\n            }\n        });\n    }\n\n    // Events\n    private onVideoTextTrackAdded(e: TrackEvent): void {\n        // hlsjs reuses tracks for 608/708, so remove the expired flag.\n        const track = e.track;\n        //@ts-ignore\n        track.expired = false;\n        this.addTracks();\n    }\n\n    private onTextTrackAdded(e: TrackEvent): void {\n        this.addTracks();\n    }\n\n    private onTextTrackChange(e: Event): void {\n        this.processTracks();\n    }\n\n    private onCueChange(e: Event): void {\n        const t = <TextTrack>e.target,\n            cues = t && t.activeCues;\n\n        if (!cues || !cues.length) {\n            return;\n        }\n\n        switch (t.kind) {\n            case TextTrackType.METADATA:\n                this.processId3(cues[0]);\n                break;\n            case TextTrackType.CAPTIONS:\n            case TextTrackType.SUBTITLES:\n                if (this.allowTextTrackCueDispatch && t.mode === TextTrackMode.HIDDEN) {\n                    this.emit(TextTrackSurfaceEvents.TEXT_CUEPOINT, { activeCues: cues });\n                }\n                break;\n        }\n    }\n\n    private addTracks(): void {\n        Util.forEach(this.activeTextTracks, (t) => {\n            t.addEventListener(TextTrackEvents.CUE_CHANGE, this.onCueChangeHandler);\n            t.mode = t.kind === TextTrackType.METADATA ? TextTrackMode.HIDDEN : TextTrackMode.DISABLED;\n\n            if (!this.isTextTrack(t.kind) || this.isDuplicateTrack(t)) {\n                return;\n            }\n\n            this.logger.log(LogLevel.INFO, `A ${t.kind} text track was added`);\n            this.emit(TextTrackSurfaceEvents.TEXT_TRACK_ADDED, t);\n        });\n\n        // If this is the first time through, select the best track from the list\n        if (!this.currentTextTrack) {\n            this.textTrack = this.findDefaultTrack(this.textTracks, this.config.textTrackSettings.language);\n            if (!this.textTrack) {\n                return;\n            }\n            this.textTrack.mode = this.config.textTrackSettings.mode;\n            this.emit(TextTrackSurfaceEvents.TEXT_TRACK_AVAILABLE);\n        }\n\n        // Native hls playback in Safari won't trigger a text track change event, so do it manually\n        this.processTracks();\n    }\n\n    private processTracks(): void {\n        const { enabled, native, enabledMode } = this.config.textTrackSettings;\n\n        // Only search valid tracks\n        const tracks = this.pTextTracks;\n\n        // hlsjs sometimes enables expired tracks. Ensure all expired tracks are disabled.\n        Util.forEach(this.pTextTracks, t => {\n            if (this.isExpired(t) && t.mode != TextTrackMode.DISABLED) {\n                t.mode = TextTrackMode.DISABLED;\n            }\n        });\n\n        // Handle non-native text rendering separately\n        if (!native) {\n            if (enabled) {\n                // Streaming libraries sometimes set the mode to \"showing\"\n                const track = Util.find(tracks, t => t.mode == TextTrackMode.SHOWING);\n                if (track) {\n                    track.mode = enabledMode;\n                }\n            }\n            else {\n                // Streaming libraries sometimes set the mode to \"hidden\"\n                const track = Util.find(tracks, t => t.mode != TextTrackMode.DISABLED);\n                if (track) {\n                    track.mode = TextTrackMode.DISABLED;\n                }\n            }\n            return;\n        }\n\n        // Check for change to the text track settings via native UIs or DOM APIs\n        const track = Util.find(tracks, t => t.mode == TextTrackMode.SHOWING);\n\n        if (enabled) {\n            // no change\n            if (track == this.currentTextTrack) {\n                return;\n            }\n\n            // If no enabled track was found, then the mode has changed\n            if (!track) {\n                this.textTrackMode = TextTrackMode.DISABLED;\n            }\n            else {\n                // Otherwise, the a different track was enabled\n                this.textTrack = track;\n            }\n        }\n        else {\n            // no change\n            if (!track) {\n                return;\n            }\n\n            // Update the track if it has changed\n            if (track != this.currentTextTrack) {\n                this.textTrack = track;\n            }\n            // Update the mode \n            this.textTrackMode = TextTrackMode.SHOWING;\n        }\n    }\n\n    private processId3(cue: any): void {\n        const val = cue.value,\n            arr = this.config.resource.playback.id3OwnerIds;\n\n        if (!val) {\n            return;\n        }\n\n        if (val.key === 'TXXX') {\n            this.transmitMetadataCuepoint('google_dai', val);\n        }\n        else if (val.key === 'PRIV' && val.info === 'com.cbsi.live.sg') { // VTG-1813 Segment level tracking            \n            const data = {\n                info: val.info,\n                data: String.fromCharCode.apply(null, new Uint8Array(cue.value.data))\n            }\n\n            this.transmitMetadataCuepoint('com.cbsi.live.sg', data);\n        }\n        else {\n            // Gated on ownerId array\n            Util.forEach(arr, (id) => {\n                if (val.info.indexOf(id) !== -1) {\n                    this.transmitMetadataCuepoint(id, val);\n                }\n            });\n        }\n    }\n\n    private transmitMetadataCuepoint(id: string, d: any) {\n        const vo: MetadataCuepoint = {\n            id: id,\n            info: d.info,\n            data: d.data\n        }\n        this.emit(TextTrackSurfaceEvents.METADATA_CUEPOINT, vo);\n    }\n\n    private addEvents(): void {\n        this.pTextTracks.addEventListener(TextTrackEvents.ADD_TRACK, this.onTextTrackAddedHandler);\n        this.pTextTracks.addEventListener(TextTrackEvents.CHANGE, this.onTextTrackChangeHandler);\n\n        // HACK: Workaround for a bug in hlsjs where the `addtrack` event is dispatched from\n        //       the video element instead of the text track list when swithing to a resource\n        //       with 608/708 captions.\n        (<any>this.video).addEventListener(TextTrackEvents.ADD_TRACK, this.onVideoTextTrackAddedHandler);\n    }\n\n    private removeEvents(): void {\n        this.pTextTracks.removeEventListener(TextTrackEvents.ADD_TRACK, this.onTextTrackAddedHandler);\n        this.pTextTracks.removeEventListener(TextTrackEvents.CHANGE, this.onTextTrackChangeHandler);\n\n        // HACK: hlsjs 608 workaround\n        (<any>this.video).removeEventListener(TextTrackEvents.ADD_TRACK, this.onVideoTextTrackAddedHandler);\n\n        Util.forEach(this.pTextTracks, (t) => t.removeEventListener(TextTrackEvents.CUE_CHANGE, this.onCueChangeHandler));\n    }\n\n    // Util\n    private isDuplicateTrack(t: TextTrack): boolean {\n        // Check for duplicate tracks generated by dashjs when switching periods on a stream with 608 captions\n        const result = this.existingTrack.some(track => t.language == track.language && t.label == track.label && t.kind == track.kind);\n        if (!result) {\n            this.existingTrack.push(t);\n        }\n        return result;\n    }\n\n    private isTextTrack(type: string) {\n        return type === TextTrackType.CAPTIONS || type === TextTrackType.SUBTITLES;\n    }\n\n    private isExpired(track: TextTrack): boolean {\n        //@ts-ignore\n        return track.expired;\n    }\n\n    private isValidTrack(track: TextTrack): boolean {\n        if (!track) {\n            return false;\n        }\n\n        if (!this.isTextTrack(track.kind)) {\n            return false;\n        }\n\n        if (this.isExpired(track)) {\n            return false;\n        }\n\n        return true;\n    }\n\n    // TODO: move strings into emum or props?\n    private createVttTextTrack(el: HTMLVideoElement, src: string): void {\n        // For Src to load and parse VTT must be this way. \n        const t = document.createElement('track');\n        t.kind = TextTrackType.CAPTIONS;\n        t.label = 'English';\n        t.srclang = 'en';\n        t.id = 'sidecar-vtt';\n        t.src = src;\n        el.appendChild(t);\n\n        // Safari natvie will set the mode to \"showing\" causing a flicker\n        t.track.mode = TextTrackMode.DISABLED;\n    }\n\n    private processSmpteTimedText(url: string) {\n        const converter = new SmpteToVttCueConverter(url, this.system);\n        converter.convert().then(result => {\n            this.createSmpteTextTrack(this.video, result);\n            this.logger.log(LogLevel.INFO, 'Smpte XML conversion and text track creation successful');\n        }).catch(e => {\n            this.logger.log(LogLevel.INFO, 'Smpte XML conversion and text track creation error');\n        });\n    }\n\n    private createSmpteTextTrack(el: HTMLVideoElement, cues: Array<VTTCue>): void {\n        try {\n            const t = el.addTextTrack(TextTrackType.CAPTIONS, 'English', 'en');\n            Util.forEach(cues, (item) => t.addCue(item));\n        } catch (error) {\n            this.logger.log(LogLevel.INFO, error);\n        }\n    }\n\n    private findDefaultTrack(tracks: TextTrack[], language: string): TextTrack {\n        let regex = new RegExp(language, \"i\");\n        let track = Util.find(tracks, t => regex.test(t.language));\n        if (!track) {\n            const short = Util.parseLanguageTag(language).language;\n            if (short != language) {\n                regex = new RegExp(short, \"i\");\n                track = Util.find(tracks, t => regex.test(t.language));\n            }\n        }\n        return track || tracks[0];\n    }\n}\n","import { Emitter } from '../../core/Emitter';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { VideoSurfaceInterface } from '../../iface';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { TextTrackMode } from '../enum/TextTrackMode';\nimport { TextTrackSurfaceEvents } from '../enum/TextTrackSurfaceEvents';\nimport { VideoSurfaceEvents } from '../enum/VideoSurfaceEvents';\nimport { TextTrackSurface } from './TextTrackSurface';\n\n\nexport class Html5VideoSurface extends Emitter implements VideoSurfaceInterface {\n\n    private logger: LoggerInterface;\n    private pVideo: HTMLVideoElement;\n    private timeAtLastBufferCheck: number = NaN;\n    private textTrackSurface: TextTrackSurface = null;\n\n    private pBuffering: boolean = false;\n    private pVideoEventHandler = (e: Event) => this.onVideoElementEvent(e);\n    private pTextTrackEventHandler = (e: EventInterface) => this.onTextTrackSurfaceEvent(e);\n\n    constructor(video: HTMLVideoElement, config: PlaybackAdapterConfigInterface, logger: LoggerInterface, useTextTrackSurface: boolean = true) {\n        super();\n\n        this.pVideo = video;\n        this.logger = logger;\n        if (useTextTrackSurface) {\n            this.textTrackSurface = new TextTrackSurface(video, config, logger);\n        }\n        this.logger.log(LogLevel.INFO, 'Html5VideoSurface created');\n    }\n\n    destroy() {\n        this.removeEvents();\n        if (this.textTrackSurface) {\n            this.textTrackSurface.destroy();\n        }\n        this.textTrackSurface = null;\n        this.pVideo = null;\n        super.destroy();\n    }\n\n    play(): void {\n        if (this.pVideo) {\n            const p = this.pVideo.play();\n            if (p) {\n                p.then(() => { }).catch((e) => {\n                    this.logger.warn('Exception caught in play() Promise: ' + e.message, LogLevel.WARN);\n                });\n            }\n        }\n    }\n\n    pause(): void {\n        this.pVideo && this.pVideo.pause();\n    }\n\n    seek(value: number): void {\n        this.pVideo && (this.pVideo.currentTime = value);\n    }\n\n    addEvents(): void {\n\n        for (let item in VideoSurfaceEvents) {\n            this.pVideo.addEventListener((<StrAnyDict>VideoSurfaceEvents)[item], this.pVideoEventHandler);\n        }\n\n        if (!this.textTrackSurface) {\n            return;\n        }\n\n        for (let item in TextTrackSurfaceEvents) {\n            this.textTrackSurface.on((<StrAnyDict>TextTrackSurfaceEvents)[item], this.pTextTrackEventHandler);\n        }\n    }\n\n    get video(): HTMLVideoElement {\n        return this.pVideo;\n    }\n\n    set src(value: string) {\n        this.pVideo && (this.pVideo.src = value);\n    }\n\n    set volume(value: number) {\n        this.pVideo && (this.pVideo.volume = value);\n    }\n    get volume(): number {\n        return this.pVideo ? this.pVideo.volume : null;\n    }\n\n    set muted(value: boolean) {\n        this.pVideo && (this.pVideo.muted = value);\n    }\n    get muted(): boolean {\n        return this.pVideo ? this.pVideo.muted : null;\n    }\n\n    get paused(): boolean {\n        return this.pVideo ? this.pVideo.paused : null;\n    }\n\n    get time(): number {\n        return this.pVideo ? this.pVideo.currentTime : null;\n    }\n\n    get duration(): number {\n        return this.pVideo ? this.pVideo.duration : null;\n    }\n\n    get state(): string {\n        return '' //TODO add playback state trap on event and return string here.\n    }\n\n    set textTrackMode(mode: TextTrackMode) {\n        if (!this.textTrackSurface) {\n            return;\n        }\n\n        this.textTrackSurface.textTrackMode = mode;\n    }\n\n    set textTrack(track: TextTrack) {\n        if (!this.textTrackSurface) {\n            return;\n        }\n\n        this.textTrackSurface.textTrack = track;\n    }\n\n    get textTrack(): TextTrack {\n        return this.textTrackSurface.textTrack;\n    }\n\n    set textTrackSrc(url: string) {\n        if (!this.textTrackSurface) {\n            return;\n        }\n\n        this.textTrackSurface.timeTextSrc = url;\n    }\n\n    get textTracks(): TextTrack[] {\n        return this.textTrackSurface.textTracks;\n    }\n\n    get bufferLength(): number {\n        let n = 0;\n\n        if (this.pVideo && this.pVideo.buffered.length > 0) {\n            n = this.pVideo.buffered.end(this.pVideo.buffered.length - 1) - this.pVideo.currentTime;\n        }\n\n        return n;\n    }\n\n    get buffering(): boolean {\n        if (!this.paused && this.pVideo) {\n            const threshold = (this.timeAtLastBufferCheck + .001);\n            this.timeAtLastBufferCheck = this.pVideo.currentTime;\n            this.pBuffering = this.pVideo.readyState === 1 && this.pVideo.currentTime < threshold;\n        }\n\n        return this.pBuffering;\n    }\n\n    get framerate(): number {\n        //@ts-ignore  // does not cast\n        const frames = this.pVideo.webkitDecodedFrameCount || this.pVideo.mozPresentedFrames || Number.NaN;\n        return isNaN(frames) ? frames : frames / this.pVideo.currentTime;\n    }\n\n    get metrics(): StrAnyDict {\n        let result = {\n            droppedVideoFrames: Number.NaN,\n            totalVideoFrames: Number.NaN\n        };\n\n        if (!this.pVideo) {\n            return result;\n        }\n\n        const hasWebKit = ('webkitDroppedFrameCount' in this.pVideo) && ('webkitDecodedFrameCount' in this.pVideo);\n        const hasQuality = ('getVideoPlaybackQuality' in this.pVideo);\n\n        if (hasQuality) {\n            result = this.pVideo.getVideoPlaybackQuality();\n        }\n        else if (hasWebKit) {\n            result = {\n                //@ts-ignore  // does not cast\n                droppedVideoFrames: this.pVideo.webkitDroppedFrameCount,\n                //@ts-ignore  // does not cast\n                totalVideoFrames: this.pVideo.webkitDroppedFrameCount + this.pVideo.webkitDecodedFrameCount\n            };\n        }\n\n        return result;\n    }\n\n    // From HTML5 video element \n    private onVideoElementEvent(e: Event): void {\n        this.emit(e.type, e);\n    }\n\n    //From emitter-based TextTrackSurface\n    private onTextTrackSurfaceEvent(e: EventInterface): void {\n        this.emit(e.type, e.data);\n    }\n\n    private removeEvents(): void {\n        for (let item in VideoSurfaceEvents) {\n            this.pVideo.removeEventListener((<StrAnyDict>VideoSurfaceEvents)[item], this.pVideoEventHandler);\n        }\n\n        if (!this.textTrackSurface) {\n            return;\n        }\n\n        for (let item in TextTrackSurfaceEvents) {\n            this.textTrackSurface.on((<StrAnyDict>TextTrackSurfaceEvents)[item], this.pTextTrackEventHandler);\n        }\n    }\n}\n","\nexport enum PlaybackAdapterEvents {\n    ABR_QUALITY_LOADED = 'abrQualityLoaded',\n    ABR_QUALITY_SWITCHED = 'abrQualitySwitched',\n    ABR_QUALITY_SWITCHING = 'abrQualitySwitching',\n    ABR_CONSTRAINTS_CHANGE = 'maxLevelChanged',//todo rename string to match. \n    FRAGMENT_LOADED = 'fragmentLoaded',\n    FRAGMENT_PARSED = 'fragmentParsed',\n    MANIFEST_LOADED = 'manifestLoaded',\n    MANIFEST_PARSED = 'manifestParsed',\n    LOADED_METADATA = 'loadedMetdata',\n    DRM_KEYSYSTEM_CREATED = 'drmKeySystemCreated',\n    AUDIO_TRACK_UPDATED = 'audioTrackUpdated',\n    AUDIO_TRACK_CHANGE = 'audioTrackChange',\n    MULTI_CDN = 'multiCdn',\n    ERROR = 'error',\n}\n","export enum PlayStation {    \n    //player states\n    BUFFERING = 'buffering',\n    END_OF_STREAM = 'endOfStream',\n    NOT_READY = 'notReady',\n    OPENING = 'opening',    \n    PAUSED = 'paused',\n    PLAYING = 'playing',\n    STOPPED = 'stopped',\n    DISPLAYING_VIDEO = 'DisplayingVideo',\n    UNKNOWN = 'unknown',    \n    READY = 'ready',    \n\n    //Access Messages\n    //PLAYER_MESSAGE = 'playerMessage', //Deprecated Please use playerTimedEvent instead.\n    PLAYER_TIMED_EVENT = 'playerTimedEvent',\n    NETWORK_STATUS_CHANGE = 'networkStatusChange',\n    CONTENT_AVAILABLE = 'contentAvailable',\n    PLAYER_STATUS_CHANGE = 'playerStatusChange',    \n    PLAYER_STREAMING_ERROR = 'playerStreamingError',    \n    PLAYER_ERROR = 'playerError',\n    PLAYER_SUBTITLE = 'playerSubtitle', //This event is deprecated and will be removed at a later date. Please use playerTimedEvent instead.\n    GET_AUDIO_TRACKS = 'getAudioTracks',\n    GET_VIDEO_REP_COUNT = 'getRepresentationsCount',\n    GET_VIDEO_REP_INFO = 'getRepresentationInfo',\n    GET_SUBTITLE_TRACKS = 'getSubtitleTracks',\n    GET_PLAYBACK_TIME = 'getPlaybackTime',    \n}\n\n","import { Emitter } from '../../core/Emitter';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { VideoSurfaceInterface } from '../../iface';\nimport { AudioTrackInterface } from '../../iface/AudioTrackInterface';\nimport { AudioTracksInterface } from '../../iface/AudioTracksInterface';\nimport { EventHandler } from '../../iface/EventHandler';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { Timer } from '../../util/Timer';\nimport { Utils } from '../../util/Utils';\nimport { PlaybackAdapterEvents } from '../enum/PlaybackAdapterEvents';\nimport { PlayStation } from '../enum/PlayStation';\nimport { TextTrackMode } from '../enum/TextTrackMode';\nimport { TextTrackSurfaceEvents } from '../enum/TextTrackSurfaceEvents';\nimport { VideoSurfaceEvents } from '../enum/VideoSurfaceEvents';\n\n\nexport class WebMafVideoSurface extends Emitter implements VideoSurfaceInterface {\n\n    private timer: Timer;\n    private onTicHandler: EventHandler = (e: EventInterface) => this.onTic(e);\n\n    private pTime: number = 0;\n    private pDuration: number = 0;\n    private pVideo: any;\n    private pMetrics: any;\n    private pState: string;\n    private pBitrate: number = 0;\n    private abrProfileCount: number = 0;\n    private pMasterBitrateProfile: StrAnyDict[] = [];\n    private logger: LoggerInterface;\n    private audioTrackInfo: AudioTracksInterface;\n    private audioTrackUpdated: boolean = false;\n    private pStartTime = NaN;\n    private global: any;\n    private config: PlaybackAdapterConfigInterface;\n\n\n    ///state\n    private seeking: boolean = false;\n\n    constructor(config: PlaybackAdapterConfigInterface, logger: LoggerInterface) {\n        super();\n\n        this.logger = logger;\n\n        this.timer = new Timer(500);\n        this.timer.on(Timer.TIC_EVENT, this.onTicHandler);\n        this.config = config;\n        this.logger.log(LogLevel.WARN, `${this.config}`); //TODO remove once id3 owner tag filtering is implemented. \n        this.global = config.system.global;\n        //WebMaf Bindings\n        this.pVideo = this.global.WM_videoPlayer;\n\n        this.global.accessfunction = (json: any) => this.accessfunction(json);\n\n        this.pMetrics = this.global.videometrics;\n        this.pMetrics.onBitrateChange = (value: number) => this.onBitrateChange(value);\n\n        this.callExternalWebMafApi(\n            '{\"command\":\"setAdaptiveStreamingParameters\",' +\n            ' \"bandwidthHistoryMaxEntries\":30, ' +\n            ' \"bandwidthHistoryMinEntries\": 1, ' +\n            ' \"bandwidthUtilisationPercentage\": 80, ' +\n            ' \"segmentsBetweenSwitchUp\": 5}'\n        );\n\n        //@ts-ignore\n        if (this.logger) {\n            this.pVideo.TTY = (tty: any) => {\n                this.logger.log(LogLevel.INFO, tty);\n            }\n            this.pVideo.TTYLevel = 0; //TODO - MAP THIS TO OUR LOG LEVEL? \n        }\n    }\n\n    destroy() {\n        this.callExternalWebMafApi('{\"command\":\"stop\"}');\n        this.timer.off(Timer.TIC_EVENT, this.onTicHandler);\n        super.destroy();\n    }\n\n    play(): void {\n        this.callExternalWebMafApi('{\"command\":\"play\"}');\n    }\n\n    pause(): void {\n        this.callExternalWebMafApi('{\"command\":\"pause\"}');\n    }\n\n    seek(position: number): void {\n        if (!this.seeking) {\n            this.seeking = true;\n            const pos = Math.floor(position); //webmaf will fail to seek with float.\n            this.callExternalWebMafApi('{\"command\":\"setPlayTime\",\"playTime\":' + pos + '}');\n            this.logger.log(LogLevel.INFO, `seeking to ${pos}`);\n            this.emit(VideoSurfaceEvents.SEEKING, { position: pos });\n        }\n    }\n\n    addEvents(): void {\n        //TODO fill out with constructor code so we can add events at controlled time.  \n    }\n\n    set startTime(value: number) {\n        this.logger.log(LogLevel.INFO, `startTime set on webmaf ${value}`);\n        this.pStartTime = value;\n    }\n\n    set volume(value: number) {//Ensemble does not control volume on webmaf, just lets TV. But you could.  \n        this.callExternalWebMafApi('{\"command\":\"setVolume\", \"volume\":' + value + '}');\n    }\n    get volume(): number {\n        return 1;\n    }\n\n    set muted(value: boolean) {//Ensemble does not control volume on webmaf, just lets TV. But you could.  \n        this.callExternalWebMafApi('{\"command\": \"setVolume\", \"volume\": 0.0}');\n    }\n    get muted(): boolean {\n        return false;\n    }\n\n    set src(value: string) {\n        this.callExternalWebMafApi(value);\n    }\n\n    get video(): any {\n        return this.pVideo;\n    }\n\n    get framerate(): number {\n        return Number.NaN;\n    }\n\n    get metrics(): StrAnyDict {\n        return this.pMetrics;\n    }\n\n    get time(): number {\n        return this.pTime;\n    }\n\n    get duration(): number {\n        return this.pDuration;\n    }\n\n    get bufferLength(): number {\n        return this.pVideo.bufferedRange;\n    }\n\n    get buffering(): boolean {\n        return this.pState === PlayStation.BUFFERING;\n    }\n\n    get paused(): boolean {\n        return this.pState === PlayStation.PAUSED;\n    }\n\n    get state(): string {\n        return this.pState;\n    }\n\n    get masterBitrateProfile(): StrAnyDict[] {\n        return this.pMasterBitrateProfile;\n    }\n\n    get bitrate(): number {\n        return this.pBitrate; //check if remove from tic and just update JIT per metric needed?\n    }\n\n    set startingBitrate(value: number) {\n        this.logger.log(LogLevel.INFO, `startingBitrate set on webmaf ${value}`);\n        this.callExternalWebMafApi('{\"command\":\"setVideoStartingBandwidth\",\"bandwidth\":' + value + '}');\n    }\n\n    set minBitrate(value: number) {\n        this.logger.log(LogLevel.INFO, `minBitrate set on webmaf ${value}`);\n        this.callExternalWebMafApi('{\"command\":\"setFixVideoRepresentations\", \"minBitrate\":' + value + '}');\n    }\n\n    set maxBitrate(value: number) {\n        this.logger.log(LogLevel.INFO, `maxBitrate set on webmaf ${value}`);\n        this.callExternalWebMafApi('{\"command\":\"setFixVideoRepresentations\", \"maxBitrate\":' + value + '}');\n    }\n\n    set audioTrack(track: AudioTrackInterface) {\n        const id = this.audioTrackInfo.tracks[track.index].id;\n        this.audioTrackUpdated = true;\n        this.callExternalWebMafApi('{\"command\":\"setAudioTrack\", \"audioTrack\":' + JSON.stringify(id) + '}');\n    }\n\n    set textTrackMode(mode: TextTrackMode) {\n        const enable = mode !== TextTrackMode.DISABLED;\n        this.callExternalWebMafApi('{\"command\":\"setClosedCaptions\",\"enable\": ' + enable + '}');\n    }\n\n    set textTrack(track: TextTrack) {\n        this.callExternalWebMafApi('{\"command\":\"setSubtitleTrack\",\"subtitleTrack\": ' + JSON.stringify(track.language) + '}');\n        this.emit(TextTrackSurfaceEvents.TEXT_TRACK_CHANGE, track);\n    }\n\n    set textTrackSrc(url: string) {\n        this.logger.log(LogLevel.INFO, `Sidecar text is not supported on playstation ${url}`);\n    }\n\n    get textTracks(): TextTrack[] {\n        return [];\n    }\n\n    private callExternalWebMafApi(command: string) {\n        this.global.external.user(command);\n    }\n\n    private onTic(e: EventInterface) {\n        this.callExternalWebMafApi('{\"command\":\"getPlaybackTime\"}');\n        if (this.audioTrackUpdated) { // may be able to call this right after setting but since codec fails will not set. \n            this.audioTrackUpdated = false;\n        }\n        this.updateMetrics();\n    }\n\n    private onBitrateChange(value: number) {\n        const videoBitrate = value / 2 //FIX WEBMAF Bug,  they report back exactly 2x the manifest advertised bitrate!!\n        const index = Utils.getIndexForBitrate(this.pMasterBitrateProfile, videoBitrate, false);\n\n        this.logger.log(LogLevel.INFO, `bitrate change ${videoBitrate}`);\n        this.emit(PlaybackAdapterEvents.ABR_QUALITY_LOADED, { index: index });\n    }\n\n    private updateMetrics(): void {\n        this.metrics.poll();\n        this.pBitrate = this.metrics.currentBitrate / 2; //FIX WEBMAF Bug,  they report back exactly 2x the manifest advertised bitrate!!\n    }\n\n    /**\n     * Not supported by webmaf for any format besides smooth streaming. \n     */\n    private parseAudioInfo(info: any): AudioTracksInterface {\n\n        const rawTracks: [] = info.audioTracks.split(',');\n        const channels: [] = info.audioNumChannels.split(',');\n        const returnObj: AudioTracksInterface = { track: null, tracks: [] };\n\n        for (let i = 0, len = rawTracks.length; i < len; i++) {\n            const track: AudioTrackInterface = {\n                index: i,\n                id: rawTracks[i],\n                type: channels[i],\n                lang: rawTracks[i],\n                label: rawTracks[i],\n                codec: ''\n            };\n\n            returnObj.tracks.push(track);\n\n            if (rawTracks[i] === info.currentAudioTrack) {\n                returnObj.track = track;\n            }\n        }\n        return returnObj;\n    }\n\n    /**\n     * WebMaf Access Point.\n     */\n    private accessfunction(json: any) {\n\n        //Just for dev releases for now.  \n        //TODO - MAP THIS TO OUR Low leve logging override\n        // if (json.indexOf('getPlaybackTime') === -1 &&\n        //     json.indexOf('playerSubtitle') === -1 &&\n        //     json.indexOf('playerMessage') === -1) {\n        //     //this.logger.log(LogLevel.INFO, 'Access Function CVP:', json);            \n        // }\n\n        const data = JSON.parse(json);\n\n        switch (data.command) {\n            case PlayStation.GET_AUDIO_TRACKS:\n                this.respondToAudioTrackInfo(data);\n                break;\n\n            case PlayStation.GET_VIDEO_REP_COUNT:\n                this.respondToVideoRepCount(data);\n                break;\n\n            case PlayStation.GET_VIDEO_REP_INFO:\n                this.respondToVideoRepInfo(data);\n                break;\n\n            case PlayStation.GET_SUBTITLE_TRACKS:\n                this.respondToGetSubtitleTracks(data);\n                break;\n\n            case PlayStation.GET_PLAYBACK_TIME:\n                this.respondToPlaybackTime(data);\n                break;\n\n            case PlayStation.NETWORK_STATUS_CHANGE:\n                break;\n\n            case PlayStation.CONTENT_AVAILABLE:\n                this.respondToContentAvailable(data);\n                break;\n\n            case PlayStation.PLAYER_SUBTITLE:\n                this.respondToPlayerSubtitle(data);\n                break;\n            case PlayStation.PLAYER_TIMED_EVENT:\n                this.respondToTimedMetadataEvent(data);\n                break;\n            case PlayStation.PLAYER_STREAMING_ERROR:\n                //TODO Error handling                     \n                break;\n            case PlayStation.PLAYER_ERROR:\n                //TODO Error handling\n                break;\n            case PlayStation.PLAYER_STATUS_CHANGE:\n                this.respondToPlayerStatusChange(data);\n                break;\n        }\n    }\n\n    private respondToTimedMetadataEvent(data: any) {\n        // this.logger.log(LogLevel.INFO, PlayStation.PLAYER_TIMED_EVENT, data);\n        /**\n         * TODO Waiting for PC to Implement OwnerID for PS4 need to eval data and seee how to fit into MetadataCuepoint \n         * - refactor to share if possible code in processId3 of TextTrackSurface.ts\n         */\n        this.emit(TextTrackSurfaceEvents.METADATA_CUEPOINT, { timestamp: data.timestamp, msg: data.data });\n    }\n\n\n    private respondToGetSubtitleTracks(data: any) {\n        const arr = data.subtitleTracks.split(',');\n        arr.forEach((item: any) => {\n            if (item === 'und') {\n                this.logger.log(LogLevel.INFO, \"timed metadata detected.\", data);\n                this.callExternalWebMafApi('{\"command\":\"setTimedMetadata\",\"enable\":true}');\n                this.callExternalWebMafApi('{\"command\":\"setSubtitleTrack\",\"subtitleTrack\":\"und\"}');\n            }\n            else {\n                //Temp solution need to look at multi lang tracks for text and audio will need some refactor.\n                const track: any = {\n                    language: item,\n                    kind: 'subtitle',\n                    label: item\n                }\n                this.emit(TextTrackSurfaceEvents.TEXT_TRACK_ADDED, track);\n                this.emit(TextTrackSurfaceEvents.TEXT_TRACK_CHANGE, track);//use this to set the track of info otherwise not set.  Discuss?             \n            }\n        });\n\n        if (arr.length > 0) {\n            this.emit(TextTrackSurfaceEvents.TEXT_TRACK_AVAILABLE);\n        }\n    }\n\n    private respondToPlayerSubtitle(data: any) {\n        const p = data.text.split(';'),\n            cueList: StrAnyDict = [];\n\n        //CEA Embedded 608    \n        if (p.length >= 8) {\n            if (p[6] == \"action:caption_block\") {\n                const len = p.length / 8;\n                for (let i = 0; i < len; i++) {\n                    const index = i * 8;\n                    cueList.push({\n                        text: decodeURIComponent(escape(atob(p[index + 7]))),\n                        x: p[index + 0].split(':')[1],\n                        y: p[index + 1].split(':')[1],\n                        r: p[index + 2].split(':')[1],\n                        g: p[index + 3].split(':')[1],\n                        b: p[index + 4].split(':')[1]\n                    });\n                }\n            }\n            else {\n                this.logger.log(LogLevel.INFO, \"no style info cea 608\", data);\n            }\n        }\n        else {\n            cueList.push({ text: data.text });\n        }\n\n        if (cueList.length > 0) {\n            this.emit(TextTrackSurfaceEvents.TEXT_CUEPOINT, { activeCues: cueList });\n        }\n    }\n\n    private respondToContentAvailable(data: any) {\n        if (this.pDuration !== data.totalLength) {\n            this.pDuration = data.totalLength;\n            this.emit(VideoSurfaceEvents.DURATION_CHANGE, { value: this.pDuration });\n        }\n    }\n\n    private respondToPlaybackTime(data: any) {\n        /**\n         * webmaf spits out bogus time value when user is\n         * seeking quickly and we do not want to update time on that\n         * or any value > duration\n         */\n        if (this.pTime !== data.elapsedTime &&\n            data.elapsedTime <= data.totalTime) {\n\n            this.pTime = data.elapsedTime;\n            this.emit(VideoSurfaceEvents.TIME_UPDATE, { value: this.pTime });\n\n            if (this.seeking) {\n                this.seeking = false;\n                this.emit(VideoSurfaceEvents.SEEKED);\n            }\n        }\n    }\n\n    private respondToVideoRepInfo(data: any) {\n        this.pMasterBitrateProfile.push(data);\n        if (this.pMasterBitrateProfile.length === this.abrProfileCount) {\n            this.emit(PlaybackAdapterEvents.MANIFEST_PARSED, this.pMasterBitrateProfile);\n        }\n    }\n\n    private respondToVideoRepCount(data: any) {\n        this.abrProfileCount = data.count;\n        for (let i = 0; i < this.abrProfileCount; i++) {\n            this.callExternalWebMafApi('{\"command\":\"getRepresentationInfo\", \"representation\":' + i + '}');\n        }\n    }\n\n    private respondToAudioTrackInfo(data: any) {\n        this.audioTrackInfo = this.parseAudioInfo(data);\n        this.emit(PlaybackAdapterEvents.AUDIO_TRACK_UPDATED, this.audioTrackInfo);\n    }\n\n    /**\n     * Player Status\n     */\n    private respondToPlayerStatusChange(data: any) {\n        switch (data.playerState) {\n            case PlayStation.BUFFERING:\n                break;\n            case PlayStation.READY:\n                this.respondToPlayerStatusReady(data);\n                break;\n\n            case PlayStation.PAUSED:\n                this.emit(VideoSurfaceEvents.PAUSE);\n                break;\n\n            case PlayStation.PLAYING:\n                this.emit(VideoSurfaceEvents.PLAYING);\n                break;\n\n            case PlayStation.DISPLAYING_VIDEO:\n                !this.timer.started && this.timer.start();\n                break;\n\n            case PlayStation.END_OF_STREAM:\n                this.respondToPlayerStatusEOS();\n                break;\n            default:\n                break;\n        }\n        this.pState = data.playerState;\n    }\n\n    private respondToPlayerStatusEOS() {\n        this.timer.started && this.timer.stop();\n        this.emit(VideoSurfaceEvents.ENDED);\n    }\n\n    private respondToPlayerStatusReady(data: any) {\n        this.emit(VideoSurfaceEvents.CAN_PLAY_THROUGH);\n        this.callExternalWebMafApi('{\"command\":\"getRepresentationsCount\"}');\n        this.callExternalWebMafApi('{\"command\":\"getSubtitleTracks\"}');\n        //this.callExternalWebMafApi('{\"command\":\"getAudioTracks\"}');// disabled for now, not supported for HLS or Dash. \n\n        //set deferred playback options here.\n        !isNaN(this.pStartTime) && this.seek(this.pStartTime);\n    }\n}\n","export enum DrmType {\n    WIDEVINE = \"com.widevine.alpha\",\n    PLAYREADY = \"com.microsoft.playready\",\n    CLEAR_KEY = \"org.w3.clearkey\",\n    FAIRPLAY_1_0 = \"com.apple.fps.1_0\"\n}\n\n","\nexport enum DashEmsg {\n    GOOGLE_DAI = 'urn:google:dai:2018'   \n}    ","export enum DashjsRobustness {    \n    MANIFEST_RETRY_ATTEMPTS = 2,\n    MANIFEST_RETRY_INTERVAL = 1000,    \n    FRAGMENT_RETRY_ATTEMPTS = 6,\n    FRAGMENT_RETRY_INTERVAL = 2000,    \n    FATAL_ERROR_RECOVERY_ATTEMPTS = 3\n}    ","import { Emitter } from '../../core/Emitter';\nimport { Util } from '../../core/Util';\nimport { ErrorCode } from '../../enum/ErrorCode';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { PlaybackAdapterInterface, VideoSurfaceInterface } from '../../iface';\nimport { AudioTrackInterface } from '../../iface/AudioTrackInterface';\nimport { EventHandler } from '../../iface/EventHandler';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { LiveStreamInfoInterface } from '../../iface/LiveStreamInfoInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { OverridesInterface } from '../../iface/OverridesInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { QualityInterface } from '../../iface/QualityInterface';\nimport { ResourcePlaybackInterface } from '../../iface/ResourcePlaybackInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { StreamMetadataInterface } from '../../iface/StreamMetadataInterface';\nimport { Utils } from '../../util/Utils';\nimport { PlaybackAdapterEvents } from '../enum/PlaybackAdapterEvents';\nimport { PlaybackAdapterType } from '../enum/PlaybackAdapterType';\nimport { TextTrackMode } from '../enum/TextTrackMode';\nimport { TextTrackSurfaceEvents } from '../enum/TextTrackSurfaceEvents';\nimport { VideoSurfaceEvents } from '../enum/VideoSurfaceEvents';\n\n\nexport abstract class BasePlaybackAdapter extends Emitter implements PlaybackAdapterInterface {\n\n    protected pType: PlaybackAdapterType;\n\n    //**************************************\n    // Developer Override Options\n    protected enableLogger: boolean = false;\n    //**************************************\n\n    protected videoSurface: VideoSurfaceInterface;\n    protected logger: LoggerInterface;\n    protected playback: ResourcePlaybackInterface;\n    protected config: PlaybackAdapterConfigInterface;\n    protected mediaUrl: string;\n    protected networkErrorRetryCount: number = 0;\n    protected mediaErrorRetryCount: number = 0;\n    protected minAutoLevel: number = NaN;\n    protected maxAutoLevel: number = NaN;\n    protected multiCdnHeaderPresent: boolean = true;\n    protected pIsLiveStream: boolean = false;\n    protected lowLevelDvrDetails: any = null;\n    protected normalizedAudioTracks: AudioTrackInterface[];\n    protected liveStreamInfoVO: LiveStreamInfoInterface = {\n        isPlayingLive: false,\n        liveEdgeOffset: NaN,\n        dvrWindowSize: NaN,\n        safeSeekingDuration: NaN,\n        safeSeekingTime: NaN,\n        relativeTime: NaN,\n        relativeDuration: NaN,\n        absoluteTime: NaN,\n        absoluteDuration: NaN\n    };\n\n    protected blockTimeUpdateEvent = false;\n    protected loaded: boolean = false;\n    protected pendingLoad: Promise<void>;\n\n    private videoSurfaceEventHandler: EventHandler = (e: EventInterface) => this.onVideoSurfaceEvent(e);\n\n    constructor(videoSurface: VideoSurfaceInterface, config: PlaybackAdapterConfigInterface, logger: LoggerInterface) {\n\n        super();\n\n        this.videoSurface = videoSurface;\n        this.config = config;\n        this.playback = this.config.resource.playback;\n        this.logger = logger;\n        this.mediaUrl = config.resource.location.mediaUrl;\n\n        //**************************************\n        // Developer Override Options\n        const o: OverridesInterface = this.config.playerOptions.overrides;\n        if (!Util.isEmpty(o.enableLowLevelStreamingLogs)) {\n            this.enableLogger = o.enableLowLevelStreamingLogs;\n        }\n\n        // if (!Util.isEmpty(o.exposePlaybackAdapter) && o.exposePlaybackAdapter === true) {\n        //     this.config.system.global.cvp.playbackAdapter = this;\n        // }\n        //**************************************\n    }\n\n    ////////////////////\n    //Abstract\n    ////////////////////    \n    abstract currentIndex: number;\n    abstract autoQualitySwitching: boolean;\n    abstract maxBitrate: number;\n    abstract minBitrate: number;\n    abstract liveStreamInfo: LiveStreamInfoInterface;\n    abstract manifestQualities: QualityInterface[];\n\n    ////////////////////\n    //Public Methods\n    ////////////////////\n\n    initialize(): void {\n        this.addEvents(this.videoSurface, VideoSurfaceEvents, this.videoSurfaceEventHandler);\n        this.addEvents(this.videoSurface, TextTrackSurfaceEvents, this.videoSurfaceEventHandler);\n    }\n\n    destroy(): Promise<void> {\n\n        // if (this.config.system.global.cvp.playbackAdapter) {\n        //     this.config.system.global.cvp.playbackAdapter = null;\n        // }\n\n        this.removeEvents(this.videoSurface, VideoSurfaceEvents, this.videoSurfaceEventHandler);\n        this.removeEvents(this.videoSurface, TextTrackSurfaceEvents, this.videoSurfaceEventHandler);\n        this.videoSurface.destroy();\n        this.videoSurface = null;\n        this.logger = null;\n        this.config = null;\n        this.playback = null;\n        this.liveStreamInfoVO = null;\n        this.lowLevelDvrDetails = null;\n        this.normalizedAudioTracks = null;\n        super.destroy();\n        return Promise.resolve();\n    }\n\n    play(): void {\n        this.load().then(() => {\n            this.videoSurface.play();\n        });\n    }\n\n    pause(): void {\n        this.videoSurface.pause();\n    }\n\n    suspend(): void {\n        // no-op\n    }\n\n    resume(): void {\n        // no-op\n    }\n\n    seek(position: number): void {\n        this.videoSurface.seek(position);\n    }\n\n    load(url?: string): Promise<void> {\n        if (this.loaded === true) {\n            return Promise.resolve();\n        }\n        else if (this.pendingLoad) {\n            return this.pendingLoad;\n        }\n\n        this.videoSurface.addEvents();\n\n        const textTrackUrl = this.config.resource.location.textTrackUrl;\n        if (!Util.isEmpty(textTrackUrl)) {\n            this.videoSurface.textTrackSrc = textTrackUrl;\n        }\n\n        if (url) {\n            this.mediaUrl = url;\n        }\n\n        this.pendingLoad = this.loadMediaUrl().then(() => {\n            this.loadComplete();\n        });\n\n        return this.pendingLoad;\n    }\n\n    resize(): void {\n        // no-op\n    }\n\n    ////////////////////\n    //Accessors\n    ////////////////////   \n\n    set audioTrack(track: AudioTrackInterface) {\n        this.videoSurface.video.audioTracks[track.index].enabled = true;\n    }\n\n    set textTrackMode(mode: TextTrackMode) {\n        this.videoSurface.textTrackMode = mode\n    }\n\n    set textTrack(track: TextTrack) {\n        this.videoSurface.textTrack = track;\n    }\n\n    get bufferLength(): number {\n        return this.videoSurface.bufferLength;\n    }\n\n    get time(): number {\n        return this.videoSurface.time;\n    }\n\n    get duration(): number {\n        return this.videoSurface.duration;\n    }\n\n    get isLiveStream(): boolean {\n        return this.pIsLiveStream;\n    }\n\n    get droppedVideoFrames(): number {\n        return this.videoSurface.metrics.droppedVideoFrames;\n    }\n\n    get framerate(): number {\n        return this.videoSurface.framerate;\n    }\n\n    get buffering(): boolean {\n        return this.videoSurface.buffering;\n    }\n\n    get type(): PlaybackAdapterType {\n        return this.pType;\n    }\n\n    get fragmentType(): string {\n        return '';\n    }\n\n    ////////////////////\n    //Protected Methods\n    ////////////////////\n\n    protected loadMediaUrl(): Promise<void> {\n        const video = this.videoSurface;\n        return new Promise((resolve, reject) => {\n            const listener = (action: Function): EventHandler => {\n                return (e: EventInterface): void => {\n                    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                    video.off(VideoSurfaceEvents.LOADED_METADATA, loadedmetadata);\n                    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                    video.off(VideoSurfaceEvents.ERROR, error);\n\n                    action();\n                }\n            }\n            const loadedmetadata = listener(() => {\n                this.loadedMetadata();\n                resolve();\n            });\n            const error = listener(reject);\n\n            video.on(VideoSurfaceEvents.LOADED_METADATA, loadedmetadata);\n            video.on(VideoSurfaceEvents.ERROR, error);\n        });\n    }\n\n    protected getStreamMetadata(): StreamMetadataInterface {\n        return {\n            manifest: {\n                mimeType: Util.getMimeType(this.mediaUrl)\n            },\n            fragment: {\n                mimeType: this.fragmentType\n            }\n        };\n    }\n\n    protected loadedMetadata(): void {\n        const metadata = this.getStreamMetadata();\n        this.emit(PlaybackAdapterEvents.LOADED_METADATA, metadata);\n    }\n\n    protected loadComplete(): void {\n        this.pendingLoad = null;\n        this.loaded = true;\n    }\n\n    protected checkAbrConstraints(max: number): void {\n        if (this.manifestQualities.length > 0) {\n            const constraints: StrAnyDict = this.getCurrentAbrConstraints(max);\n            this.updateAbrConstraints(constraints.min, constraints.max, this.manifestQualities);\n        }\n    }\n\n    protected updateAbrConstraints(minIdx: number, maxIdx: number, profile: StrAnyDict[]): void {\n        if (minIdx !== this.minAutoLevel || maxIdx !== this.maxAutoLevel) {\n            this.minAutoLevel = minIdx;\n            this.maxAutoLevel = maxIdx;\n\n            this.emit(PlaybackAdapterEvents.ABR_CONSTRAINTS_CHANGE, {\n                minIndex: this.minAutoLevel,\n                maxIndex: this.maxAutoLevel,\n                manifestQualities: profile\n            });\n        }\n    }\n\n    protected getCurrentAbrConstraints(max: number): StrAnyDict {\n        return {\n            min: (max) ? Utils.getIndexForBitrate(this.manifestQualities, this.minBitrate, true) : 0,\n            max: max\n        }\n    }\n\n    protected onVideoSurfaceEvent(e: EventInterface): void {\n        if (e.type === VideoSurfaceEvents.ERROR ||\n            e.type === VideoSurfaceEvents.STALLED ||\n            e.type === VideoSurfaceEvents.ABORT) {\n            this.handleVideoSurfaceError(e);\n        }\n        else if (e.type === VideoSurfaceEvents.TIME_UPDATE && this.blockTimeUpdateEvent) {\n            return;\n        }\n\n        this.emit(e.type, e.data);\n    }\n\n    protected handleVideoSurfaceError(e: EventInterface) {\n        const error = this.videoSurface.video.error;\n        if (error) {\n            switch (error.code) {\n                case MediaError.MEDIA_ERR_ABORTED:\n                    this.throwError(ErrorCode.MEDIA_ABORTED, error, error);\n                    break;\n            }\n        }\n    }\n\n    protected mapEvent(type: string, callback: Function): StrAnyDict {\n        return { type, callback: callback.bind(this) };\n    }\n\n    protected addEvents(adapter: any, map: any, callback?: Function): void {\n\n        const hasOnMethod = Util.isFunction(adapter.on);\n\n        for (let item in map) {\n            const node = map[item];\n            if (hasOnMethod) {\n                adapter.on(node.type || node, node.callback || callback);\n            }\n            else {\n                try {\n                    adapter.addEventListener(node.type || node, node.callback || callback);\n                }\n                catch (e) { /* */ }\n            }\n        }\n    }\n\n    protected removeEvents(adapter: any, map: any, callback?: Function): void {\n\n        const hasOnMethod = Util.isFunction(adapter.on);\n\n        for (let item in map) {\n            const node = map[item];\n            if (hasOnMethod) {\n                adapter.off(node.type || node, node.callback || callback);\n            }\n            else {\n                try {\n                    adapter.removeEventListener(node.type || node, node.callback || callback);\n                }\n                catch (e) { /* */ }\n            }\n        }\n    }\n\n    protected throwError(code: string, message: string, data: any, fatal: boolean = true) {\n        this.log(LogLevel.ERROR, message);\n        this.emit(PlaybackAdapterEvents.ERROR, { code, message, data, fatal });\n    }\n\n    protected log(...args: any[]) {\n        this.logger.log.apply(this.logger, args);\n    }\n\n    protected getErrorMessage(msg: string, isFatal: boolean, retry: string = 'n/a'): string {\n        return `${msg} fatal: ${isFatal} retry: ${retry}`\n    }\n\n    protected normalizeAudioTracks(tracks: StrAnyDict, map?: Partial<AudioTrackInterface>): AudioTrackInterface[] {\n        //tracks.push({ lang: 'en', codec: 'dolby:ec-3' }, { lang: 'klingon', codec: 'ac-3' }) testing non web audio codecs filtering. \n        return tracks.map((item: StrAnyDict, index: number): AudioTrackInterface => ({\n            index: index,\n            id: !isNaN(item[map.id]) ? item[map.id].toString() : !isNaN(item.id) ? item.id.toString() : '',\n            type: item[map.type] || item.type || '',\n            lang: item[map.lang] || item.lang || '',\n            codec: item[map.codec] || item.codec || '',\n            label: item[map.label] || item.label || ''\n        })).filter((item: AudioTrackInterface) => {\n            const c = item.codec;\n            return c === '' || c.indexOf('mp4a') !== -1;\n        });\n    }\n\n    protected normalizeQuality(item: any, index: number): QualityInterface {\n        return {\n            index,\n            bitrate: item.bitrate,\n            height: item.height,\n            width: item.width,\n            codec: item.codec || item.codecs\n        };\n    }\n\n    protected mergeStreamingConfigs(base: any, override: any,) {\n        \n        if (!Util.isEmpty(override?.[this.pType]?.config)) {\n\n            return Util.merge(base, override[this.pType].config);\n        }\n\n        return base;\n    }\n}\n","import { AppResources } from '../../app/AppResources';\nimport { Util } from '../../core/Util';\nimport { ErrorCode } from '../../enum/ErrorCode';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { MetadataCuepoint, VideoSurfaceInterface } from '../../iface';\nimport { AudioTrackInterface } from '../../iface/AudioTrackInterface';\nimport { LiveStreamInfoInterface } from '../../iface/LiveStreamInfoInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { QualityInterface } from '../../iface/QualityInterface';\nimport { ResourceLocationDrmInterface } from '../../iface/ResourceLocationDrmInterface';\nimport { ResourcePlaybackInterface } from '../../iface/ResourcePlaybackInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { DrmType } from '../../util/enum/DrmType';\nimport { DashEmsg } from '../enum/DashEmsg';\nimport { DashjsRobustness } from '../enum/DashjsRobustness';\nimport { Playback } from '../enum/Playback';\nimport { PlaybackAdapterEvents } from '../enum/PlaybackAdapterEvents';\nimport { PlaybackAdapterType } from '../enum/PlaybackAdapterType';\nimport { TextTrackMode } from '../enum/TextTrackMode';\nimport { TextTrackSurfaceEvents } from '../enum/TextTrackSurfaceEvents';\nimport { VideoSurfaceEvents } from '../enum/VideoSurfaceEvents';\nimport { BitrateInfo, Dash, DashFactory, FragmentLoadingCompletedEvent, FragmentRequest, MediaInfo, MediaPlayer, MediaPlayerErrorEvent, PeriodSwitchEvent, QualityChangeRenderedEvent, QualityChangeRequestedEvent, StreamInitializedEvent, TrackChangeRenderedEvent } from '../interface/DashjsInterface';\nimport { DashjsOverrides } from '../interface/DashjsOverrides';\nimport { BasePlaybackAdapter } from './BasePlaybackAdapter';\n\n\nexport class DashjsAdapter extends BasePlaybackAdapter {\n\n    private dash: Dash = (<any>window).dashjs;\n    private dashFactory: DashFactory = (<any>window).dashjs; //Need better TS definition for this.  Decoration of create method on MediaPlayer. \n    private player!: MediaPlayer;\n\n    protected pType = PlaybackAdapterType.DASHJS;\n    private startTime = NaN;\n    private seekTime = NaN;\n    private audioTracks!: MediaInfo[];\n    private ccMode: TextTrackMode;\n    private periodSwitchTimeout: number;\n\n    private dashjsEventMap: StrAnyDict = [\n        {\n            type: this.dash.MediaPlayer.events.STREAM_INITIALIZED,\n            callback: (e: StreamInitializedEvent) => this.onStreamInitialized(e)\n        },\n        {\n            type: this.dash.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,\n            callback: (e: QualityChangeRequestedEvent) => this.onQualityChangeRequested(e)\n        },\n        {\n            type: this.dash.MediaPlayer.events.QUALITY_CHANGE_RENDERED,\n            callback: (e: QualityChangeRenderedEvent) => this.onQualityChangeRendered(e)\n        },\n        {\n            type: this.dash.MediaPlayer.events.FRAGMENT_LOADING_COMPLETED,\n            callback: (e: FragmentLoadingCompletedEvent) => this.onFragmentLoadComplete(e)\n        },\n        {\n            type: this.dash.MediaPlayer.events.TRACK_CHANGE_RENDERED,\n            callback: (e: TrackChangeRenderedEvent) => this.onTrackChangeRendered(e)\n        },\n        {\n            type: this.dash.MediaPlayer.events.ERROR,\n            callback: (e: MediaPlayerErrorEvent) => this.onError(e)\n        },\n        {\n            type: this.dash.MediaPlayer.events.PLAYBACK_SEEKED,\n            callback: (e: PeriodSwitchEvent) => this.onSeekComplete(e)\n        },\n        {\n            type: this.dash.MediaPlayer.events.PERIOD_SWITCH_STARTED,\n            callback: (e: PeriodSwitchEvent) => this.onPeriodSwitchStarted(e)\n        },\n        {\n            type: this.dash.MediaPlayer.events.PERIOD_SWITCH_COMPLETED,\n            callback: (e: PeriodSwitchEvent) => this.onPeriodSwitchCompleted(e)\n        },\n        {\n            type: 'public_keySystemAccessComplete',\n            callback: (e: any) => this.onKeySystemAccessComplete(e)\n        },\n        {\n            type: DashEmsg.GOOGLE_DAI,\n            callback: (e: any) => this.onEmsgDai(e)\n        }\n    ];\n\n    constructor(videoSurface: VideoSurfaceInterface, config: PlaybackAdapterConfigInterface, logger: LoggerInterface) {\n        super(videoSurface, config, logger);\n\n        this.logger.log(LogLevel.INFO, 'DashjsAdapter created');\n    }\n\n    ////////////////////\n    //Public Methods\n    ////////////////////\n    initialize(): void {\n        super.initialize();\n\n        const location = this.config.resource.location;\n\n        this.player = this.dashFactory.MediaPlayer().create();\n\n        this.logger.log(LogLevel.INFO, `Dashjs version: ${this.player.getVersion()}`);\n\n        if (location.drm && location.drm.enabled) {\n            this.player.setProtectionData(this.getProtectionData(location.drm));\n        }\n\n        this.player.initialize(this.videoSurface.video, null, false);\n        this.configurePlayer(this.playback);\n        this.addEvents(this.player, this.dashjsEventMap);\n    }\n\n    destroy(): Promise<void> {\n        clearTimeout(this.periodSwitchTimeout);\n        this.removeEvents(this.player, this.dashjsEventMap);\n        this.player.reset();\n        this.player = null;\n        this.dash = null;\n        this.dashFactory = null;\n        return super.destroy();\n    }\n\n    private configurePlayer(opts: ResourcePlaybackInterface): void {\n\n        this.player.setLimitBitrateByPortal(opts.abr.capQualityToScreenSize);\n        this.player.setLiveDelayFragmentCount(opts.liveEdgeSyncFragmentCount);\n        this.player.getDebug().setLogToBrowserConsole(this.enableLogger);\n        this.player.setManifestLoaderRetryAttempts(DashjsRobustness.MANIFEST_RETRY_ATTEMPTS);\n        this.player.setManifestLoaderRetryInterval(DashjsRobustness.MANIFEST_RETRY_INTERVAL);\n        this.player.setFragmentLoaderRetryAttempts(DashjsRobustness.FRAGMENT_RETRY_ATTEMPTS);\n        this.player.setFragmentLoaderRetryInterval(DashjsRobustness.FRAGMENT_RETRY_INTERVAL);\n        this.player.enableForcedTextStreaming(true);\n        //conditional options\n        !isNaN(opts.abr.startBitrate) && this.player.setInitialBitrateFor(Playback.VIDEO, opts.abr.startBitrate / 1000);\n        !isNaN(opts.abr.minBitrate) && (this.minBitrate = opts.abr.minBitrate);\n        !isNaN(opts.abr.maxBitrate) && (this.maxBitrate = opts.abr.maxBitrate);\n        this.startTime = opts.startTime;\n        /*\n            VTG-1626 - Bug in Dash.js, with Multiperiod and startTime in later periods, then seeking back to earlier period. Due to this, we do not set start time\n            for Dash.js to handle, but rather administer a non gated seek at stream init event if startTime is not NaN, then only set to NaN in seek complete.\n            !isNaN(opts.startTime) && (this.mediaUrl += `#s=${opts.startTime}`);\n        */\n\n        // performance settings\n        const settings = this.config.performanceSettings;\n        if (settings.forwardBufferLength != null) {\n            this.player.setStableBufferTime(settings.forwardBufferLength);\n        }\n        if (settings.backBufferLength != null) {\n            this.player.setBufferToKeep(settings.backBufferLength) //setBufferAheadToKeep look into this as well. \n        }\n        if (settings.topQualityForwardBufferLength != null) {\n            this.player.setBufferTimeAtTopQuality(settings.topQualityForwardBufferLength);\n            this.player.setBufferTimeAtTopQualityLongForm(settings.topQualityForwardBufferLength);\n        }\n\n        //dev override section \n        const o: DashjsOverrides = this.config.resource.overrides?.dashjs;\n        let fastSwitch = true,\n            jumpGaps = true;\n\n        if (!Util.isEmpty(o)) {\n            if (Util.isBoolean(o.fastSwitchEnabled) && o.fastSwitchEnabled !== fastSwitch) {\n                this.logger.log(LogLevel.INFO, `Overriding fastSwitchEnabled default value of ${fastSwitch} with ${o.fastSwitchEnabled}`)\n                fastSwitch = o.fastSwitchEnabled;\n            }\n            if (Util.isBoolean(o.jumpGaps) && o.jumpGaps !== jumpGaps) {\n                this.logger.log(LogLevel.INFO, `Overriding jumpGaps default value of ${jumpGaps} with ${o.jumpGaps}`)\n                jumpGaps = o.jumpGaps;\n            }\n        }\n        this.player.setFastSwitchEnabled(fastSwitch);\n        this.player.setJumpGaps(jumpGaps);\n    }\n\n    protected loadMediaUrl(): Promise<void> {\n        //when loading, until period change complete we will not have a duration so block time update until this point.\n        this.blockTimeUpdateEvent = true;\n        this.player.attachSource(this.mediaUrl);\n        return super.loadMediaUrl();\n    }\n\n    seek(position: number): void {\n        this.seekTime = position;\n        this.blockTimeUpdateEvent = true;\n        this.player.seek(position);\n    }\n\n    play(): void {\n        this.player.play();\n    }\n\n    suspend(): void {\n        this.player.scheduleWhilePaused = false;\n    }\n\n    resume(): void {\n        this.player.scheduleWhilePaused = true;\n    }\n\n    ////////////////////\n    //Accessors\n    ////////////////////\n\n    set audioTrack(track: AudioTrackInterface) {\n        const audioTrack = Util.find(this.audioTracks, t => track.id == t.id);\n        if (!audioTrack) {\n            return;\n        }\n        this.player.setCurrentTrack(audioTrack);\n    }\n\n    set textTrack(track: TextTrack) {\n        this.videoSurface.textTrack = track;\n        this.player.setTextTrack(this.getTextTrackIndex(track));\n    }\n\n    get time(): number {\n        return this.player.time();\n    }\n\n    get duration(): number {\n        return this.player.duration();\n    }\n\n    set currentIndex(index: number) {\n        this.player.setQualityFor(Playback.VIDEO, index);\n    }\n\n    get currentIndex(): number {\n        return this.player.getQualityFor(Playback.VIDEO);\n    }\n\n    set autoQualitySwitching(value: boolean) {\n        this.player.setAutoSwitchQualityFor(Playback.VIDEO, value);\n    }\n\n    get autoQualitySwitching(): boolean {\n        return this.player.getAutoSwitchQualityFor(Playback.VIDEO);\n    }\n\n    set minBitrate(value: number) {\n        //@ts-ignore //https://github.com/Dash-Industry-Forum/dash.js/issues/2918\n        this.player.setMinAllowedBitrateFor(Playback.VIDEO, (value / 1000) - 1);\n    }\n    get minBitrate(): number {\n        //@ts-ignore //https://github.com/Dash-Industry-Forum/dash.js/issues/2918\n        return this.player.getMinAllowedBitrateFor(Playback.VIDEO) * 1000;\n    }\n\n    set maxBitrate(value: number) {\n        this.player.setMaxAllowedBitrateFor(Playback.VIDEO, value / 1000);\n    }\n    get maxBitrate(): number {\n        return this.player.getMaxAllowedBitrateFor(Playback.VIDEO) * 1000;\n    }\n\n    get manifestQualities(): QualityInterface[] {\n        return this.player.getBitrateInfoListFor(Playback.VIDEO).map((item: BitrateInfo, index: number): QualityInterface => ({\n            index,\n            bitrate: item.bitrate,\n            width: item.width,\n            height: item.height,\n            codec: null\n        }));\n    }\n\n    get liveStreamInfo(): LiveStreamInfoInterface {\n\n        const details: LiveStreamInfoInterface = this.liveStreamInfoVO;\n\n        if (this.pIsLiveStream && this.lowLevelDvrDetails && this.time >= 0) {\n            const d = <FragmentRequest>this.lowLevelDvrDetails;\n\n            details.relativeTime = this.time;\n            details.relativeDuration = this.duration;\n            details.absoluteTime = Math.round(this.player.timeAsUTC() * 1000);\n            details.absoluteDuration = Math.round(this.player.durationAsUTC() * 1000);\n            details.dvrWindowSize = this.player.getDVRWindowSize();\n            details.liveEdgeOffset = Math.floor(this.player.getLiveDelay() + d.duration);\n            details.safeSeekingTime = Math.max(details.relativeDuration - details.dvrWindowSize, 0);\n            details.safeSeekingDuration = Math.floor(details.relativeDuration - details.liveEdgeOffset);\n            if (details.safeSeekingDuration < details.relativeTime) {\n                details.safeSeekingDuration = Math.floor(details.relativeTime);\n            }\n            details.isPlayingLive = Math.ceil(details.relativeTime) >= details.safeSeekingDuration;\n        }\n\n        return details;\n    }\n\n    get fragmentType(): string {\n        const track = this.player.getCurrentTrackFor('video');\n        return track ? track.mimeType : '';\n    }\n\n    ////////////////////\n    // Event Handlers\n    ////////////////////\n\n    private onStreamInitialized(e: StreamInitializedEvent): void {\n        this.networkErrorRetryCount = 0;\n        this.pIsLiveStream = this.player.isDynamic();\n        this.emit(PlaybackAdapterEvents.MANIFEST_PARSED, { profile: this.manifestQualities });\n\n        this.audioTracks = this.player.getTracksFor('audio');\n        this.updateAudioTracks();\n\n        if (this.startTime > 0) {\n            this.blockTimeUpdateEvent = true;\n            (<any>this.videoSurface).once(VideoSurfaceEvents.LOADED_METADATA, this.seek.bind(this, this.startTime));\n            this.startTime = NaN;\n        }\n    }\n\n    private onSeekComplete(e: PeriodSwitchEvent): void {\n        const time = this.videoSurface.time;\n        const seek = this.seekTime;\n\n        if (seek > 0) {\n            // When transitioning between periods, sometimes an initial seek\n            // to the start of the period is performed internally by dashjs.\n            // If this happens, re-seek to the previous selected time. \n            const d = (this.lowLevelDvrDetails && this.lowLevelDvrDetails.duration) || 6;\n\n            if (Math.abs(seek - time) > d) {\n                this.seek(seek);\n                return;\n            }\n            else {\n                this.seekTime = NaN;\n            }\n        }\n\n        if (time > 0) {\n            this.blockTimeUpdateEvent = false;\n            this.emit(VideoSurfaceEvents.TIME_UPDATE);\n        }\n    }\n\n    private onPeriodSwitchStarted(e: PeriodSwitchEvent): void {\n        if (this.videoSurface.time > 0) {\n            this.blockTimeUpdateEvent = true;\n        }\n\n        // The mode of the text tracks is changed internally when switching periods.\n        // Capture the current value so it can be restored when the period completes.\n        const { mode, enabledMode } = this.config.textTrackSettings;\n        if (mode == enabledMode) {\n            this.ccMode = mode;\n        }\n    }\n\n    private onEmsgDai(e: any): void {\n\n        if (!e && !e.event) {\n            return;\n        }\n\n        const vo: MetadataCuepoint = {\n            id: DashEmsg.GOOGLE_DAI,\n            info: e.event.messageData,\n            data: e.event\n        }\n\n        this.logger.log(LogLevel.DEBUG, `DAI - Event ID: ${e.event.id} Start time: ${e.event.presentationTime} Impression ID: ${e.event.messageData}`);\n\n        this.emit(TextTrackSurfaceEvents.METADATA_CUEPOINT, vo);\n    }\n\n    private onPeriodSwitchCompleted(e: PeriodSwitchEvent): void {\n        // Fix for issues where cues aren't added to text tracks after switching periods,\n        // The timeout is for an issue where SmartTV implementations freeze up going into \n        // mid-rolls if the mode is applied too soon after a period switch.\n\n        // TODO: Ideally this would be run on seekcomplete, but that event doesn't always \n        //       fire when periods change. Wait a full second to ensure the period has\n        //       finished transitioning, and any subsequent seeks have completed.\n        if (this.ccMode) {\n            const index = this.getTextTrackIndex(this.videoSurface.textTrack);\n            this.player.setTextTrack(-1);\n            this.periodSwitchTimeout = setTimeout(() => {\n                // Restore the text track mode.\n                this.textTrackMode = this.ccMode;\n                this.ccMode = null;\n                this.player.setTextTrack(index);\n            }, 1000);\n        }\n\n        // ignore period switch events that occur before seek is complete\n        if (this.seekTime > 0 || (e.toStreamInfo.index > 1 && this.videoSurface.time == 0)) {\n            return;\n        }\n\n        this.blockTimeUpdateEvent = false;\n    }\n\n    private onKeySystemAccessComplete(e: any): void {\n        if (e.data) {\n            this.emit(PlaybackAdapterEvents.DRM_KEYSYSTEM_CREATED, { keysystem: e.data.mksa.keySystem });\n        }\n    }\n\n    private updateAudioTracks(): void {\n\n        const current = this.getCurrentAudioTrackInfo(this.player.getCurrentTrackFor('audio').id);\n\n        this.normalizedAudioTracks = this.normalizeAudioTracks(this.audioTracks, {\n            type: 'roles',\n            label: 'lang'\n        });\n\n        this.normalizedAudioTracks.forEach(audioTrack => {\n            if (Array.isArray(audioTrack.type)) {\n                // @ts-ignore\n                audioTrack.type = audioTrack.type.join(',');\n            }\n        });\n\n        if (current) {\n            this.emit(PlaybackAdapterEvents.AUDIO_TRACK_UPDATED, {\n                tracks: this.normalizedAudioTracks,\n                track: this.normalizedAudioTracks[current.index],\n            });\n        }\n    }\n\n    private onTrackChangeRendered(e: TrackChangeRenderedEvent): void {\n        if (e.mediaType === Playback.AUDIO) {\n            const current = this.getCurrentAudioTrackInfo(this.player.getCurrentTrackFor('audio').id);\n            this.emit(PlaybackAdapterEvents.AUDIO_TRACK_CHANGE, { track: this.normalizedAudioTracks[current.index] });\n        }\n    }\n\n    private getCurrentAudioTrackInfo(id: string): StrAnyDict {\n\n        let v = { index: 0, track: this.audioTracks[0] },\n            i = this.audioTracks.length;\n\n        while (i--) {\n            if (this.audioTracks[i].id === id) {\n                v = { index: i, track: this.audioTracks[i] };\n                return v;\n            }\n        }\n\n        return v;\n    }\n\n    private onQualityChangeRequested(e: QualityChangeRequestedEvent): void {\n        if (e.mediaType === Playback.VIDEO) {\n            //TODO check to see if we still need to switch started type event.  none used in old player. \n            this.emit(PlaybackAdapterEvents.ABR_QUALITY_SWITCHING, { index: e.newQuality });\n        }\n    }\n\n    private onQualityChangeRendered(e: QualityChangeRenderedEvent): void {\n        if (e.mediaType === Playback.VIDEO) {\n            this.checkAbrConstraints(this.player.getTopBitrateInfoFor(Playback.VIDEO).qualityIndex);\n            this.emit(PlaybackAdapterEvents.ABR_QUALITY_LOADED, { index: e.newQuality });\n        }\n    }\n\n    private onFragmentLoadComplete(e: FragmentLoadingCompletedEvent): void {\n        this.networkErrorRetryCount = 0;\n\n        if (e.request.mediaType === Playback.VIDEO) {\n            this.lowLevelDvrDetails = e.request;\n\n            const info = this.player.getTopBitrateInfoFor(Playback.VIDEO);\n            if (info) {\n                this.checkAbrConstraints(info.qualityIndex);\n            }\n\n            if (this.multiCdnHeaderPresent) {\n                const metric = this.player.getMetricsFor(Playback.VIDEO).HttpList;\n                if (metric && metric.length > 0) {\n\n                    const header = this.getCdnResponseHeader(metric[metric.length - 1]._responseHeaders);\n                    this.multiCdnHeaderPresent = !!header;\n                    if (this.multiCdnHeaderPresent) {\n                        this.emit(PlaybackAdapterEvents.MULTI_CDN, { cdn: header });\n                    }\n                }\n            }\n            //@ts-ignore\n            this.emit(PlaybackAdapterEvents.FRAGMENT_LOADED, { bandwidth: this.player.getAverageThroughput(Playback.VIDEO) });\n        }\n    }\n\n    private onError(e: MediaPlayerErrorEvent): void {\n\n        if (e.error.code) {\n            switch (e.error.code) {\n                case this.dash.MediaPlayer.errors.DOWNLOAD_ERROR_ID_CONTENT_CODE:\n                case this.dash.MediaPlayer.errors.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:\n                case this.dash.MediaPlayer.errors.DOWNLOAD_ERROR_ID_MANIFEST_CODE:\n                    this.handleNetworkErrors(e);\n                    break;\n\n                case this.dash.MediaPlayer.errors.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:\n                    this.throwError(ErrorCode.DASHJS_PARSE_ERROR,\n                        `${AppResources.messages.FATAL_PLAYBACK_MEDIA_ERROR} : ${e.error.message}`, e.error);\n                    break;\n\n                case this.dash.MediaPlayer.errors.MEDIASOURCE_TYPE_UNSUPPORTED_CODE:\n                    this.throwError(ErrorCode.DASHJS_SRC_NOT_SUPPORTED,\n                        `${AppResources.messages.FATAL_PLAYBACK_MEDIA_ERROR} : ${e.error.message}`, e.error);\n                    break;\n\n                //TODO Test\n                case this.dash.MediaPlayer.errors.MEDIA_KEYERR_CODE:\n                case this.dash.MediaPlayer.errors.MEDIA_KEYERR_UNKNOWN_CODE:\n                case this.dash.MediaPlayer.errors.MEDIA_KEYERR_CLIENT_CODE:\n                case this.dash.MediaPlayer.errors.MEDIA_KEYERR_SERVICE_CODE:\n                case this.dash.MediaPlayer.errors.MEDIA_KEYERR_OUTPUT_CODE:\n                case this.dash.MediaPlayer.errors.MEDIA_KEYERR_HARDWARECHANGE_CODE:\n                case this.dash.MediaPlayer.errors.MEDIA_KEYERR_DOMAIN_CODE:\n                case this.dash.MediaPlayer.errors.CAPABILITY_MEDIAKEYS_ERROR_CODE:\n                    this.throwError(ErrorCode.DASHJS_DRM_ERROR,\n                        `${AppResources.messages.FATAL_PLAYBACK_MEDIA_ERROR} : ${e.error.message}`, e.error);\n                    break;\n\n                default:\n                    this.throwError(ErrorCode.UNSPECIFIED_DASHJS_ERROR, e.error.message, e.error, false);\n            }\n        }\n    }\n\n    ////////////////////\n    // Private Methods\n    ////////////////////\n\n    private handleNetworkErrors(e: MediaPlayerErrorEvent): void {\n\n        const max = DashjsRobustness.FATAL_ERROR_RECOVERY_ATTEMPTS;\n\n        if (this.networkErrorRetryCount < max) {\n            if (e.error.code === this.dash.MediaPlayer.errors.DOWNLOAD_ERROR_ID_MANIFEST_CODE) {\n                this.player.setManifestLoaderRetryAttempts(1);\n                this.player.setManifestLoaderRetryInterval(DashjsRobustness.FATAL_ERROR_RECOVERY_ATTEMPTS * this.networkErrorRetryCount);\n            }\n            this.player.attachSource(this.mediaUrl += `#s=${this.player.time()}`);\n            this.player.play();\n            this.networkErrorRetryCount++;\n            this.log(LogLevel.ERROR, this.getErrorMessage(\n                AppResources.messages.RETRY_PLAYBACK_NETWORK_ERROR,\n                false,\n                `${this.networkErrorRetryCount} / ${max}`\n            ), e.error);\n        }\n        else {\n            this.throwError(ErrorCode.DASHJS_NETWORK_ERROR,\n                `${AppResources.messages.FATAL_PLAYBACK_NETWORK_ERROR} : ${e.error.message}`, e.error);\n        }\n    }\n\n    private getCdnResponseHeader(headers: any): string | null {\n        if (headers) {\n\n            var map: StrAnyDict = {};\n\n            headers = headers.trim().split(/[\\r\\n]+/);\n\n            headers.forEach(function (item: string) {\n                var parts = item.split(': ');\n                var header = parts.shift();\n                var value = parts.join(': ');\n                map[header] = value;\n            });\n\n            return map[Playback.MULTI_CDN] || null;\n        }\n\n        return null;\n    }\n\n    private getProtectionData(drmParams: ResourceLocationDrmInterface) {\n\n        const data: StrAnyDict = {};\n\n        if (!Util.isEmpty(drmParams.widevine)) {\n            data[DrmType.WIDEVINE] = {\n                serverURL: drmParams.widevine.url,\n                httpRequestHeaders: drmParams.widevine.header,\n                audioRobustness: 'SW_SECURE_CRYPTO',\n                videoRobustness: 'SW_SECURE_CRYPTO'\n            }\n        }\n\n        if (!Util.isEmpty(drmParams.playready)) {\n            data[DrmType.PLAYREADY] = {\n                serverURL: drmParams.playready.url,\n                httpRequestHeaders: drmParams.playready.header,\n                audioRobustness: 'SW_SECURE_CRYPTO',\n                videoRobustness: 'SW_SECURE_CRYPTO'\n            }\n        }\n\n        return data;\n    }\n\n    private getTextTrackIndex(track: TextTrack): number {\n        return Util.findIndex(this.videoSurface.textTracks, t => track == t);\n    }\n}\n","export enum HlsjsRobustness {\n    BUFFER_LEVEL_PRELOAD = 12,\n    BUFFER_LEVEL_PLAYBACK = 60,\n    MANIFEST_RETRY_ATTEMPTS = 2,\n    MANIFEST_RETRY_DELAY = 1000,\n    LEVEL_RETRY_TIMEOUT = 2000,\n    LEVEL_RETRY_DELAY = 500,\n    FRAGMENT_RETRY_TIMEOUT = 2000,\n    FRAGMENT_RETRY_DELAY = 500,    \n    FATAL_ERROR_RECOVERY_ATTEMPTS = 3\n}    ","import { Util } from '../../core/Util';\nimport { Range } from '../../iface';\nimport { LiveStreamInfoInterface } from '../../iface/LiveStreamInfoInterface';\nimport { BasePlaybackAdapter } from './BasePlaybackAdapter';\n\n\nexport abstract class BaseHtml5Adapter extends BasePlaybackAdapter {\n\n    private lastKnownTimes: any = {\n        absolute: NaN,\n        relative: NaN,\n        end: NaN\n    };\n\n    seek(position: number): void {\n        if (this.pIsLiveStream) {\n            const lsi = this.liveStreamInfoVO;\n            position = Util.mapToRange(position, 0, lsi.relativeDuration, lsi.safeSeekingTime, lsi.safeSeekingDuration);\n        }\n        super.seek(position);\n    }\n\n    ////////////////////\n    //Accessors\n    ////////////////////\n    get time(): number {\n        return (this.pIsLiveStream) ? this.liveStreamInfoVO.relativeTime : this.videoSurface.time;\n    }\n\n    get duration(): number {\n        return (this.pIsLiveStream) ? this.liveStreamInfoVO.relativeDuration : this.videoSurface.duration;\n    }\n\n    get seekable(): Range {\n        const result = { start: 0, end: 0 };\n        const video = this.videoSurface.video;\n        const range = video.seekable;\n        const index = range.length - 1;\n        if (index >= 0) {\n            result.start = range.start(index);\n            result.end = range.end(index);\n        }\n\n        return result;\n    }\n\n    get segmentDuration() {\n        return 6;\n    }\n\n    get liveStreamInfo(): LiveStreamInfoInterface {\n        const details: LiveStreamInfoInterface = this.liveStreamInfoVO;\n        const video = this.videoSurface.video;\n        const { start, end } = this.seekable;\n        const time = video.currentTime;\n        const duration = end - start;\n        const segmentDuration = this.segmentDuration;\n        const count = this.playback.liveEdgeSyncFragmentCount;\n\n        details.relativeTime = Math.max(time - start, 0);\n        details.relativeDuration = duration;\n        details.absoluteDuration = Date.now();\n        details.dvrWindowSize = Math.floor(duration);\n        details.liveEdgeOffset = (segmentDuration * count) + segmentDuration;\n        details.safeSeekingTime = Math.ceil(start);\n        details.safeSeekingDuration = Math.floor(end);\n        details.isPlayingLive = Math.ceil(time + details.liveEdgeOffset) >= details.safeSeekingDuration;\n\n        if (end != this.lastKnownTimes.end) {\n            this.lastKnownTimes.end = end;\n            this.lastKnownTimes.absolute = Math.round(details.absoluteDuration - (details.relativeTime * 1000));\n            this.lastKnownTimes.relative = time;\n        }\n\n        const delta = Math.round((time - this.lastKnownTimes.relative) * 1000);\n        details.absoluteTime = this.lastKnownTimes.absolute + delta;\n\n        //Temp log line until we insure Tracking is happy with this solution.  Follow VTG-1977 for more info. \n        //console.log('Live streams UTC time', details.absoluteTime, new Date(Math.floor(details.absoluteTime * 1000)));\n\n        return details;\n    }\n}             \n","import { AppResources } from '../../app/AppResources';\nimport { Util } from '../../core/Util';\nimport { ErrorCode } from '../../enum/ErrorCode';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { Range, VideoSurfaceInterface } from '../../iface';\nimport { AudioTrackInterface } from '../../iface/AudioTrackInterface';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { QualityInterface } from '../../iface/QualityInterface';\nimport { ResourcePlaybackAbrInterface } from '../../iface/ResourcePlaybackAbrInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { Utils } from '../../util/Utils';\nimport { HlsjsRobustness } from '../enum/HlsjsRobustness';\nimport { Playback } from '../enum/Playback';\nimport { PlaybackAdapterEvents } from '../enum/PlaybackAdapterEvents';\nimport { PlaybackAdapterType } from '../enum/PlaybackAdapterType';\nimport { TextTrackMode } from '../enum/TextTrackMode';\nimport { TextTrackSurfaceEvents } from '../enum/TextTrackSurfaceEvents';\nimport { audioTracksUpdatedData, audioTrackSwitchedData, errorData, fragLoadedData, Hls, Level, levelLoadedData, levelSwitchedData, levelSwitchingData, levelUpdatedData, manifestLoadedData, manifestParsedData } from '../interface/HlsjsInterface';\nimport { BaseHtml5Adapter } from './BaseHtml5Adapter';\n\n\nexport class HlsjsAdapter extends BaseHtml5Adapter {\n\n    protected pType = PlaybackAdapterType.HLSJS;\n\n    private Hls: Hls = (<any>window).Hls;//static version of Hls and all static properties. \n    private player!: Hls; //hls instantiated instance. \n    private pFramerate: number = Number.NaN;\n    private pFragmentType: string = '';\n\n    private hlsjsEventMap: StrAnyDict = [\n        {\n            type: this.Hls.Events.MANIFEST_PARSED,\n            callback: (type: string, data: manifestParsedData) => this.onManifestParsed(type, data)\n        },\n        {\n            type: this.Hls.Events.MANIFEST_LOADED,\n            callback: (type: string, data: manifestLoadedData) => this.onManifestLoaded(type, data)\n        },\n        {\n            type: this.Hls.Events.LEVEL_LOADED,\n            callback: (type: string, data: any) => this.onLevelLoaded(type, data)\n        },\n        {\n            type: this.Hls.Events.LEVEL_UPDATED,\n            callback: (type: string, data: levelUpdatedData) => this.onLevelUpdated(type, data)\n        },\n        {\n            type: this.Hls.Events.LEVEL_SWITCHING,\n            callback: (type: string, data: levelSwitchingData) => this.onLevelSwitching(type, data)\n        },\n        {\n            type: this.Hls.Events.LEVEL_SWITCHED,\n            callback: (type: string, data: levelSwitchedData) => this.onLevelSwitched(type, data)\n        },\n        {\n            type: this.Hls.Events.FRAG_LOADED,\n            callback: (type: string, data: any) => this.onFragmentLoaded(type, data)\n        },\n        {\n            type: this.Hls.Events.FRAG_PARSING_DATA,\n            callback: (type: string, data: any) => this.onFragmentParsingData(type, data)\n        },\n        {\n            type: this.Hls.Events.AUDIO_TRACKS_UPDATED,\n            callback: (type: string, data: audioTracksUpdatedData) => this.onAudioTrackUpdated(type, data)\n        },\n        {\n            type: this.Hls.Events.AUDIO_TRACK_SWITCHED,\n            callback: (type: string, data: audioTrackSwitchedData) => this.onAudioTrackSwitched(type, data)\n        },\n        {\n            type: this.Hls.Events.ERROR,\n            callback: (type: string, data: errorData) => this.onError(type, data)\n        }\n    ];\n\n    constructor(videoSurface: VideoSurfaceInterface, config: PlaybackAdapterConfigInterface, logger: LoggerInterface) {\n        super(videoSurface, config, logger);\n        this.logger.log(LogLevel.INFO, 'HlsjsAdapter created');\n    }\n\n    ////////////////////\n    //Public Methods\n    ////////////////////\n\n    initialize(): void {\n\n        super.initialize();\n\n        let hlsConfig = this.Hls.DefaultConfig;\n        hlsConfig.debug = this.enableLogger;\n        hlsConfig.capLevelToPlayerSize = this.playback.abr.capQualityToScreenSize;\n        //hlsConfig.capLevelOnFPSDrop = todo?\n        hlsConfig.autoStartLoad = false;\n        hlsConfig.liveSyncDurationCount = this.playback.liveEdgeSyncFragmentCount;\n\n        hlsConfig.manifestLoadingMaxRetry = HlsjsRobustness.MANIFEST_RETRY_ATTEMPTS;\n        hlsConfig.manifestLoadingRetryDelay = HlsjsRobustness.MANIFEST_RETRY_DELAY;\n        hlsConfig.levelLoadingRetryDelay = HlsjsRobustness.LEVEL_RETRY_DELAY;\n        hlsConfig.levelLoadingTimeOut = HlsjsRobustness.LEVEL_RETRY_TIMEOUT;\n        hlsConfig.fragLoadingRetryDelay = HlsjsRobustness.FRAGMENT_RETRY_DELAY;\n        hlsConfig.fragLoadingTimeOut = HlsjsRobustness.FRAGMENT_RETRY_TIMEOUT;\n        hlsConfig.enableCEA708Captions = true;\n\n        hlsConfig.xhrSetup = this.onRequest.bind(this);\n\n        // performance settings\n        const settings = this.config.performanceSettings;\n        if (settings.forwardBufferLength != null) {\n            hlsConfig.maxBufferLength = settings.forwardBufferLength;\n        }\n        if (settings.backBufferLength != null) {\n            hlsConfig.liveBackBufferLength = settings.backBufferLength;\n        }\n        if (settings.topQualityForwardBufferLength != null) {\n            hlsConfig.maxMaxBufferLength = settings.topQualityForwardBufferLength;\n        }\n\n        hlsConfig = this.mergeStreamingConfigs(hlsConfig, this.config.resource.overrides);        \n        \n        this.logger.log(LogLevel.INFO, `Hlsjs version: ${this.Hls.version}`);\n        this.player = new this.Hls(hlsConfig);\n\n        // This tells hlsjs to use \"showing\" or \"hidden\" when selecting a text track.\n        this.player.subtitleDisplay = this.config.textTrackSettings.native;\n        this.player.attachMedia(this.videoSurface.video);\n        this.addEvents(this.player, this.hlsjsEventMap);\n    }\n\n    protected loadMediaUrl(): Promise<void> {\n        this.player.loadSource(this.mediaUrl);\n        return super.loadMediaUrl();\n    }\n\n    destroy(): Promise<void> {\n        return super.destroy()\n            .then(() => {\n                this.removeEvents(this.player, this.hlsjsEventMap);\n                this.player.destroy();\n                this.player = null;\n                this.Hls = null;\n            });\n    }\n\n    play(): void {\n        if (this.player.config.maxMaxBufferLength != HlsjsRobustness.BUFFER_LEVEL_PLAYBACK) {\n            this.player.config.maxMaxBufferLength = HlsjsRobustness.BUFFER_LEVEL_PLAYBACK;\n        }\n        super.play();\n    }\n\n    suspend(): void {\n        this.player.stopLoad();\n    }\n\n    resume(): void {\n        this.player.startLoad();\n    }\n    ////////////////////\n    //Accessors\n    ////////////////////\n    set audioTrack(track: AudioTrackInterface) {\n        this.player.audioTrack = track.index;\n    }\n\n    set currentIndex(index: number) {\n        this.player.loadLevel = index;\n    }\n    get currentIndex(): number {\n        return this.player.loadLevel;\n    }\n\n    set autoQualitySwitching(value: boolean) {\n        this.player.loadLevel = value ? -1 : this.player.nextLoadLevel;\n    }\n    get autoQualitySwitching(): boolean {\n        return this.player.loadLevel === -1;\n    }\n\n    set minBitrate(value: number) {\n        this.player.config.minAutoBitrate = value;\n    }\n    get minBitrate(): number {\n        return this.player.config.minAutoBitrate;\n    }\n\n    set maxBitrate(value: number) {\n        if (!this.player.config.capLevelToPlayerSize) {\n            this.player.autoLevelCapping = isNaN(value) ? -1 : Utils.getIndexForBitrate(this.player.levels, value, false);\n        }\n        else {\n            this.logger.log(LogLevel.WARN, AppResources.messages.CAP_LEVEL_MAXBITRATE);\n        }\n    }\n    get maxBitrate(): number {\n        return this.player.levels[this.player.autoLevelCapping].bitrate;\n    }\n\n    get manifestQualities(): QualityInterface[] {\n        return this.player.levels.map((item: Level, index: number): QualityInterface => ({\n            index,\n            bitrate: item.bitrate,\n            width: item.width,\n            height: item.height,\n            codec: (item.attrs) ? item.attrs.CODECS : undefined\n        }));\n    }\n\n    get seekable(): Range {\n        const duration = this.videoSurface.video.duration;\n        const dvr = (this.lowLevelDvrDetails) ? this.lowLevelDvrDetails.totalduration : 0;\n        return { start: duration - dvr, end: duration };\n    }\n\n    get segmentDuration(): number {\n        return (this.lowLevelDvrDetails) ? this.lowLevelDvrDetails.averagetargetduration : super['segmentDuration'];\n    }\n\n    get framerate(): number {\n        return this.pFramerate;\n    }\n\n    get fragmentType(): string {\n        return this.pFragmentType;\n    }\n\n    ////////////////////\n    //Event Handlers\n    ////////////////////  \n    protected onVideoSurfaceEvent(e: EventInterface): void {\n        switch (e.type) {\n            case TextTrackSurfaceEvents.TEXT_TRACK_CHANGE:\n            case TextTrackSurfaceEvents.TEXT_TRACK_DISPLAY_MODE_CHANGE:\n                const track = this.videoSurface.textTrack;\n                const mode = track.mode;\n                const enabled = mode != TextTrackMode.DISABLED;\n                if (enabled) {\n                    const index = Util.findIndex(this.player.subtitleTracks, (t) => t.lang == track.language && t.name == track.label);\n                    if (this.player.subtitleTrack != index) {\n                        this.player.subtitleTrack = index;\n                    }\n                }\n                break;\n        }\n\n        super.onVideoSurfaceEvent(e);\n    }\n\n    private onManifestParsed(type: string, data: manifestParsedData): void {\n        this.emit(PlaybackAdapterEvents.MANIFEST_PARSED, { profile: this.manifestQualities });\n    }\n\n    private onManifestLoaded(type: string, data: manifestLoadedData): void {\n        //TODO Do we want separation for loading the manifest vs loading the fragments? or bundle into one concept. Discuss.\n\n        const startTime = this.playback.startTime;\n        this.player.startLoad(!isNaN(startTime) ? startTime : -1);\n\n        if (this.player.subtitleTracks.length > 0) {\n            this.player.subtitleTrack = -1;\n        }\n\n        this.setBitrateRestrictionAtStartup();\n        this.emit(PlaybackAdapterEvents.MANIFEST_LOADED);\n    }\n\n    private onLevelLoaded(type: string, data: levelLoadedData): void { //set type to any, hls definition of level is missing but is present at RT.\n        this.lowLevelDvrDetails = data.details;\n        this.pIsLiveStream = this.lowLevelDvrDetails.live;\n        this.emit(PlaybackAdapterEvents.ABR_QUALITY_LOADED, { index: data.level });\n    }\n\n    private onLevelUpdated(type: string, data: levelUpdatedData): void {\n        //@ts-ignore\n        this.checkAbrConstraints(this.player.maxAutoLevel);\n    }\n\n    private onLevelSwitching(type: string, data: levelSwitchingData): void {\n        //TODO check to see if we still need to switch started type event.  none using in old player.\n        this.emit(PlaybackAdapterEvents.ABR_QUALITY_SWITCHING, { index: data.level });\n    }\n\n    private onLevelSwitched(type: string, data: levelSwitchedData): void {\n        this.emit(PlaybackAdapterEvents.ABR_QUALITY_LOADED, { index: data.level });\n    }\n\n    private onFragmentLoaded(type: string, data: fragLoadedData): void { //stats missing from ts def for Hls.fragloadData\n        this.networkErrorRetryCount = 0;\n        this.mediaErrorRetryCount = 0;\n        if (!this.pFragmentType) {\n            this.pFragmentType = Util.getMimeType(data.frag.url);\n        }\n\n        //@ts-ignore\n        this.checkAbrConstraints(this.player.maxAutoLevel);\n\n        const bw = (data.stats.loaded * 8000) / Number(window.performance.now() - data.stats.trequest);\n        this.emit(PlaybackAdapterEvents.FRAGMENT_LOADED, { bandwidth: bw });\n    }\n\n    private onFragmentParsingData(type: any, data: any): void { //missing params from ts def for Hls.fragParsingData\n        this.pFramerate = data.nb / (data.endPTS - data.startPTS);\n        this.emit(PlaybackAdapterEvents.FRAGMENT_PARSED, { rate: this.pFramerate });\n    }\n\n    private onAudioTrackUpdated(type: string, data: audioTracksUpdatedData) {\n\n        this.normalizedAudioTracks = this.normalizeAudioTracks(this.player.audioTracks, {\n            codec: 'audioCodec',\n            label: 'name'\n        });\n\n        this.emit(PlaybackAdapterEvents.AUDIO_TRACK_UPDATED, {\n            tracks: this.normalizedAudioTracks,\n            track: this.normalizedAudioTracks[this.player.audioTrack],\n        });\n    }\n\n    private onAudioTrackSwitched(type: string, data: audioTrackSwitchedData) {\n        this.emit(PlaybackAdapterEvents.AUDIO_TRACK_CHANGE, { track: this.normalizedAudioTracks[parseInt(data.id)] });\n    }\n\n    private onRequest(xhr: XMLHttpRequest, url: string): void {\n        xhr.withCredentials = (url.indexOf('akamaihd') > -1 && url.indexOf('csmil') > -1);\n\n        if (this.multiCdnHeaderPresent) {\n            xhr.addEventListener('readystatechange', (e: any) => {\n                if (url.indexOf('.ts') !== -1 && xhr.readyState === XMLHttpRequest.HEADERS_RECEIVED) {\n\n                    if (this.multiCdnHeaderPresent) {\n                        var headers = xhr.getAllResponseHeaders();\n                        this.multiCdnHeaderPresent = headers.indexOf(Playback.MULTI_CDN) !== -1;\n\n                        if (this.multiCdnHeaderPresent) {\n                            this.emit(PlaybackAdapterEvents.MULTI_CDN, { cdn: xhr.getResponseHeader(Playback.MULTI_CDN.toUpperCase()) })\n                        }\n                    }\n                }\n            });\n        }\n    }\n\n    private onError(type: string, data: errorData): void {\n\n        let code = ErrorCode.UNSPECIFIED_HLSJS_ERROR;\n\n        switch (data.type) {\n            case this.Hls.ErrorTypes.NETWORK_ERROR:\n                data.fatal && this.handleNetworkErrors(data);\n                break;\n\n            case this.Hls.ErrorTypes.MEDIA_ERROR:\n                data.fatal && this.handleMediaErrors(data);\n                break;\n\n            case this.Hls.ErrorTypes.MUX_ERROR:\n                code = ErrorCode.HLSJS_MUX_ERROR;\n            //no break is intended.             \n            default:\n                //TODO add message in AppResource for general error prefix to details\n                const msg = this.getErrorMessage(`${data.details}`, data.fatal);\n                this.log(LogLevel.ERROR, msg, data);\n                this.throwError(code, msg, data, data.fatal);\n        }\n    }\n\n    ////////////////////\n    // Private Methods\n    ////////////////////\n\n    private handleNetworkErrors(data: errorData): void {\n        const max = HlsjsRobustness.FATAL_ERROR_RECOVERY_ATTEMPTS,\n            ErrorDetails = this.Hls.ErrorDetails;\n\n        switch (data.details) {\n\n            case ErrorDetails.LEVEL_LOAD_ERROR:\n            case ErrorDetails.FRAG_LOAD_ERROR:\n                if (this.networkErrorRetryCount < max) {\n\n                    this.player.startLoad();\n                    this.networkErrorRetryCount++;\n\n                    //retry logging                    \n                    this.log(LogLevel.ERROR, this.getErrorMessage(\n                        AppResources.messages.RETRY_PLAYBACK_NETWORK_ERROR, false,\n                        `${this.networkErrorRetryCount} / ${max}`\n                    ));\n                    break;\n                }\n                this.throwError(ErrorCode.HLSJS_NETWORK_ERROR,\n                    AppResources.messages.FATAL_PLAYBACK_NETWORK_ERROR, data);\n                break;\n\n            case ErrorDetails.MANIFEST_PARSING_ERROR:\n                this.throwError(ErrorCode.HLSJS_PARSE_ERROR,\n                    `${AppResources.messages.FATAL_PLAYBACK_NETWORK_ERROR} : ${data.details}`, data);\n                break;\n\n            default:\n                this.throwError(ErrorCode.HLSJS_NETWORK_ERROR, `${AppResources.messages.FATAL_PLAYBACK_NETWORK_ERROR} : ${data.details}`, data, data.fatal);\n        }\n    }\n\n    private handleMediaErrors(data: errorData): void {\n\n        const max = HlsjsRobustness.FATAL_ERROR_RECOVERY_ATTEMPTS,\n            ErrorDetails = this.Hls.ErrorDetails;\n\n        switch (data.details) {\n            case ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR:\n                this.throwError(ErrorCode.HLSJS_SRC_NOT_SUPPORTED,\n                    `${AppResources.messages.FATAL_PLAYBACK_MEDIA_ERROR} : ${data.details}`, data);\n                break;\n\n            default:\n\n                if (this.mediaErrorRetryCount < max) {\n                    if (this.mediaErrorRetryCount === 1) {\n                        this.player.swapAudioCodec();\n                    }\n                    this.player.recoverMediaError();\n                    this.mediaErrorRetryCount++;\n\n                    //retry logging                    \n                    this.log(LogLevel.ERROR, this.getErrorMessage(\n                        AppResources.messages.RETRY_PLAYBACK_MEDIA_ERROR, false,\n                        `${this.mediaErrorRetryCount} / ${max}`\n                    ));\n\n                    break;\n                }\n\n                this.throwError(ErrorCode.HLSJS_MEDIA_ERROR,\n                    `${AppResources.messages.FATAL_PLAYBACK_MEDIA_ERROR} : ${data.details}`, data);\n        }\n    }\n\n    private setBitrateRestrictionAtStartup(): void {\n        const abr: ResourcePlaybackAbrInterface = this.playback.abr;\n\n        if (!isNaN(abr.minBitrate)) {\n            this.minBitrate = abr.minBitrate - 1; // HLS.js does not look at >= so we need to set the min just one below the actual bitrate. To ease developer confusion, handle inline.\n        }\n\n        if (!isNaN(abr.maxBitrate)) {\n            this.maxBitrate = abr.maxBitrate;\n        }\n\n        if (!isNaN(abr.startBitrate)) {\n            const levels: Level[] = this.player.levels;\n            const index = Utils.getIndexForBitrate(levels, abr.startBitrate, false);\n            if (Util.inRange(index, 0, levels.length - 1)) {\n                this.player.config.startLevel = index;\n            }\n            else {\n                //log warning here no error event needed.  \n            }\n        }\n    }\n}\n","\nexport enum MediaError {\n    MEDIA_ERR_ABORTED = 1,\t\n    MEDIA_ERR_NETWORK = 2,\n    MEDIA_ERR_DECODE = 3,\n    MEDIA_ERR_SRC_NOT_SUPPORTED\t= 4,\n}","export enum DrmVendor {\n    IRDETO = 'irdeto',\n    DRM_TODAY = 'drmtoday',\n    UNKNOWN = 'unknown'\n}","import { AppResources } from '../../app/AppResources';\nimport { Emitter } from '../../core/Emitter';\nimport { QueryString } from '../../core/QueryString';\nimport { Util } from '../../core/Util';\nimport { AsyncDataRequest } from '../../dataservice/AsyncDataRequest';\nimport { AsyncDataRequestOptions } from '../../dataservice/AsyncDataRequestOptions';\nimport { ErrorCode } from '../../enum/ErrorCode';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { ServiceName } from '../../enum/ServiceName';\nimport { XhrResponseType } from '../../enum/XhrResponseType';\nimport { VideoSurfaceInterface } from '../../iface';\nimport { AsyncDataRequestOptionsInterface } from '../../iface/AsyncDataRequestOptionsInterface';\nimport { EventHandler } from '../../iface/EventHandler';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { ResourceLocationDrmInterface } from '../../iface/ResourceLocationDrmInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { SystemService } from '../../service/SystemService';\nimport { DrmType } from '../../util/enum/DrmType';\nimport { DrmVendor } from '../enum/DrmVendor';\nimport { PlaybackAdapterEvents } from '../enum/PlaybackAdapterEvents';\nimport { VideoSurfaceEvents } from '../enum/VideoSurfaceEvents';\n\n\nexport class FairPlay extends Emitter {\n\n    private WEBKIT_KEY_MESSAGE = 'webkitkeymessage';\n    private WEBKIT_KEY_ADDED = 'webkitkeyadded';\n    private WEBKIT_KEY_ERROR = 'webkitkeyerror';\n\n    private videoSurface: VideoSurfaceInterface;\n    private drmInfo: ResourceLocationDrmInterface;\n    private logger: LoggerInterface;\n    private drmVendor: string;\n    private appCertData: Uint8Array;\n    private initData: Uint16Array\n    private appCertLoaded: boolean = false;\n    private webKitNeedKeyCalled: boolean = false;\n    private webkitNeedKeyHandler: EventHandler = (e: EventInterface) => this.onWebkitNeedKey(e);\n\n    constructor(videoSurface: VideoSurfaceInterface,\n        config: PlaybackAdapterConfigInterface,\n        logger: LoggerInterface) {\n\n        super();\n        this.drmInfo = config.resource.location.drm;\n        this.videoSurface = videoSurface;\n        this.videoSurface.on(VideoSurfaceEvents.WEBKIT_NEED_KEY, this.webkitNeedKeyHandler);\n        this.logger = logger;\n    }\n\n    ////////////////////\n    //Public Methods\n    ////////////////////\n    initialize(): void {\n        const reqOptions: AsyncDataRequestOptionsInterface = AsyncDataRequestOptions.create({\n            url: this.drmInfo.fairplay.appCertUrl,\n            method: 'GET',\n            responseType: XhrResponseType.ARRAY_BUFFER,\n            onComplete: (e: EventInterface) => this.onAppCertLoaded(e),\n            errorRecovery: {}\n        });\n\n        new AsyncDataRequest(reqOptions);\n    }\n\n    destroy(): void {\n        this.videoSurface.off(VideoSurfaceEvents.WEBKIT_NEED_KEY, this.webkitNeedKeyHandler);\n    }\n\n    ////////////////////\n    //Events Methods\n    ////////////////////\n    /*\n    * Async, dependent on webkitneedkey's init data to continue.\n    */\n    private onAppCertLoaded(e: EventInterface): void {\n        this.appCertData = new Uint8Array(e.data.response);\n        this.appCertLoaded = true;\n        if (this.webKitNeedKeyCalled) {\n            this.initializeFairplayCDM();\n        }\n    }\n\n    /*\n    * Async dependent on app certdata to continue.\n    */\n    private onWebkitNeedKey(event: EventInterface) {\n        this.initData = event.data.initData\n        this.webKitNeedKeyCalled = true;\n        if (this.appCertLoaded) {\n            this.initializeFairplayCDM();\n        }\n    }\n\n    private onLicenseRequestReady(url: string, event: Event) {\n\n        this.drmVendor = this.getDrmVendor(url);\n\n        let xhr = new XMLHttpRequest();\n        (<any>xhr).session = event.target;\n\n        xhr.addEventListener('load', this.onLicenseLoaded.bind(this), false);\n        xhr.open('POST', url, true);\n        xhr.responseType = this.drmVendor === DrmVendor.IRDETO ? XhrResponseType.ARRAY_BUFFER : XhrResponseType.TEXT;\n\n        const spcMessage = encodeURIComponent(Util.base64EncodeUint8Array((<any>event).message))\n        const params = 'spc=' + spcMessage + '&' + (<any>xhr).session.contentId;\n\n        xhr = this.setRequestHeaders(xhr);\n        xhr.send(params);\n    }\n\n    private setRequestHeaders(xhr: XMLHttpRequest): XMLHttpRequest {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        if (!Util.isEmpty(this.drmInfo.fairplay.header)) {\n            const h: StrAnyDict = this.drmInfo.fairplay.header;\n            for (let key in h) {\n                const v = h[key];\n                xhr.setRequestHeader(key, v);\n            }\n        }\n        return xhr;\n    }\n\n    private onLicenseLoaded(event: Event) {\n\n        const xhr: XMLHttpRequest = <XMLHttpRequest>event.target;\n        const session = (<any>xhr).session;\n\n        if (!Util.inRange(xhr.status, 200, 400)) {\n            this.throwFatalError(ErrorCode.FAIRPLAY_LIC_ERROR, AppResources.messages.FAIRPLAY_LICENSE_ERROR);\n        }\n        const key = xhr.responseType !== 'arraybuffer' ?\n            Util.base64DecodeUint8Array(xhr.responseText) :\n            new Uint8Array(xhr.response);\n\n        session.update(key);\n    }\n\n    private onWebkitKeyAdded(event: Event) {\n        this.logger.log(LogLevel.INFO, AppResources.messages.WEBKIT_KEY_ADDED_SUCCESS);\n    }\n\n    private onWebkitError(event: Error) {\n        this.throwFatalError(ErrorCode.FAIRPLAY_LIC_ERROR, `${AppResources.messages.FAIRPLAY_LICENSE_ERROR}`);\n    }\n\n    ////////////////////\n    //Private Methods\n    ////////////////////\n\n    private initializeFairplayCDM(): void {\n\n        const licenseServerUrl: string = this.getLicenseServerUrl(this.initData)\n        const contentId: string = this.getId(licenseServerUrl);\n        const video = (<any>this.videoSurface.video);\n        const global = SystemService.getInstance(ServiceName.System).global;\n        const errMsg = AppResources.messages;\n\n        if (!contentId) {\n            this.throwFatalError(ErrorCode.FAIRPLAY_APP_CERT_ERROR, errMsg.FAIRPLAY_NO_CONTENT_ID);\n            return;\n        }\n\n        if (!video.webkitKeys) {\n            const keySystem = DrmType.FAIRPLAY_1_0;\n            if (!global.WebKitMediaKeys.isTypeSupported(keySystem, 'video/mp4')) {\n                this.throwFatalError(ErrorCode.FAIRPLAY_APP_CERT_ERROR, errMsg.FAIRPLAY_WEBKIT_ERROR);\n                return;\n            }\n            try {\n                video.webkitSetMediaKeys(new global.WebKitMediaKeys(keySystem));\n            } catch (e) {\n                this.throwFatalError(ErrorCode.FAIRPLAY_APP_CERT_ERROR, e.message);\n                return;\n            }\n        }\n\n        const appCertInitData = this.concatInitDataIdAndCertificate(this.initData, contentId, this.appCertData);\n        const keySession = video.webkitKeys.createSession('video/mp4', appCertInitData);\n\n        if (!keySession) {\n            this.throwFatalError(ErrorCode.FAIRPLAY_APP_CERT_ERROR, errMsg.FAIRPLAY_WEBKIT_ERROR);\n            return;\n        }\n\n        //TODO update this remove bind and use fat arrow to scope? Port from old code need to understand the flow a bit before change.  \n        keySession.contentId = contentId;\n        keySession.addEventListener(this.WEBKIT_KEY_MESSAGE, this.onLicenseRequestReady.bind(this, licenseServerUrl), false);\n        keySession.addEventListener(this.WEBKIT_KEY_ADDED, this.onWebkitKeyAdded.bind(this), false);\n        keySession.addEventListener(this.WEBKIT_KEY_ERROR, this.onWebkitError.bind(this), false);\n    }\n\n    private concatInitDataIdAndCertificate(initData: Uint16Array, id: Uint16Array | string, cert: Uint8Array): Uint8Array {\n\n        if (typeof id === 'string') {\n            id = this.stringToArray(id);\n        }\n\n        // layout is [initData][4 byte: idLength][idLength byte: id][4 byte:certLength][certLength byte: cert]\n        let offset = 0;\n        const buffer = new ArrayBuffer(initData.byteLength + 4 + id.byteLength + 4 + cert.byteLength);\n        const dataView = new DataView(buffer);\n\n        const initDataArray = new Uint8Array(buffer, offset, initData.byteLength);\n        initDataArray.set(initData);\n        offset += initData.byteLength;\n\n        dataView.setUint32(offset, id.byteLength, true);\n        offset += 4;\n\n        const idArray = new Uint8Array(buffer, offset, id.byteLength);\n        idArray.set(id);\n        offset += idArray.byteLength;\n\n        dataView.setUint32(offset, cert.byteLength, true);\n        offset += 4;\n\n        const certArray = new Uint8Array(buffer, offset, cert.byteLength);\n        certArray.set(cert);\n\n        return new Uint8Array(buffer, 0, buffer.byteLength);\n    }\n\n    private getLicenseServerUrl(initData: Uint16Array): string {\n        let url = null;\n\n        if (!Util.isEmpty(this.drmInfo.fairplay.licenseUrl)) {\n            url = this.drmInfo.fairplay.licenseUrl\n        }\n        else {\n            let initDataString = String.fromCharCode.apply(null, new Uint16Array(initData.buffer));\n            var splitString = initDataString.split('://');\n            url = 'https://' + splitString[1];\n        }\n\n        if (this.drmInfo.sessionId) {\n            url = QueryString.append(url, { 'SessionId': this.drmInfo.sessionId });\n        }\n        if (this.drmInfo.ticket) {\n            url = QueryString.append(url, { 'Ticket': this.drmInfo.ticket });\n        }\n\n        return url;\n    }\n\n    private getId(licenseServerUrl: string): string | null {\n        const obj: StrAnyDict = QueryString.decode(licenseServerUrl);\n        return obj.ContentId || obj.contentId || obj.assetId || null;\n    }\n\n    /**\n     * license server url needed to parse vendor\n     */\n    private getDrmVendor(url: string): string {\n        let v = DrmVendor.UNKNOWN;\n        if (url.indexOf(DrmVendor.IRDETO) !== -1) {\n            v = DrmVendor.IRDETO;\n        } else if (url.indexOf(DrmVendor.DRM_TODAY) !== -1) {\n            v = DrmVendor.DRM_TODAY;\n        }\n        return v;\n    }\n\n    private stringToArray(string: string): Uint16Array {\n\n        const buffer = new ArrayBuffer(string.length * 2); // 2 bytes for each char\n        const array = new Uint16Array(buffer);\n\n        for (let i = 0, strLen = string.length; i < strLen; i++) {\n            array[i] = string.charCodeAt(i);\n        }\n\n        return array;\n    }\n\n\n    private throwFatalError(code: string, message: string) {\n\n        this.logger.log(LogLevel.ERROR, code, message);\n\n        this.emit(PlaybackAdapterEvents.ERROR, {\n            code,\n            message,\n            fatal: true\n        });\n    }\n}\n","import { AppResources } from '../../app/AppResources';\nimport { Util } from '../../core/Util';\nimport { ErrorCode } from '../../enum/ErrorCode';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { MediaError } from '../../enum/MediaError';\nimport { VideoSurfaceInterface } from '../../iface';\nimport { EventHandler } from '../../iface/EventHandler';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { QualityInterface } from '../../iface/QualityInterface';\nimport { ResourceLocationDrmInterface } from '../../iface/ResourceLocationDrmInterface';\nimport { DrmType } from '../../util/enum/DrmType';\nimport { PlaybackAdapterEvents } from '../enum/PlaybackAdapterEvents';\nimport { PlaybackAdapterType } from '../enum/PlaybackAdapterType';\nimport { VideoSurfaceEvents } from '../enum/VideoSurfaceEvents';\nimport { FairPlay } from '../util/FairPlay';\nimport { BaseHtml5Adapter } from './BaseHtml5Adapter';\n\n\nexport class Html5Adapter extends BaseHtml5Adapter {\n\n    protected pType = PlaybackAdapterType.HTML5;\n\n    private fairplay: FairPlay;\n    private audioTrackIdx: number = -1;\n    private fairPlayEventHandler: EventHandler = (e: EventInterface) => this.onFairplayEvent(e);\n\n    constructor(videoSurface: VideoSurfaceInterface, config: PlaybackAdapterConfigInterface, logger: LoggerInterface) {\n        super(videoSurface, config, logger);\n        this.logger.log(LogLevel.INFO, 'Html5Adapter created');\n    }\n\n    ////////////////////\n    //Public Methods\n    ////////////////////\n    initialize(): void {\n        super.initialize();\n        if (this.hasFairplayDrm(this.config.resource.location.drm)) {\n            this.fairplay = new FairPlay(this.videoSurface, this.config, this.logger);\n            this.fairplay.on(PlaybackAdapterEvents.ERROR, this.fairPlayEventHandler);\n            this.fairplay.initialize();\n            this.emit(PlaybackAdapterEvents.DRM_KEYSYSTEM_CREATED, { keysystem: DrmType.FAIRPLAY_1_0 });\n        }\n    }\n\n    destroy(): Promise<void> {\n        // Setting src to an empty string can cause a MEDIA_ERR_SRC_NOT_SUPPORTED error\n        // Use removeAttribute instead, https://github.com/w3c/media-source/issues/53\n        this.videoSurface.video.removeAttribute('src');\n        // For all browsers to cleaning unload the src we need to call load() here\n        // https://www.w3.org/TR/html5/embedded-content-0.html#best-practices-for-authors-using-media-elements\n        this.videoSurface.video.load();\n\n        if (this.fairplay) {\n            this.fairplay.off(PlaybackAdapterEvents.ERROR, this.fairPlayEventHandler);\n            this.fairplay.destroy();\n        }\n\n        return super.destroy();\n    }\n\n    ////////////////////\n    //Accessors\n    ////////////////////\n\n    set currentIndex(index: number) {\n        this.logger.log(LogLevel.INFO, AppResources.messages.MANUAL_ABR_SWITCHING_UNAVAILABLE);\n    }\n    // get currentIndex(): number {        \n    // }\n\n    set autoQualitySwitching(value: boolean) {\n        this.logger.log(LogLevel.INFO, AppResources.messages.MANUAL_ABR_SWITCHING_UNAVAILABLE);\n    }\n    // get autoBitrateSwitching(): boolean {\n\n    // }\n\n    set minBitrate(value: number) {\n        this.logger.log(LogLevel.INFO, AppResources.messages.MANUAL_ABR_SWITCHING_UNAVAILABLE);\n    }\n    // get minBitrate(): number {\n\n    // }\n\n    set maxBitrate(value: number) {\n        this.logger.log(LogLevel.INFO, AppResources.messages.MANUAL_ABR_SWITCHING_UNAVAILABLE);\n    }\n    // get maxBitrate(): number {    \n    // }\n\n    get manifestQualities(): QualityInterface[] {\n        return [];\n    }\n\n    ////////////////////\n    // Protected \n    ////////////////////\n    protected onVideoSurfaceEvent(e: EventInterface): void {\n        switch (e.type) {\n            case VideoSurfaceEvents.DURATION_CHANGE:\n                this.pIsLiveStream = this.videoSurface.duration == Infinity;\n                break;\n        }\n\n        super.onVideoSurfaceEvent(e);\n        this.updateAudioTracks(e);\n    }\n\n    protected loadMediaUrl(): Promise<void> {\n        this.videoSurface.src = this.mediaUrl;\n        return super.loadMediaUrl();\n    }\n\n    ////////////////////\n    // Private\n    ////////////////////\n    private updateAudioTracks(e: EventInterface): void {\n        const audioTracksInitialized = this.audioTrackIdx !== -1,\n            tracks = this.videoSurface && this.videoSurface.video && this.videoSurface.video.audioTracks;\n\n        if (!tracks) {\n            return;\n        }\n\n        const enabledAudioTrackIdx = this.getEnabledAudioTrackId(tracks);\n        switch (e.type) {\n            case VideoSurfaceEvents.CAN_PLAY:\n                if (!audioTracksInitialized) {\n                    this.audioTrackIdx = enabledAudioTrackIdx;\n                    this.normalizedAudioTracks = this.normalizeAudioTracks(Util.toArray(tracks), {\n                        type: 'kind',\n                        lang: 'language'\n                    });\n                    this.emit(PlaybackAdapterEvents.AUDIO_TRACK_UPDATED, {\n                        tracks: this.normalizedAudioTracks,\n                        track: this.normalizedAudioTracks[this.audioTrackIdx]\n                    });\n                }\n                break;\n            case VideoSurfaceEvents.PROGRESS:\n                if (audioTracksInitialized) {\n                    if (this.audioTrackIdx !== enabledAudioTrackIdx) {\n                        this.audioTrackIdx = enabledAudioTrackIdx;\n                        this.emit(PlaybackAdapterEvents.AUDIO_TRACK_CHANGE, { track: this.normalizedAudioTracks[this.audioTrackIdx] });\n                    }\n                }\n                break;\n        }\n    }\n\n    private onFairplayEvent(e: EventInterface) {\n        this.emit(e.type, e.data);\n    }\n\n    private getEnabledAudioTrackId(tracks: any): number {\n        let i = tracks.length;\n        while (i--) {\n            if (tracks[i].enabled) {\n                return i;\n            }\n        }\n        return i;\n    }\n\n    private hasFairplayDrm(drmParams: ResourceLocationDrmInterface): boolean {\n        return drmParams !== null ? !Util.isEmpty(drmParams.fairplay) : false;\n    }\n\n    protected handleVideoSurfaceError(e: EventInterface) {\n        //TODO  stall event if video.networkState is 2 we can attempt a hard retry of the source content with a follow up seek to the last known time?                \n        super.handleVideoSurfaceError(e);\n        const error = this.videoSurface.video.error;\n        if (error) {\n            switch (error.code) {\n                case MediaError.MEDIA_ERR_NETWORK:\n                    this.throwError(ErrorCode.HTML5_NETWORK_ERROR, error, error);\n                    break;\n                case MediaError.MEDIA_ERR_DECODE:\n                    this.throwError(ErrorCode.HTML5_MEDIA_ERROR, error, error);\n                    break;\n                case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:\n                    this.throwError(ErrorCode.HTML5_SRC_NOT_SUPPORTED, error, error);\n                    break;\n                default:\n                    this.throwError(ErrorCode.UNSPECIFIED_VIDEO_PLAYBACK_ERROR, error, error);\n            }\n        }\n    }\n}             \n","import { VideoSurfaceInterface } from '../../iface';\nimport { AudioTrackInterface } from '../../iface/AudioTrackInterface';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { LiveStreamInfoInterface } from '../../iface/LiveStreamInfoInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { QualityInterface } from '../../iface/QualityInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { PlaybackAdapterEvents } from '../enum/PlaybackAdapterEvents';\nimport { PlaybackAdapterType } from '../enum/PlaybackAdapterType';\nimport { WebMafVideoSurface } from '../surface/WebMafVideoSurface';\nimport { BasePlaybackAdapter } from './BasePlaybackAdapter';\n\n\nexport class PlayStationAdapter extends BasePlaybackAdapter {\n\n    protected pType = PlaybackAdapterType.PLAY_STATION;\n\n    private psEventMap: StrAnyDict = [\n        {\n            type: PlaybackAdapterEvents.MANIFEST_PARSED,\n            callback: (e: EventInterface) => this.onManifestParsed(e)\n        },\n        {\n            type: PlaybackAdapterEvents.ABR_QUALITY_LOADED,\n            callback: (e: EventInterface) => this.onBubble(e)\n        },\n        {\n            type: PlaybackAdapterEvents.AUDIO_TRACK_UPDATED,\n            callback: (e: EventInterface) => this.onBubble(e)\n        }\n    ]\n\n    constructor(videoSurface: VideoSurfaceInterface, config: PlaybackAdapterConfigInterface, logger: LoggerInterface) {\n        super(videoSurface, config, logger);\n        this.log(this.pType, this.videoSurface.video.version, this.videoSurface.video.TTYLevel, this.videoSurface.metrics);\n    }\n\n    ////////////////////\n    //Public Methods\n    ////////////////////\n    initialize(): void {\n        super.initialize();\n\n        //set options\n        const opts = this.playback;\n        const surface: WebMafVideoSurface = <WebMafVideoSurface>this.videoSurface;\n\n        !isNaN(opts.abr.startBitrate) && (surface.startingBitrate = opts.abr.startBitrate);\n        !isNaN(opts.abr.minBitrate) && (surface.minBitrate = opts.abr.minBitrate);\n        !isNaN(opts.abr.maxBitrate) && (surface.maxBitrate = opts.abr.maxBitrate);\n        !isNaN(opts.startTime) && (surface.startTime = opts.startTime);\n\n        this.addEvents(this.videoSurface, this.psEventMap);\n    }\n\n    protected loadMediaUrl(): Promise<void> {\n        return Promise.resolve().then(() => {\n            const drm = this.config.resource.location.drm;\n            this.videoSurface.src = '{\"command\":\"load\", \"contentUri\":\"' + this.mediaUrl + '\", \"licenseUri\":\"' + drm.playready.url + '\",\"customData\": \"\",\"sourceType\":' + 0 + '}';\n        });\n    }\n\n    destroy(): Promise<void> {\n        this.removeEvents(this.videoSurface, this.psEventMap);\n        this.videoSurface.destroy();\n        return super.destroy();\n    }\n\n    play(): void {\n        this.videoSurface.play();\n    }\n\n    pause(): void {\n        this.videoSurface.pause();\n    }\n\n    seek(position: number): void {\n        this.videoSurface.seek(position);\n    }\n    ////////////////////\n    //Accessors\n    ////////////////////\n\n    set audioTrack(track: AudioTrackInterface) {\n        (<WebMafVideoSurface>this.videoSurface).audioTrack = track;\n    }\n\n    get type(): PlaybackAdapterType {\n        return this.pType;\n    }\n\n    get time(): number {\n        return this.videoSurface.time;\n    }\n\n    get duration(): number {\n        return this.videoSurface.duration;\n    }\n\n    get droppedVideoFrames(): number {\n        return this.videoSurface.metrics.droppedFrame; //TODO check name\n    }\n    get buffering(): boolean {\n        return this.videoSurface.buffering;\n    }\n\n    set currentIndex(index: number) {\n        //setRepresentationEnable\n        //setRepresentationDisable\n    }\n    // get currentIndex(): number {        \n    // }\n\n    get currentBitrate(): number {\n        return this.videoSurface.metrics.bitrate; //TODO check this works\n    }\n\n\n\n    set autoQualitySwitching(value: boolean) {\n        //setAdaptiveStreamingParameters\n        //setFixVideoRepresentations\n    }\n    // get autoBitrateSwitchEnabled(): boolean {\n\n    // }\n\n    set minBitrate(value: number) {\n        //setAdaptiveStreamingParameters\n        //setFixVideoRepresentations\n    }\n    // get minBitrateAllowed(): number {\n\n    // }\n\n    set maxBitrate(value: number) {\n        //setAdaptiveStreamingParameters\n        //setFixVideoRepresentations\n    }\n    // get maxBitrateAllowed(): number {    \n    // }\n\n    get manifestQualities(): QualityInterface[] {\n        return (<WebMafVideoSurface>this.videoSurface).masterBitrateProfile.map(this.normalizeQuality);\n    }\n\n    get liveStreamInfo(): LiveStreamInfoInterface {\n        //getSeekWindow!\n        return this.liveStreamInfoVO;\n    }\n\n    private onManifestParsed(e: EventInterface) {\n        this.emit(PlaybackAdapterEvents.MANIFEST_PARSED, { profile: this.manifestQualities });\n    }\n\n    private onBubble(e: EventInterface) {\n        this.emit(e.type, e.data);\n    }\n}             \n","export enum ShakaRobustness { \n    MANIFEST_RETRY_ATTEMPTS = 2,\n    MANIFEST_RETRY_INTERVAL = 1000,\n    // NOTE: Shaka's maxAttempts parameter includes the initial failed attempt, so if the desired goal is to perform 3 retrires, this should be set to 4\n    FATAL_ERROR_RECOVERY_ATTEMPTS = 4, \n    FATAL_ERROR_RECOVERY_DELAY = 1000,\n    FATAL_ERROR_RECOVERY_BACKOFF = 2,\n    FATAL_ERROR_RECOVERY_FUZZ = 0\n}","import { AppResources } from '../../app/AppResources';\nimport { Util } from '../../core/Util';\nimport { ErrorCode } from '../../enum/ErrorCode';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { MetadataCuepoint, Range, VideoSurfaceInterface } from '../../iface';\nimport { AudioTrackInterface } from '../../iface/AudioTrackInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { QualityInterface } from '../../iface/QualityInterface';\nimport { ResourcePlaybackAbrInterface } from '../../iface/ResourcePlaybackAbrInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { Utils } from '../../util/Utils';\nimport { Playback } from '../enum/Playback';\nimport { PlaybackAdapterEvents } from '../enum/PlaybackAdapterEvents';\nimport { PlaybackAdapterType } from '../enum/PlaybackAdapterType';\nimport { ShakaRobustness } from '../enum/ShakaRobustness';\nimport { TextTrackEvents } from '../enum/TextTrackEvents';\nimport { TextTrackMode } from '../enum/TextTrackMode';\nimport { TextTrackSurfaceEvents } from '../enum/TextTrackSurfaceEvents';\nimport { Category, Code, EmsgInfo, Error, LanguageRole, NetworkingEngine, Player, PlayerConfiguration, Request, Response, shaka, TimelineRegionInfo, Track } from '../interface/ShakaInterface';\nimport { BaseHtml5Adapter } from './BaseHtml5Adapter';\n\n\nexport class ShakaAdapter extends BaseHtml5Adapter {\n\n    protected pType: PlaybackAdapterType = PlaybackAdapterType.SHAKA;\n\n    private shaka: shaka = (<any>window).shaka;\n    private player!: Player;\n    private playerConfig!: PlayerConfiguration;\n    private networkEngine: NetworkingEngine;\n    private audioTracks!: LanguageRole[];\n    private textTracks: Track[] = [];\n    private pTextTrack: TextTrack;\n    private currentTextTrack: Track;\n    private currentTextTrackMode: TextTrackMode;\n    private variant: Track;\n    private playerEventMap: StrAnyDict[] = [\n        this.mapEvent('error', this.onError),\n        this.mapEvent('streaming', this.onManifestParsed),\n        this.mapEvent('variantchanged', this.onBitrateChanged),\n        this.mapEvent('adaptation', this.onBitrateChanged),\n        this.mapEvent('emsg', this.onEmsg),\n        this.mapEvent('trackschanged', this.onTracksChanged),\n        this.mapEvent('variantchanged', this.onVariantChanged),\n        this.mapEvent('adaptation', this.onAdaptation),\n        this.mapEvent('drmsessionupdate', this.onDrmSessionUpdate),\n        this.mapEvent('texttrackvisibility', this.onTextTrackVisibility),\n        this.mapEvent('timelineregionenter', this.onTimelineRegionEnter),\n    ];\n    private onCueChangeHandler: EventListenerOrEventListenerObject = (e: TrackEvent) => this.onCueChange(e);\n    private audioSwitching: boolean = false;\n    private renderTextTrackNatively: boolean = true;\n    private cleanUpVtt: boolean = false;\n\n    constructor(videoSurface: VideoSurfaceInterface, config: PlaybackAdapterConfigInterface, logger: LoggerInterface) {\n        super(videoSurface, config, logger);\n\n        this.logger.log(LogLevel.INFO, 'ShakaAdapter created');\n        this.updateAudioTracks = Util.debounce(this.updateAudioTracks.bind(this), 25);\n        this.updateTextTracks = Util.debounce(this.updateTextTracks.bind(this), 25);\n    }\n\n    ////////////////////\n    // Public Methods\n    ////////////////////\n\n    initialize(): void {\n        super.initialize();\n\n        // Shaka polyfill for VTTCue can cause issues when hlsjs is loaded after Shaka. See VTG-2189\n        if (typeof VTTCue == 'undefined') {\n            this.cleanUpVtt = true;\n        }\n\n        // player initialization\n        this.shaka.polyfill.installAll();\n\n        this.player = new this.shaka.Player(this.videoSurface.video);\n        this.logger.log(LogLevel.INFO, `Shaka version: ${this.shaka.Player.version}`);\n        this.playerConfig = this.player.getConfiguration();\n        this.addEvents(this.player, this.playerEventMap);\n\n        // retry config\n        let retry = this.playerConfig.streaming.retryParameters;\n        retry.maxAttempts = ShakaRobustness.FATAL_ERROR_RECOVERY_ATTEMPTS;\n        retry.baseDelay = ShakaRobustness.FATAL_ERROR_RECOVERY_DELAY;\n        retry.backoffFactor = ShakaRobustness.FATAL_ERROR_RECOVERY_BACKOFF;\n        retry.fuzzFactor = ShakaRobustness.FATAL_ERROR_RECOVERY_FUZZ;\n\n        retry = this.playerConfig.manifest.retryParameters;\n        retry.maxAttempts = ShakaRobustness.MANIFEST_RETRY_ATTEMPTS;\n        retry.baseDelay = ShakaRobustness.MANIFEST_RETRY_INTERVAL;\n\n        // network config\n        this.networkEngine = this.player.getNetworkingEngine();\n        this.networkEngine.registerRequestFilter(this.onRequest.bind(this));\n        this.networkEngine.registerResponseFilter(this.onResponse.bind(this));\n\n        // drm config\n        const drm = this.config.resource.location.drm;\n        if (drm.widevine && drm.widevine.url) {\n            this.playerConfig.drm.servers['com.widevine.alpha'] = drm.widevine.url;\n        }\n\n        if (drm.playready && drm.playready.url) {\n            this.playerConfig.drm.servers['com.microsoft.playready'] = drm.playready.url;\n        }\n\n        // abr config\n        const abrConfig: ResourcePlaybackAbrInterface = this.playback.abr;\n        const abr = this.playerConfig.abr;\n\n        if (!isNaN(abrConfig.minBitrate)) {\n            abr.restrictions.minBandwidth = abrConfig.minBitrate;\n        }\n\n        if (!isNaN(abrConfig.maxBitrate)) {\n            abr.restrictions.maxBandwidth = abrConfig.maxBitrate;\n        }\n\n        if (!isNaN(abrConfig.startBitrate)) {\n            abr.defaultBandwidthEstimate = abrConfig.startBitrate * 1.15;\n        }\n\n        // performance settings\n        const settings = this.config.performanceSettings;\n        if (settings.forwardBufferLength != null) {\n            this.playerConfig.streaming.bufferingGoal = settings.forwardBufferLength;\n        }\n        if (settings.backBufferLength != null) {\n            this.playerConfig.streaming.bufferBehind = settings.backBufferLength;\n        }\n\n        this.renderTextTrackNatively = this.config.playerOptions.renderTextTrackNatively;\n        if (this.renderTextTrackNatively == false) {\n            this.playerConfig.streaming.alwaysStreamText = true;\n        }\n        \n        this.playerConfig = this.mergeStreamingConfigs(this.playerConfig, this.config.resource.overrides);\n\n        this.configure();\n    }\n\n    resize(): void {\n        if (!this.playback.abr.capQualityToScreenSize) {\n            return;\n        }\n\n        const low = this.getVariantTracks()[0];\n        if (!low) {\n            return;\n        }\n\n        let { clientWidth, clientHeight } = this.videoSurface.video;\n\n        if (clientWidth < low.width || clientHeight < low.height) {\n            clientWidth = low.width;\n            clientHeight = low.height;\n        }\n\n        this.playerConfig.restrictions.maxWidth = clientWidth;\n        this.playerConfig.restrictions.maxHeight = clientHeight;\n        this.configure();\n    }\n\n    destroy(): Promise<void> {\n        this.removeEvents(this.player, this.playerEventMap);\n\n        if (this.pTextTrack) {\n            this.pTextTrack.removeEventListener(TextTrackEvents.CUE_CHANGE, this.onCueChangeHandler);\n        }\n\n        return this.player.destroy()\n            .then(() => {\n                this.player = null;\n                this.networkEngine = null;\n                this.playerConfig = null;\n                this.shaka = null;\n                this.textTracks = null;\n                this.audioTracks = null;\n                this.variant = null;\n                this.pTextTrack = null;\n                this.currentTextTrack = null;\n\n                if (this.cleanUpVtt) {\n                    delete window.VTTCue;\n                }\n\n                return super.destroy();\n            });\n    }\n\n    suspend(): void {\n        this.playerConfig.streaming.bufferingGoal = 1;\n        this.playerConfig.streaming.rebufferingGoal = 1;\n    }\n\n    resume(): void {\n        this.playerConfig.streaming.bufferingGoal = 10;\n        this.playerConfig.streaming.rebufferingGoal = 10;\n    }\n\n    ////////////////////\n    // Accessors\n    ////////////////////\n    get seekable(): Range {\n        return this.player.seekRange();\n    }\n\n    set autoQualitySwitching(value: boolean) {\n        this.playerConfig.abr.enabled = value;\n        this.configure();\n    }\n    get autoQualitySwitching(): boolean {\n        return this.playerConfig.abr.enabled;\n    }\n\n    set currentIndex(index: number) {\n        const track = this.getVariantTracks()[index];\n        this.player.selectVariantTrack(track, true);\n    }\n    get currentIndex(): number {\n        const index = Util.findIndex(this.getVariantTracks(), this.isActive);\n        return index;\n    }\n\n    get segmentDuration(): number {\n        return this.player.getManifest().presentationTimeline.getMaxSegmentDuration();\n    }\n\n    get manifestQualities(): QualityInterface[] {\n        return this.getVariantTracks().map((item: Track, index: number): QualityInterface => ({\n            index,\n            bitrate: item.bandwidth,\n            width: item.width,\n            height: item.height,\n            codec: item.codecs\n        }));\n    }\n\n    set maxBitrate(value: number) {\n        if (isNaN(value)) {\n            value = Infinity;\n        }\n        this.playerConfig.abr.restrictions.maxBandwidth = value;\n        this.configure();\n        this.constrainAbr();\n    }\n    get maxBitrate(): number {\n        return this.playerConfig.abr.restrictions.maxBandwidth;\n    }\n\n    set minBitrate(value: number) {\n        if (isNaN(value)) {\n            value = -Infinity;\n        }\n        this.playerConfig.abr.restrictions.minBandwidth = value;\n        this.configure();\n        this.constrainAbr();\n    }\n    get minBitrate(): number {\n        return this.playerConfig.abr.restrictions.minBandwidth;\n    }\n\n    set audioTrack(track: AudioTrackInterface) {\n        this.audioSwitching = true;\n        this.player.selectAudioLanguage(track.lang, track.type);\n    }\n\n    get droppedVideoFrames(): number {\n        const stats = this.player.getStats();\n        return stats.droppedFrames;\n    }\n\n    get framerate(): number {\n        const track = this.variant;\n        return track ? track.frameRate : Number.NaN;\n    }\n\n    set textTrackMode(mode: TextTrackMode) {\n        this.currentTextTrackMode = mode;\n\n        if (this.renderTextTrackNatively) {\n            this.player.setTextTrackVisibility(mode != TextTrackMode.DISABLED);\n\n            // NOTE: The textTrack mode needs to be overridden because Shaka uses showing/hidden, but the player uses showing/disabled. \n            this.pTextTrack.mode = mode;\n        }\n        else {\n            this.onTextTrackVisibility();\n        }\n    }\n\n    set textTrack(track: TextTrack) {\n        // NOTE: We need ts-ignore here because the object being passed in is a Shaka text track, not a DOM text track\n        //@ts-ignore\n        if (this.currentTextTrack && track.id == this.currentTextTrack.id) {\n            return;\n        }\n\n        //@ts-ignore\n        this.currentTextTrack = track;\n        this.emit(TextTrackSurfaceEvents.TEXT_TRACK_CHANGE, this.currentTextTrack);\n        this.player.selectTextTrack(<any>track);\n    }\n\n    get fragmentType(): string {\n        const track = this.getVariantTrack();\n        return track ? track.mimeType : '';\n    }\n\n    ////////////////////\n    // Protected Methods\n    ////////////////////\n\n    protected loadMediaUrl(): Promise<void> {\n        const startTime = this.playback.startTime;\n        return this.player.load(this.mediaUrl, (isNaN(startTime) || startTime < 0) ? 0 : startTime)\n            .then(() => {\n                this.pIsLiveStream = this.player.isLive();\n\n                this.loadedMetadata();\n\n                // TODO: The player config only allows for a single side car file, with only a URL.\n                //       This should be updated to accept an array of track objects.\n                const textTrackUrl = this.config.resource.location.textTrackUrl;\n                if (!Util.isEmpty(textTrackUrl)) {\n                    const mime = Util.getMimeType(textTrackUrl);\n                    this.player.addTextTrack(textTrackUrl, 'en', 'captions', mime);\n                }\n            })\n            // Shaka does not dispatch an error event when a manifest parse error occurs. Force one here:\n            .catch((detail: any) => this.onError({ detail }));\n    }\n\n    ////////////////////\n    // Event Handlers\n    ////////////////////\n    private onError(e: any): void {\n        const error = e.detail;\n        const Error: Error = this.shaka.util.Error;\n        const Category: Category = Error.Category;\n        const Code: Code = Error.Code;\n\n        // Shaka Player errors do not have a string based message, so find the key associated with numeric error code.\n        const message = (msg: string): string => {\n            const code = error.code;\n            for (const key in Code) {\n                const value = Code[key];\n                if (value == code) {\n                    msg += ` : ${key} / ${value}`;\n                    break;\n                }\n            }\n            return msg;\n        };\n\n        switch (error.category) {\n            case Category.NETWORK:\n                this.throwError(ErrorCode.SHAKA_NETWORK_ERROR, message(AppResources.messages.FATAL_PLAYBACK_NETWORK_ERROR), error);\n                break;\n\n            case Category.MANIFEST:\n                this.throwError(ErrorCode.SHAKA_PARSE_ERROR, message(AppResources.messages.FATAL_PLAYBACK_MEDIA_ERROR), error);\n                break;\n\n            case Category.MEDIA:\n                const code = (error.code == Code.VIDEO_ERROR && error.data[0] == MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED) ? ErrorCode.SHAKA_SRC_NOT_SUPPORTED : ErrorCode.SHAKA_MEDIA_ERROR;\n                this.throwError(code, message(AppResources.messages.FATAL_PLAYBACK_MEDIA_ERROR), error);\n                break;\n\n            case Category.DRM:\n                this.throwError(ErrorCode.SHAKA_DRM_ERROR, message(AppResources.messages.FATAL_PLAYBACK_MEDIA_ERROR), error);\n                break;\n\n            default:\n                this.throwError(ErrorCode.UNSPECIFIED_SHAKA_ERROR, message(AppResources.messages.UNSPECIFIED_ERROR), error, false);\n        }\n    }\n\n    private onManifestParsed(e: any): void {\n        this.emit(PlaybackAdapterEvents.MANIFEST_PARSED, { profile: this.manifestQualities });\n    }\n\n    private onBitrateChanged(e: any) {\n        this.constrainAbr();\n        this.emit(PlaybackAdapterEvents.ABR_QUALITY_LOADED, { index: this.currentIndex });\n    }\n\n    private onRequest(type: number, request: Request): void {\n        const drm = this.config.resource.location.drm;\n\n        if (type === this.shaka.net.NetworkingEngine.RequestType.LICENSE && drm.enabled) {\n            if (drm.widevine && drm.widevine.header) {\n                Util.assign(request.headers, drm.widevine.header);\n            }\n\n            if (drm.playready && drm.playready.header) {\n                Util.assign(request.headers, drm.playready.header);\n            }\n        }\n    }\n\n    private onResponse(type: number, response: Response): void {\n        if (this.multiCdnHeaderPresent) {\n            const cdn = response.headers[Playback.MULTI_CDN];\n            this.multiCdnHeaderPresent = (cdn != null);\n            if (this.multiCdnHeaderPresent) {\n                this.emit(PlaybackAdapterEvents.MULTI_CDN, { cdn });\n            }\n        }\n\n        if (type === this.shaka.net.NetworkingEngine.RequestType.SEGMENT) {\n            const bandwidth = this.player.getStats().estimatedBandwidth;\n            this.emit(PlaybackAdapterEvents.FRAGMENT_LOADED, { bandwidth });\n        }\n    }\n\n    private onEmsg(e: any): void {\n        const emsg: EmsgInfo = e.detail;\n        const cue: MetadataCuepoint = {\n            id: emsg.schemeIdUri,\n            info: emsg.value,\n            data: emsg.messageData\n        };\n        this.emit(TextTrackSurfaceEvents.METADATA_CUEPOINT, cue);\n    }\n\n    private onTracksChanged(e: any): void {\n        this.resize();\n\n        this.updateAudioTracks();\n        this.updateTextTracks();\n    }\n\n    private onAdaptation(e: any): void {\n        this.variant = this.getVariantTrack();\n    }\n\n    private onVariantChanged(e: any): void {\n        if (this.audioSwitching) {\n            this.audioSwitching = false;\n            this.emit(PlaybackAdapterEvents.AUDIO_TRACK_CHANGE, { track: this.normalizedAudioTracks[this.getAudioTrackIndex()] });\n        }\n\n        this.variant = this.getVariantTrack();\n    }\n\n    private onDrmSessionUpdate(e: any): void {\n        this.emit(PlaybackAdapterEvents.DRM_KEYSYSTEM_CREATED, { keysystem: this.player.keySystem() });\n    }\n\n    private onTextTrackVisibility(): void {\n        if (!this.currentTextTrackMode) {\n            return;\n        }\n        this.emit(TextTrackSurfaceEvents.TEXT_TRACK_DISPLAY_MODE_CHANGE, { mode: this.currentTextTrackMode });\n    }\n\n    private onCueChange(e: Event): void {\n        if (this.renderTextTrackNatively || !this.config.textTrackSettings.enabled) {\n            return;\n        }\n        const t = event.target as TextTrack;\n        this.emit(TextTrackSurfaceEvents.TEXT_CUEPOINT, { activeCues: t.activeCues });\n    }\n\n    private onTimelineRegionEnter(e: any) {\n        if (this.videoSurface.video.seeking) {\n            return;\n        }\n\n        const info: TimelineRegionInfo = e.detail;\n        const cue: MetadataCuepoint = {\n            id: info.schemeIdUri,\n            info: info.value || info.eventElement.getAttribute('messageData'),\n            data: <any>info\n        };\n\n        this.emit(TextTrackSurfaceEvents.METADATA_CUEPOINT, cue);\n    }\n\n    ////////////////////\n    // Private Methods\n    ////////////////////\n    private isActive(track: Track): boolean {\n        return track.active;\n    }\n\n    private getAudioTrackIndex(): number {\n        const { language, audioRoles } = this.getVariantTracks()[this.currentIndex];\n        const role = audioRoles.join(',');\n        return Util.findIndex(this.audioTracks, (item: any) => item.language == language && item.role == role);\n    }\n\n    private configure(): void {\n        this.player.configure(this.playerConfig);\n    }\n\n    private constrainAbr(): void {\n        const maxIndex = Utils.getIndexForBitrate(this.manifestQualities, this.maxBitrate, false);\n        this.checkAbrConstraints(maxIndex);\n    }\n\n    private getVariantTracks(): Track[] {\n        return this.player.getVariantTracks().sort((a: Track, b: Track): number => a.bandwidth - b.bandwidth);\n    }\n\n    private getVariantTrack(): Track {\n        return Util.find(this.player.getVariantTracks(), this.isActive);\n    }\n\n    private updateAudioTracks(): void {\n        //since this fires on bitrate changes... do we want to check if the lang and roles has changed and only then process and emit?\n        this.audioTracks = this.player.getAudioLanguagesAndRoles();\n\n        this.normalizedAudioTracks = this.normalizeAudioTracks(this.audioTracks, {\n            type: 'role',\n            lang: 'language',\n            label: 'language'\n        });\n\n        this.emit(PlaybackAdapterEvents.AUDIO_TRACK_UPDATED, {\n            tracks: this.normalizedAudioTracks,\n            track: this.normalizedAudioTracks[this.getAudioTrackIndex()],\n        });\n    }\n\n    private updateTextTracks(): void {\n        this.player.getTextTracks().forEach(track => {\n            const hasTrack = this.textTracks.some(t => t.id == track.id);\n            if (!hasTrack) {\n                this.textTracks.push(track);\n                this.emit(TextTrackSurfaceEvents.TEXT_TRACK_ADDED, track);\n            }\n        });\n\n        const available = !this.currentTextTrack;\n        const active = Util.find(this.textTracks, this.isActive);\n\n        if (active && active != this.currentTextTrack) {\n            //@ts-ignore\n            this.textTrack = active;\n        }\n\n        if (available) {\n            this.pTextTrack = Util.find(this.videoSurface.video.textTracks, (textTrack: TextTrack) => textTrack.label == 'Shaka Player TextTrack');\n            this.pTextTrack.addEventListener(TextTrackEvents.CUE_CHANGE, this.onCueChangeHandler);\n\n            const track = active || this.textTracks[0];\n            if (track) {\n                //@ts-ignore\n                this.currentTextTrack = track;\n                this.emit(TextTrackSurfaceEvents.TEXT_TRACK_AVAILABLE);\n            }\n        }\n\n        // re-apply the text track visibility to workaround issues where\n        // visibility was enabled during a period with no text tracks.\n        if (this.renderTextTrackNatively) {\n            this.player.setTextTrackVisibility(this.config.textTrackSettings.enabled);\n        }\n    }\n}\n","import { AppResources } from '../../app/AppResources';\nimport { Util } from '../../core/Util';\nimport { ErrorCode } from '../../enum/ErrorCode';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { VideoSurfaceInterface } from '../../iface';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { LiveStreamInfoInterface } from '../../iface/LiveStreamInfoInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { QualityInterface } from '../../iface/QualityInterface';\nimport { StrAnyDict } from '../../iface/StrAnyDict';\nimport { Utils } from '../../util/Utils';\nimport { PlaybackAdapterEvents } from '../enum/PlaybackAdapterEvents';\nimport { PlaybackAdapterType } from '../enum/PlaybackAdapterType';\nimport { VideoSurfaceEvents } from '../enum/VideoSurfaceEvents';\nimport { MediaPlayer, Quality } from '../interface/TwitchInterface';\nimport { TwitchOverrides } from '../interface/TwitchOverrides';\nimport { BasePlaybackAdapter } from './BasePlaybackAdapter';\n\n\nexport class TwitchLowLatencyAdapter extends BasePlaybackAdapter {\n\n    private MAX_BITRATE_CLEAR_VALUE: number = 100000000;\n    protected pType = PlaybackAdapterType.TWITCH_LOW_LATENCY;\n\n    private twitch: MediaPlayer = (<any>window).MediaPlayer;\n    private player!: MediaPlayer;\n\n    private autoMaxBitrate: number = Number.POSITIVE_INFINITY;\n\n    private twitchEventMap: StrAnyDict = [\n        {\n            type: this.twitch.PlayerState.READY,\n            callback: (e: any) => this.onReady(e)\n        },\n        {\n            type: this.twitch.PlayerEventType.QUALITY_CHANGED,\n            callback: (e: any) => this.onQualityChange(e)\n        },\n        {\n            type: this.twitch.PlayerEventType.ERROR,\n            callback: (e: any) => this.onError(e)\n        },\n        {\n            type: this.twitch.PlayerEventType.AUDIO_BLOCKED,\n            callback: (e: any) => this.onError(e)\n        },\n        {\n            type: this.twitch.PlayerEventType.PLAYBACK_BLOCKED,\n            callback: (e: any) => this.onError(e)\n        },\n        // {\n        //     type: this.twitch.PlayerEventType.REBUFFERING,\n        //     callback: (e: any) => this.onRebuffering(e)\n        // },\n        // {\n        //     type: this.twitch.PlayerEventType.METADATA,\n        //     callback: (e: any) => this.onMetadata(e)\n        // }\n    ]\n\n    constructor(videoSurface: VideoSurfaceInterface, config: PlaybackAdapterConfigInterface, logger: LoggerInterface) {\n        super(videoSurface, config, logger);\n        this.logger.log(LogLevel.INFO, 'TwitchLowLatencyAdapter created');\n    }\n\n    ////////////////////\n    //Public Methods\n    ////////////////////\n    initialize(): void {\n        super.initialize();\n\n        this.player = this.twitch.create();\n        this.player.attachHTMLVideoElement(this.videoSurface.video);\n        this.player.setAutoplay(false);\n\n        const logLevel = this.enableLogger ? 'debug' : 'error';\n        this.player.setLogLevel(logLevel);\n\n        const o: TwitchOverrides = this.config.resource.overrides?.twitch || {};\n        const rebufferToLive = Util.isBoolean(o.rebufferToLive) ? o.rebufferToLive : true;\n        this.player.setRebufferToLive(rebufferToLive);\n\n        this.addEvents(this.player, this.twitchEventMap);\n\n        !isNaN(this.playback.abr.maxBitrate) && (this.maxBitrate = this.playback.abr.maxBitrate);\n        !isNaN(this.playback.abr.minBitrate) && (this.minBitrate = this.playback.abr.minBitrate);//just to get logging that it is not avail.\n\n        this.logger.log(LogLevel.INFO, 'Twitch Version', this.player.getVersion());\n    }\n\n    seek(position: number): void {\n        return; //no reason to allow seeking with twitch ull.\n        //this.player.seekTo(position);\n    }\n\n    destroy(): Promise<void> {\n        this.removeEvents(this.player, this.twitchEventMap);\n        //const x = (<Worker>this.player.worker).terminate() // they are looking into making sure the worker is terminated properly. I raised issue. \n        this.player.delete();\n        this.player = null;\n        this.twitch = null;\n        return super.destroy();\n    }\n\n    play(): void {\n        this.player.play();\n    }\n\n    ////////////////////\n    //Accessors\n    ////////////////////\n    get duration(): number {\n        return this.player.getDuration();\n    }\n\n    get time(): number {\n        return this.player.getPosition();\n    }\n\n    set autoQualitySwitching(value: boolean) {\n        this.player.setAutoSwitchQuality(value);\n    }\n    get autoQualitySwitching(): boolean {\n        return this.player.getAutoSwitchQuality();\n    }\n\n    set currentIndex(index: number) {\n        const q = this.player.getQualities();\n        this.player.setQuality(q[index]);\n    }\n    get currentIndex(): number {\n        const q: Quality = this.player.getQuality();\n        return Utils.getIndexForBitrate(this.manifestQualities, q.bitrate, false);\n    }\n\n    set minBitrate(value: number) {\n        this.logger.log(LogLevel.INFO, AppResources.messages.ABR_MIN_BITRATE_RESTRICTION_UNAVAILABLE);\n    }\n\n    get minBitrate(): number {\n        return this.manifestQualities[0].bitrate;\n    }\n\n    set maxBitrate(value: number) {\n        this.autoMaxBitrate = !isNaN(value) ? value : this.MAX_BITRATE_CLEAR_VALUE;\n        this.player.setAutoMaxBitrate(this.autoMaxBitrate);\n    }\n\n    get maxBitrate(): number {\n        const index = !isNaN(this.autoMaxBitrate) ?\n            Utils.getIndexForBitrate(this.manifestQualities, this.autoMaxBitrate, false) :\n            this.manifestQualities.length - 1;\n\n        return this.manifestQualities[index].bitrate;\n    }\n\n    get manifestQualities(): QualityInterface[] {\n        const qualities = this.player.getQualities();\n        return <QualityInterface[]>qualities.sort((a: Quality, b: Quality) => a.bitrate - b.bitrate).map(this.normalizeQuality);\n    }\n\n    get liveStreamInfo(): LiveStreamInfoInterface {\n        const details: LiveStreamInfoInterface = this.liveStreamInfoVO;\n        if (this.pIsLiveStream) {\n            details.isPlayingLive = true;\n            details.relativeDuration = this.duration;\n            details.relativeTime = this.time;\n            details.liveEdgeOffset = this.player.getLiveLatency();\n        }\n        return details;\n    }\n\n    ////////////////////\n    // Protected \n    ////////////////////\n    protected onVideoSurfaceEvent(e: EventInterface): void {\n        switch (e.type) {\n            case VideoSurfaceEvents.DURATION_CHANGE:\n                this.pIsLiveStream = this.duration === Infinity;\n                break;\n        }\n        super.onVideoSurfaceEvent(e);\n    }\n\n    protected loadMediaUrl(): Promise<void> {\n        return Promise.resolve().then(() => {\n            this.player.load(this.mediaUrl);\n        });\n    }\n\n    ////////////////////\n    // Events\n    ////////////////////\n    private onReady(e: any): void {\n        this.emit(PlaybackAdapterEvents.MANIFEST_PARSED, { profile: this.manifestQualities });\n    }\n\n    private onQualityChange(e: any): void {\n        const index = Utils.getIndexForBitrate(this.manifestQualities, e.bitrate, false);\n        this.checkAbrConstraints(Utils.getIndexForBitrate(this.manifestQualities, this.maxBitrate, false));\n        this.emit(PlaybackAdapterEvents.ABR_QUALITY_LOADED, { index: index });\n\n    }\n    // private onMetadata(e: any): void {\n    //     //text tracks have cues as well \n    //     console.log('onMetadata', e);\n    // }\n\n    // private onRebuffering(e: any): void {\n    //     console.log('onRebuffering', e);\n    // }\n\n    private onError(e: any = {}): void {\n        switch (e.type) {\n            case this.twitch.ErrorType.NETWORK_IO:\n            case this.twitch.ErrorType.NETWORK:\n            case this.twitch.ErrorType.NOT_AVAILABLE:\n                this.throwError(ErrorCode.TWITCH_NETWORK_ERROR,\n                    `${AppResources.messages.FATAL_PLAYBACK_NETWORK_ERROR} : ${e.message}`, e);\n                break;\n\n            case this.twitch.ErrorType.INVALID_DATA:\n                this.throwError(ErrorCode.TWITCH_PARSE_ERROR,\n                    `${AppResources.messages.FATAL_PLAYBACK_MEDIA_ERROR} : ${e.message}`, e);\n                break;\n\n            case this.twitch.ErrorType.NOT_SUPPORTED:\n                this.throwError(ErrorCode.TWITCH_SRC_NOT_SUPPORTED,\n                    `${AppResources.messages.FATAL_PLAYBACK_MEDIA_ERROR} : ${e.message}`, e);\n                break;\n\n            default:\n                switch (e.source) {\n                    case this.twitch.ErrorSource.DECODER:\n                    case this.twitch.ErrorSource.RENDERER:\n                    case this.twitch.ErrorSource.SEGMENT:\n                        this.throwError(ErrorCode.TWITCH_MEDIA_ERROR,\n                            `${AppResources.messages.FATAL_PLAYBACK_MEDIA_ERROR} : ${e.message}`, e);\n                        break;\n\n                    default:\n                        this.throwError(ErrorCode.UNSPECIFIED_TWITCH_ERROR, e.message, e, false);\n                }\n        }\n    }\n    ////////////////////\n    // Private\n    ////////////////////    \n}             \n","import { AppResources } from '../../app/AppResources';\nimport { Util } from '../../core/Util';\nimport { ScriptLoader } from '../../dataservice/ScriptLoader';\nimport { Browser } from '../../enum/Browser';\nimport { ErrorCode } from '../../enum/ErrorCode';\nimport { LogLevel } from '../../enum/LogLevel';\nimport { Os } from '../../enum/Os';\nimport { PlaybackAdapterInterface, SystemServiceInterface, VideoSurfaceInterface } from '../../iface';\nimport { ErrorRecoveryInterface } from '../../iface/ErrorRecoveryInterface';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { LoggerInterface } from '../../iface/LoggerInterface';\nimport { OverridesInterface } from '../../iface/OverridesInterface';\nimport { PlaybackAdapterConfigInterface } from '../../iface/PlaybackAdapterConfigInterface';\nimport { ScriptLoaderComplete } from '../../iface/ScriptLoaderComplete';\nimport { MediaCapabilitiesMimeType } from '../../util/enum/MediaCapabilitiesMimeType';\nimport { ExtLibEndpoint } from '../enum/ExtLibEndpoint';\nimport { PlaybackAdapterType } from '../enum/PlaybackAdapterType';\nimport { StreamingLibraryVersion } from '../enum/StreamingLibraryVersion';\nimport { Html5VideoSurface } from '../surface/Html5VideoSurface';\nimport { WebMafVideoSurface } from '../surface/WebMafVideoSurface';\nimport { DashjsAdapter } from './DashjsAdapter';\nimport { HlsjsAdapter } from './HlsjsAdapter';\nimport { Html5Adapter } from './Html5Adapter';\nimport { PlayStationAdapter } from './PlayStationAdapter';\nimport { ShakaAdapter } from './ShakaAdapter';\nimport { TwitchLowLatencyAdapter } from './TwitchLowLatencyAdapter';\n\n\nexport class PlaybackAdapterFactory {\n\n    protected constructor() { }\n\n    static getAdapterOverride(config: PlaybackAdapterConfigInterface) {\n        return config.resource.overrides?.adapter;\n    }\n\n    static getAdapterType(config: PlaybackAdapterConfigInterface): PlaybackAdapterType {\n\n        // Override with valid string from PlaybackAdapterType Enum\n        const override: PlaybackAdapterType = this.getAdapterOverride(config);\n        if (!Util.isEmpty(override)) {\n            if (override == PlaybackAdapterType.SHAKA) {\n                if (PlaybackAdapterFactory.isShakaAdapter(config)) {\n                    return PlaybackAdapterType.SHAKA;\n                }\n            }\n            else {\n                return override;\n            }\n        }\n\n        if (PlaybackAdapterFactory.isTwitchLowLatencyAdapter(config)) {\n            return PlaybackAdapterType.TWITCH_LOW_LATENCY;\n        }\n\n        if (PlaybackAdapterFactory.isPlayStationAdapter(config)) {\n            return PlaybackAdapterType.PLAY_STATION;\n        }\n\n        if (PlaybackAdapterFactory.isHTML5Adapter(config)) {\n            return PlaybackAdapterType.HTML5;\n        }\n\n        if (PlaybackAdapterFactory.isDashAdapter(config)) {\n            return PlaybackAdapterType.SHAKA;\n        }\n\n        if (PlaybackAdapterFactory.isHlsAdapter(config)) {\n            return PlaybackAdapterType.HLSJS;\n        }\n\n        return PlaybackAdapterType.UNKNOWN;\n    }\n\n    static getUrl(type: PlaybackAdapterType, config: PlaybackAdapterConfigInterface): string {\n        const overrides: OverridesInterface = config.playerOptions.overrides || {};\n        const resolveVersionTemplate = (url: string, version: string, context: any = {}): string => {\n            return Util.template(url, { VERSION: version, ...context });\n        };\n\n        if (overrides.dependencies?.[type]) {\n            return overrides.dependencies[type];\n        }\n\n        switch (type) {\n            case PlaybackAdapterType.HLSJS:\n                return resolveVersionTemplate(ExtLibEndpoint.HLSJS_GZIP_CDN, StreamingLibraryVersion.HLSJS);\n\n            case PlaybackAdapterType.DASHJS:\n                return resolveVersionTemplate(ExtLibEndpoint.DASHJS_GZIP_CDN, StreamingLibraryVersion.DASHJS);\n\n            case PlaybackAdapterType.SHAKA:\n                const DEBUG = (overrides.enableLowLevelStreamingLogs === true) ? '.debug' : '';\n                return resolveVersionTemplate(ExtLibEndpoint.SHAKA_GZIP_CDN, StreamingLibraryVersion.SHAKA, { DEBUG });\n\n            case PlaybackAdapterType.TWITCH_LOW_LATENCY:\n                return resolveVersionTemplate(ExtLibEndpoint.TWITCH_GZIP_CDN, StreamingLibraryVersion.TWITCH);\n\n            default:\n                return null;\n        }\n    }\n\n    static loadLib(url: string, config: PlaybackAdapterConfigInterface, lib: () => any): Promise<any> {\n        return new Promise((resolve, reject) => {\n            try {\n                if (lib() != null) {\n                    return resolve();\n                }\n            }\n            catch (error) { /* */ }\n\n            new ScriptLoader({\n                url: this.checkSslForUrl(config.system, url),\n                urls: [],\n                timeout: PlaybackAdapterFactory.getScriptLoaderTimeout(config.playerOptions.overrides),\n                onComplete: (e: EventInterface) => {\n                    const d = <ScriptLoaderComplete>e.data;\n                    if (d.error || d.timedOut) {\n                        reject(d);\n                    }\n                    else {\n                        resolve();\n                    }\n                },\n                errorRecovery: PlaybackAdapterFactory.getErrorRecoveryFromConfig(config)\n            });\n        });\n    }\n\n    static getAdapter(video: HTMLVideoElement, config: PlaybackAdapterConfigInterface, logger: LoggerInterface): Promise<PlaybackAdapterInterface> {\n\n        const type = PlaybackAdapterFactory.getAdapterType(config);\n        const videoSurface = PlaybackAdapterFactory.getVideoSurface(type, video, config, logger); //TEST if marked non static no access if no instace right??\n        const loadError = (code: string): any => ({ target: type, code, message: AppResources.messages.ADAPTER_LIB_UNAVAILABLE });\n        const url = this.getUrl(type, config);\n\n        switch (type) {\n            case PlaybackAdapterType.HLSJS:\n                return this.loadLib(url, config, () => (<any>window).Hls)\n                    .then(() => {\n                        logger.log(LogLevel.INFO, `Loading ${PlaybackAdapterType.HLSJS} external library version: ${StreamingLibraryVersion.HLSJS}`);\n                        return new HlsjsAdapter(videoSurface, config, logger);\n                    })\n                    .catch((error) => {\n                        throw loadError(ErrorCode.HLS_SDK_MISSING);\n                    });\n\n            case PlaybackAdapterType.DASHJS:\n                return this.loadLib(url, config, () => (<any>window).dashjs.MediaPlayer)\n                    .then(() => {\n                        logger.log(LogLevel.INFO, `Loading ${PlaybackAdapterType.DASHJS} external library version: ${StreamingLibraryVersion.DASHJS}`);\n                        return new DashjsAdapter(videoSurface, config, logger);\n                    })\n                    .catch((error) => {\n                        throw loadError(ErrorCode.DASH_SDK_MISSING);\n                    });\n\n            case PlaybackAdapterType.SHAKA:\n                return this.loadLib(url, config, () => (<any>window).shaka.Player)\n                    .then(() => {\n                        logger.log(LogLevel.INFO, `Loading ${PlaybackAdapterType.SHAKA} external library version: ${StreamingLibraryVersion.SHAKA}`);\n                        return new ShakaAdapter(videoSurface, config, logger);\n                    })\n                    .catch((error) => {\n                        throw loadError(ErrorCode.SHAKA_SDK_MISSING);\n                    });\n\n            case PlaybackAdapterType.TWITCH_LOW_LATENCY:\n                return this.loadLib(url, config, () => (<any>window).MediaPlayer)\n                    .then(() => {\n                        logger.log(LogLevel.INFO, `Loading ${PlaybackAdapterType.TWITCH_LOW_LATENCY} external library version: ${StreamingLibraryVersion.TWITCH}`);\n                        return new TwitchLowLatencyAdapter(videoSurface, config, logger);\n                    })\n                    .catch((error) => {\n                        throw loadError(ErrorCode.TWITCH_SDK_MISSING);\n                    });\n\n            case PlaybackAdapterType.HTML5:\n                return Promise.resolve(new Html5Adapter(videoSurface, config, logger));\n\n            case PlaybackAdapterType.PLAY_STATION:\n                return Promise.resolve(new PlayStationAdapter(videoSurface, config, logger));\n\n            default:\n                return Promise.reject(loadError(ErrorCode.UNEXPECTED_CONDITION));\n        }\n    }\n\n    private static isPlayStationAdapter(config: PlaybackAdapterConfigInterface): boolean {\n        return config.system.isWebMaf;\n    }\n\n    private static isHTML5Adapter(config: PlaybackAdapterConfigInterface): boolean {\n\n        const fairplayDetected = !Util.isEmpty(config.resource.location.drm?.fairplay?.appCertUrl),\n            isSafari = config.system.info.browser === Browser.SAFARI,\n            isIOS = config.system.os === Os.IOS,\n            isAndroid = config.system.os == Os.ANDROID,\n            osVersion = config.system.osVersionInfo,\n            url = config.resource.location.mediaUrl,\n            type = Util.getMimeType(url),\n            isM3u8 = type == MediaCapabilitiesMimeType.HLS;\n\n        if (!isM3u8 && type == MediaCapabilitiesMimeType.MP4_VIDEO) {\n            return true;\n        }\n\n        //HLS with FairPlay on Safari\n        if (isM3u8 && fairplayDetected && isSafari) {\n            return true;\n        }\n\n        //IOS\n        if (isM3u8 && isIOS) {\n            if (fairplayDetected && isSafari) {\n                return true;\n            }\n            else if (!fairplayDetected) {\n                return true;\n            }\n        }\n\n        //Android < 5\n        if (isM3u8 && !fairplayDetected && isAndroid && osVersion.majorVersion < 5) {\n            return true;\n        }\n\n        return false;\n    }\n\n    private static isDashAdapter(config: PlaybackAdapterConfigInterface): boolean {\n        const url = config.resource.location.mediaUrl;\n        return Util.getMimeType(url) == MediaCapabilitiesMimeType.DASH;\n    }\n\n    private static isTwitchLowLatencyAdapter(config: PlaybackAdapterConfigInterface): boolean {\n        //TODO Twitch Temp code until we decide what to do\n        const type = this.getAdapterOverride(config);\n        return type === PlaybackAdapterType.TWITCH_LOW_LATENCY;\n    }\n\n    private static isHlsAdapter(config: PlaybackAdapterConfigInterface): boolean {\n        const url = config.resource.location.mediaUrl,\n            isSafari = config.system.info.browser === Browser.SAFARI,\n            isIOS = config.system.os === Os.IOS,\n            isM3u8 = Util.getMimeType(url) == MediaCapabilitiesMimeType.HLS;\n\n        // Unsupported playback scenario... \n        if (isM3u8 && isIOS && !isSafari) {\n            return false;\n        }\n\n        return isM3u8;\n    }\n\n    private static isShakaAdapter(config: PlaybackAdapterConfigInterface): boolean {\n        const url = config.resource.location.mediaUrl;\n        const type = this.getAdapterOverride(config);\n        return Util.getMimeType(url) == MediaCapabilitiesMimeType.DASH && type === PlaybackAdapterType.SHAKA;\n    }\n\n    private static checkSslForUrl(system: SystemServiceInterface, baseUrl: string): string {\n        return system.isWebOs ? Util.makeUrl(true, baseUrl) : baseUrl;\n    }\n\n    private static getScriptLoaderTimeout(overrides: OverridesInterface): number {\n        let timeout = 5000;\n\n        if (overrides.streamingLibLoaderTimeout > 0) {\n            timeout = overrides.streamingLibLoaderTimeout;\n        }\n\n        return timeout;\n    }\n\n    private static getVideoSurface(type: PlaybackAdapterType, video: HTMLVideoElement, config: PlaybackAdapterConfigInterface, logger: LoggerInterface): VideoSurfaceInterface {\n        const useTextTrackSurface = (type != PlaybackAdapterType.SHAKA);\n        return type === PlaybackAdapterType.PLAY_STATION ?\n            new WebMafVideoSurface(config, logger) : new Html5VideoSurface(video, config, logger, useTextTrackSurface);\n    }\n\n    private static getErrorRecoveryFromConfig(config: PlaybackAdapterConfigInterface): ErrorRecoveryInterface {\n\n        let errorRecovery: ErrorRecoveryInterface = null;\n\n        const er = config.playerOptions.networkErrorRecovery\n        if (!Util.isEmpty(er)) {\n            errorRecovery = {\n                retryAttempts: er.retryAttempts,\n                retryIntervals: er.retryIntervals\n            }\n        }\n\n        return errorRecovery;\n    }\n}\n","import { AsyncDataRequest } from '../dataservice/AsyncDataRequest';\nimport { Request } from \"../iface/Request\";\nimport { QueryString } from './QueryString';\n\n/**\n * Helper function for making simple HTTP requests.\n * \n * @param options \n */\nexport function request(options: Request): Promise<any> {\n\tif (options.query) {\n\t\toptions.url = QueryString.append(options.url, options.query);\n\t}\n\treturn AsyncDataRequest.load(options).then(xhr => xhr.response);\n}\n","import { Util } from \"../../core/Util\";\n\nexport class WebVTTParser {\n\n  /**\n   * Parses a single WebVTT caption into a CaptionCue.\n   *\n   * @param   {String}        txt   The text of the caption\n   * @return  {CaptionCue}          The CaptionCue\n   */\n  static parseCaption(caption: string, id = 0, style: Record<string, string> = {}) {\n    // split up the caption parts\n    const parts = caption.trim().split(\"\\n\");\n    const timecode = /([0-9:.]+)\\s*-->\\s*([0-9:.]+)([^\\n]*)/;\n    const setting = /\\s*([A-Za-z]+)\\s*:\\s*([\\w\\-%]+)/g;\n\n    try {\n      if (!timecode.test(parts[0])) {\n        id = parseInt(parts.shift());\n      }\n      const times = parts[0].match(timecode).slice(1);\n      const settings = times[2];\n      const startTime = Util.hmsToSec(times[0]);\n      const endTime = Util.hmsToSec(times[1]);\n      const text = parts.slice(1).join(\"\\n\");\n\n      // parse the settings if they exists, and apply them to the cue\n      if (settings != null) {\n        settings.replace(setting, (match, key, value) => style[key] = value);\n      }\n\n      // create generic cue\n      return { id, startTime, endTime, text, ...style};\n    } \n    catch (error) {\n      // Should we log these errors?\n      return null;\n    }\n  }\n\n  /**\n   * Parses a WebVTT file into CaptionCue objects and attaches them to a given track.\n   *\n   * @param  txt   The text of the webvtt file\n   * @return The populated caption track\n   */\n  static parse(txt: string) {\n    // replace windows line breaks\n    txt = txt.replace(/\\r/g, '');\n\n    // split up the caption chunks\n    const captions = txt.split(\"\\n\\n\");\n    \n    // parse each multi-line chunk\n    const ignore = /^(WEBVTT|NOTE|STYLE)/;\n    const cues = captions.reduce((acc, caption) => {\n      if (!(ignore.test(caption) || !caption)) {\n        const cue = this.parseCaption(caption, acc.length);\n        if (cue) {\n          acc.push(cue);\n        }\n      }\n      return acc;\n    }, []);\n    \n    return cues;\n  }\n}\n","import { request } from '../../core/Request';\nimport { Util } from \"../../core/Util\";\nimport { ThumbnailCueInterface } from \"../../iface/ThumbnailCueInterface\";\nimport { WebVTTParser } from \"../util/WebVTTParser\";\n\nexport class ThumbnailTrackSurface {\n\n  url: string;\n  cues: ThumbnailCueInterface[];\n\n  constructor(url: string, cues: ThumbnailCueInterface[]) {\n    this.url = url;\n    this.cues = cues;\n  }\n\n  getCueAt(time: number) {\n    return Util.find(this.cues, cue => cue.startTime <= time && cue.endTime >= time);\n  }\n\n  renderCueAt(time: number, container: HTMLElement) {\n    ThumbnailTrackSurface.renderThumbnail(this.getCueAt(time), container);\n  }\n\n  static create(url: string) {\n    const a = document.createElement(\"a\");\n    a.href = url;\n    const absolute = a.protocol + \"//\" + a.hostname;\n    const relative = absolute + a.pathname.split(\"/\").slice(0, -1).join(\"/\") + \"/\";\n\n    return request({ url })\n      .then((response) => {\n        const cues = WebVTTParser.parse(response);\n        cues.forEach((cue) => {\n          const [file, params] = cue.text.split(\"#\");\n          let src = file;\n          if (!/^(https?:)?\\/\\//.test(src)) {\n            if (/^\\//.test(src)) {\n              src = absolute + src;\n            } else {\n              src = relative + src;\n            }\n          }\n          const kv = params.split(\"=\");\n          const keys = kv[0];\n          const values = kv[1].split(\",\");\n          const style: Record<string, string> = {\n            backgroundImage: `url(${src})`\n\n          };\n          const data: Record<string, any> = { url: src };\n\n          Util.forEach(keys, (key, i) => {\n            const value = values[i];\n\n            switch (key) {\n              case \"w\":\n                data.width = parseInt(value);\n                style.width = `${value}px`;\n                break;\n\n              case \"h\":\n                data.height = parseInt(value);\n                style.height = `${value}px`;\n                break;\n\n              case \"x\":\n                data.x = parseInt(value);\n                style.backgroundPositionX = `-${value}px`;\n                break;\n\n              case \"y\":\n                data.y = parseInt(value);\n                style.backgroundPositionY = `-${value}px`;\n            }\n          });\n\n          cue.style = style;\n          cue.data = data;\n        });\n\n        return new ThumbnailTrackSurface(url, cues);\n      });\n  }\n\n  static renderThumbnail(cue: ThumbnailCueInterface, container: HTMLElement) {\n    if (cue?.style && container?.style) {\n      Util.assign(container.style, cue.style);\n    }\n  }\n}\n","import { AppResources } from '../app/AppResources';\nimport { Util } from '../core/Util';\nimport { Browser } from '../enum/Browser';\nimport { LogLevel } from '../enum/LogLevel';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { NotificationType } from '../enum/NotificationType';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ServiceName } from '../enum/ServiceName';\nimport { StreamType } from '../enum/StreamType';\nimport { NotificationInterface, PlaybackAdapterInterface, PlayerDomProxyInterface, SystemServiceInterface } from '../iface';\nimport { AdCuePointInterface } from '../iface/AdCuePointInterface';\nimport { ContentPlaybackStateInterface } from '../iface/ContentPlaybackStateInterface';\nimport { ErrorInfoInterface } from '../iface/ErrorInfoInterface';\nimport { EventHandler } from '../iface/EventHandler';\nimport { EventInterface } from '../iface/EventInterface';\nimport { PlaybackAdapterConfigInterface } from '../iface/PlaybackAdapterConfigInterface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { PlaylistInterface } from '../iface/PlaylistInterface';\nimport { PresentationStateInterface } from '../iface/PresentationStateInterface';\nimport { QualityInfoInterface } from '../iface/QualityInfoInterface';\nimport { QualityInterface } from '../iface/QualityInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { VideoInterface } from '../iface/VideoInterface';\nimport { ContentPlaybackStateProxy } from '../model/ContentPlaybackStateProxy';\nimport { PerformanceProxy } from '../model/PerformanceProxy';\nimport { ResourceProxy } from '../model/ResourceProxy';\nimport { TextTrackProxy } from '../model/TextTrackProxy';\nimport { PlaybackAdapterFactory } from '../playback/adapter/PlaybackAdapterFactory';\nimport { Playback } from '../playback/enum/Playback';\nimport { PlaybackAdapterEvents } from '../playback/enum/PlaybackAdapterEvents';\nimport { TextTrackMode } from '../playback/enum/TextTrackMode';\nimport { TextTrackSurfaceEvents } from '../playback/enum/TextTrackSurfaceEvents';\nimport { VideoSurfaceEvents } from '../playback/enum/VideoSurfaceEvents';\nimport { ThumbnailTrackSurface } from '../playback/surface/ThumbnailTrackSurface';\nimport { Utils } from '../util/Utils';\nimport { LogAwareMediator } from './LogAwareMediator';\n\n\n/**\n * AbstractPresentationMediator interfaces with an appropriate (stream type-dependent)\n * playback adapter, and also captures events from the video element\n * (supplied as 'viewControl' to constructor). Key events invoke a 'respondTo<Context>'\n * method, each of which is abstract and must be implemented in concrete presentation sub-classes.\n *\n * In addition, this base object will listen for timer tic notifications to\n * trigger checks on buffering and size change of the presentation.\n */\nexport abstract class AbstractPresentationMediator extends LogAwareMediator {\n\n    protected started: boolean = false;\n    protected preloadContent: boolean = true;\n    protected isPlayingLive: boolean;\n    protected streamType: StreamType;\n    protected minDvrDuration = 1800;\n    protected contentPlaybackStateProxy: ContentPlaybackStateProxy;\n    protected playerOptions: PlayerOptionsInterface;\n    protected resourceProxy: ResourceProxy;\n    protected presoModel: PresentationStateInterface;\n\n    protected contentIsBuffering: boolean = false;\n    protected adapterEventHandler: EventHandler = (e: EventInterface) => this.hPlaybackAdaptorEvents(e);\n    protected videoEventHandler: EventHandler = (e: EventInterface) => this.hVideoAdapterEvents(e);\n    protected textTrackEventHandler: EventHandler = (e: EventInterface) => this.hTextTrackEvents(e);\n\n    private pAdapter: PlaybackAdapterInterface;\n    private endFreezeTimeoutHandle: any = null;\n    private loadComplete: boolean = false;\n    private offsetTtOnControlVis: boolean = false;\n    private isMonitoringCueEvents: boolean = false;\n\n    constructor(name: string, viewControl?: any) {\n        super(name, viewControl);\n        // debounce to limit the number of info changes events fired.\n        this.respondToTextTrackInfoChange = Util.debounce(this.respondToTextTrackInfoChange.bind(this), 10);\n    }\n\n    get adapter(): PlaybackAdapterInterface {\n        return this.pAdapter;\n    }\n\n    onRemove(): void {\n        clearTimeout(this.endFreezeTimeoutHandle);\n        this.removeEvents(PlaybackAdapterEvents, this.adapterEventHandler);\n        this.removeEvents(VideoSurfaceEvents, this.videoEventHandler);\n        this.removeEvents(TextTrackSurfaceEvents, this.textTrackEventHandler);\n\n        this.pAdapter = null;\n        this.contentPlaybackStateProxy = null;\n        this.resourceProxy = null;\n        this.presoModel = null;\n        this.playerOptions = null;\n\n        super.onRemove();\n    }\n\n    setVolume(value: number): void {\n        // TODO - WEBMAF - volume via adapter\n        this.presoModel.volume = value;\n    }\n\n    load(): Promise<void> {\n        return this.loadVideo();\n    }\n\n    play(): void {\n        this.playVideo();\n    }\n\n    pause(): void {\n        this.pauseVideo();\n    }\n\n    suspend(): void {\n        this.pAdapter.suspend();\n    }\n\n    resume(): void {\n        this.pAdapter.resume();\n    }\n\n    abstract playOnUserGesture(): void;\n    abstract getAdBreakTimes(): AdCuePointInterface[];\n    abstract close(): Promise<void>;\n\n    protected abstract checkSize(): void;\n    protected abstract respondToVideoPlaying(): void;\n    protected abstract respondToVideoPaused(): void;\n    protected abstract respondToVideoSeeking(): void;\n    protected abstract respondToVideoSeeked(): void;\n    protected abstract respondToVideoProgress(): void;\n    protected abstract respondToVideoTimeUpdate(streamTime: number): void;\n    protected abstract respondToQualityChange(quality?: QualityInterface): void;\n    protected abstract respondToVideoEnd(): void;\n    protected abstract respondToBufferingStatusCheck(): void;\n    protected abstract respondToDurationChange(dur: number): void;\n    protected abstract respondToFullscreenChange(state: boolean): void;\n    protected abstract respondToError(errorInfo: ErrorInfoInterface): void;\n    protected abstract respondToId3Data(d: any): void;\n    protected abstract respondToTextTrackModeChange(enabled: boolean): void\n\n    protected loadVideo(): Promise<void> {\n        return this.pAdapter.load();\n    }\n\n    protected playVideo(): void {\n        this.pAdapter && this.pAdapter.play();\n    }\n\n    protected pauseVideo(): void {\n        this.pAdapter && this.pAdapter.pause();\n    }\n\n    protected muteVideo(flag: boolean): void {\n        if (!flag && !this.presoModel.userHasUnmuted) {\n            this.presoModel.userHasUnmuted = true;\n        }\n        this.presoModel.isMuted = flag;\n    }\n\n    protected seekVideo(position: number): void {\n        this.pAdapter && this.pAdapter.seek(position);\n    }\n\n    protected checkVideoBuffering(): void {\n        const buffering: boolean = this.pAdapter && this.pAdapter.buffering;\n\n        if (!this.contentIsBuffering && buffering) {\n            this.contentIsBuffering = true;\n            this.notify(NotificationName.CONTENT_BUFFERING, { value: true });\n        }\n        else if (this.contentIsBuffering && !buffering) {\n            this.contentIsBuffering = false;\n            this.notify(NotificationName.CONTENT_BUFFERING, { value: false });\n        }\n    }\n\n    protected get video(): VideoInterface {\n        return <VideoInterface>this.viewControl;\n    }\n\n    protected notify(name: NotificationName, data?: any): void {\n        this.sendNotification(name, data || null, NotificationType.INTERNAL);\n    }\n\n    protected respondToIsPlayingLiveChange(isLive: boolean): void {\n        this.notify(NotificationName.CONTENT_IS_LIVE_CHANGED, { value: isLive });\n    }\n\n    protected respondToStreamTypeChange(streamType: StreamType): void {\n        const cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model;\n\n        if (this.streamType != streamType) {\n            this.streamType = streamType;\n            cps.streamType = streamType;\n            this.notify(NotificationName.STREAM_TYPE_CHANGE, { value: streamType });\n        }\n    }\n\n    protected respondToTtOffsetRequest(controlsVisible: boolean): void {\n        const sys = <SystemServiceInterface>this.facade.retrieveService(ServiceName.System);\n\n        if (sys.browser === Browser.FIREFOX) {\n            this.monitorTtCues(controlsVisible);\n        }\n        else {\n            const dp = <PlayerDomProxyInterface>this.facade.retrieveProxy(ProxyName.PlayerDomProxy);\n            dp && dp.setControlVisibility(controlsVisible);\n        }\n    }\n\n    // For Firefox only\n    protected monitorTtCues(flag: boolean): void {\n        const ctt = this.contentPlaybackStateProxy.nativeTextTrack,\n            cues = ctt && ctt.activeCues;\n\n        this.isMonitoringCueEvents = flag;\n\n        if (!cues) {\n            return;\n        }\n\n        for (let i = 0, n = cues.length || 0; i < n; i++) {\n            this.respondToTtCue(cues[i]);\n        }\n    }\n\n    // invoked for Firefox only\n    protected respondToTtCue(cue: TextTrackCue): void {\n        (<any>cue).line = this.isMonitoringCueEvents ? 14 : 'auto';\n    }\n\n    //////////////////////////\n    // private and mvc internal\n    handleNotification(notification: NotificationInterface): void {\n        switch (notification.name) {\n            case NotificationName.TIMER_TIC:\n                this.respondToBufferingStatusCheck();\n                this.checkSize();\n                break;\n\n            case NotificationName.FULLSCREEN_CHANGE:\n                const data = notification.body;\n                this.presoModel.isFullscreen = data.isFullscreen;\n                this.respondToFullscreenChange(data.isFullscreen);\n\n                break;\n\n            case NotificationName.AUTO_QUALITY_SWITCHING:\n                this.notify(NotificationName.QUALITY_INFO_CHANGE, this.contentPlaybackStateProxy.model.qualityInfo);\n                break;\n\n            case NotificationName.TT_OFFSET_REQUEST:\n                if (this.offsetTtOnControlVis) {\n                    this.respondToTtOffsetRequest(notification.body.controlsVisible);\n                }\n                break;\n        }\n    }\n\n    listNotificationInterests(): string[] {\n        return [\n            NotificationName.TIMER_TIC,\n            NotificationName.FULLSCREEN_CHANGE,\n            NotificationName.TT_OFFSET_REQUEST\n        ];\n    }\n\n    onRegister(): void {\n        super.onRegister();\n\n        this.contentPlaybackStateProxy = <ContentPlaybackStateProxy>this.facade.retrieveProxy(ProxyName.ContentPlaybackStateProxy);\n        this.resourceProxy = <ResourceProxy>this.facade.retrieveProxy(ProxyName.ResourceProxy);\n        this.presoModel = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n        this.playerOptions = <PlayerOptionsInterface>this.getModel(ModelName.PlayerOptions);\n\n        const overrides = this.resourceProxy.resource.overrides;\n        if (Util.isNumber(overrides?.minDvrDuration)) {\n            this.minDvrDuration = overrides.minDvrDuration;\n        }\n\n        if (this.presoModel.isMuteAtPlayStart && !this.presoModel.userHasUnmuted) {\n            this.muteVideo(true);\n            this.presoModel.isMuted = true;\n        }\n\n        this.offsetTtOnControlVis = this.playerOptions.offsetTextOnControlsVisible;\n    }\n\n    protected prepareForPlayback(forcePlay: boolean = false): void {\n\n        const config: PlaybackAdapterConfigInterface = {\n            system: this.systemService,\n            playerOptions: this.playerOptions, //TODO should we have a playerOpts proxy?\n            resource: this.resourceProxy.resource,\n            performanceSettings: <PerformanceProxy>this.facade.retrieveProxy(ProxyName.PerformanceProxy),\n            textTrackSettings: <TextTrackProxy>this.facade.retrieveProxy(ProxyName.TextTrackProxy)\n        };\n\n        PlaybackAdapterFactory.getAdapter(this.viewControl, config, this.logger)\n            .then(result => {\n                this.pAdapter = result;\n\n                this.addEvents(PlaybackAdapterEvents, this.adapterEventHandler);\n                this.addEvents(VideoSurfaceEvents, this.videoEventHandler);\n                this.addEvents(TextTrackSurfaceEvents, this.textTrackEventHandler);\n\n                this.pAdapter.initialize();\n\n                Promise.resolve()\n                    .then((): any => {\n                        if (this.preloadContent === true) {\n                            return this.pAdapter.load();\n                        }\n                    })\n                    .then(() => {\n                        if (this.presoModel.isAutoplay || forcePlay) {\n                            this.play();\n                        }\n                    });\n            })\n            .catch(error => {\n                this.logger.log(LogLevel.ERROR, error.target, error.message);\n                this.notify(NotificationName.RESOURCE_ERROR, error);\n            });\n    }\n\n    private hPlaybackAdaptorEvents(e: EventInterface): void {\n        const cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model;\n\n        switch (e.type) {\n            case PlaybackAdapterEvents.ABR_QUALITY_LOADED:\n\n                if (this.contentPlaybackStateProxy.isAbrSwitchingAvailable) {\n\n                    const qualityInfo: QualityInfoInterface = this.contentPlaybackStateProxy.qualityInfo,\n                        bitrate = this.contentPlaybackStateProxy.manifestQualities[e.data.index].bitrate,\n                        index = Utils.getIndexForBitrate(qualityInfo.qualities, bitrate, false),\n                        quality = qualityInfo.qualities[index];\n\n                    if (!qualityInfo.quality || qualityInfo.quality.bitrate !== quality.bitrate) {\n                        this.contentPlaybackStateProxy.quality = quality;\n                        cps.bitrate = quality.bitrate;\n                        this.respondToQualityChange(quality);\n                    }\n\n                }\n                break;\n\n            case PlaybackAdapterEvents.ABR_CONSTRAINTS_CHANGE:\n                if (!this.contentPlaybackStateProxy.isAbrSwitchingAvailable) {\n                    this.logger.log(LogLevel.INFO, AppResources.messages.ABR_UNAVAILABLE);\n                    this.contentPlaybackStateProxy.qualitySwitchingMode = Playback.ABR_SWITCHING_MODE_UNAVAILABLE;\n                }\n                else if (cps.qualityInfo) {\n                    this.contentPlaybackStateProxy.updateQualityProfile(e.data.minIndex, e.data.maxIndex, e.data.manifestQualities);\n                    this.log(LogLevel.INFO, 'Quality Info: ', cps.qualityInfo);\n                    this.notify(NotificationName.QUALITY_INFO_CHANGE, cps.qualityInfo);\n                }\n                break;\n\n            case PlaybackAdapterEvents.AUDIO_TRACK_UPDATED:\n                this.contentPlaybackStateProxy.updateAudioTracks(e.data.track, e.data.tracks);\n                this.notify(NotificationName.AUDIO_TRACK_INFO_CHANGE, e.data);\n                break;\n\n            case PlaybackAdapterEvents.AUDIO_TRACK_CHANGE:\n                this.contentPlaybackStateProxy.updateAudioTracks(e.data.track);\n                this.notify(NotificationName.AUDIO_TRACK_CHANGE, e.data.track);\n                break;\n\n            case PlaybackAdapterEvents.FRAGMENT_LOADED:\n                this.contentPlaybackStateProxy.maxBandwidth = e.data.bandwidth;\n                break;\n\n            case PlaybackAdapterEvents.FRAGMENT_PARSED:\n                cps.framerate = e.data.rate;\n                break;\n\n            case PlaybackAdapterEvents.MANIFEST_PARSED:\n                this.contentPlaybackStateProxy.processQualityProfile(e.data.profile);\n                this.contentPlaybackStateProxy.manifestQualities = e.data.profile;\n                break;\n\n            case PlaybackAdapterEvents.LOADED_METADATA:\n                this.notify(NotificationName.STREAM_METADATA, e.data);\n\n                try {\n                    const resource = (<PlaylistInterface>(<unknown>this.facade.retrieveProxy(ProxyName.Playlist))).currentResource;\n                    const url = resource.location.thumbnailTrackUrl\n                    if (!this.contentPlaybackStateProxy.thumbnailTrack && url) {\n                        ThumbnailTrackSurface.create(url)\n                            .then(t => {\n                                this.contentPlaybackStateProxy.thumbnailTrack = t;\n                                this.notify(NotificationName.THUMBNAIL_TRACK_AVAILABLE, t);\n                            })\n                            .catch(e => this.log(LogLevel.WARN, \"Could not load thumbnail track\"));\n                    }\n                }\n                catch (error) {\n                    this.log(LogLevel.WARN, \"Could not load thumbnail track\")\n                }\n                break;\n\n            case PlaybackAdapterEvents.ERROR:\n                this.respondToError(e.data as ErrorInfoInterface);\n                break;\n\n            case PlaybackAdapterEvents.MULTI_CDN:\n                const cdn = e.data.cdn;\n                if (cdn !== cps.cdn) {\n                    cps.cdn = cdn;\n                    this.notify(NotificationName.CDN_CHANGE, e.data);\n                }\n                break;\n\n            case PlaybackAdapterEvents.DRM_KEYSYSTEM_CREATED:\n                cps.drmType = e.data.keysystem;\n                this.notify(NotificationName.DRM_KEYSYSTEM_CREATED, e.data);\n                break;\n        }\n    }\n\n    private hVideoAdapterEvents(e: EventInterface): void {\n        const cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model;\n\n        switch (e.type) {\n            case VideoSurfaceEvents.PROGRESS:\n                cps.bufferLength = this.pAdapter.bufferLength;\n                cps.averageDroppedFps = this.pAdapter.droppedVideoFrames;\n                cps.framerate = this.pAdapter.framerate;\n                this.respondToVideoProgress();\n                break;\n\n            case VideoSurfaceEvents.CAN_PLAY_THROUGH:\n                if (!this.loadComplete) {\n                    this.loadComplete = true;\n                    this.notify(NotificationName.VIDEO_LOAD_COMPLETE);\n                }\n                break;\n\n            case VideoSurfaceEvents.LOADED_METADATA:\n                this.updateLiveStreamInfo();\n                this.notify(NotificationName.VIDEO_LOADED_METADATA);\n                break;\n\n            case VideoSurfaceEvents.TIME_UPDATE:\n                clearTimeout(this.endFreezeTimeoutHandle);\n                const t = this.pAdapter.time,\n                    d = this.presoModel.streamDuration;\n\n                if (this.pAdapter.isLiveStream) {\n                    this.updateLiveStreamInfo();\n                }\n                else if (!isNaN(d) && (d - t <= 0.15)) {\n                    this.protectAgainstEndFreeze(250);\n                }\n                this.respondToVideoTimeUpdate(t);\n                break;\n\n            case VideoSurfaceEvents.PLAYING:\n                this.updateLiveStreamInfo();\n                this.respondToVideoPlaying();\n                break;\n\n            case VideoSurfaceEvents.PAUSE:\n                this.respondToVideoPaused();\n                break;\n\n            case VideoSurfaceEvents.SEEKING:\n                this.respondToVideoSeeking();\n                break;\n\n            case VideoSurfaceEvents.SEEKED:\n                this.respondToVideoSeeked();\n                break;\n\n            case VideoSurfaceEvents.ENDED:\n                clearTimeout(this.endFreezeTimeoutHandle);\n                this.respondToVideoEnd();\n                break;\n\n            case VideoSurfaceEvents.DURATION_CHANGE:\n                // Protect against invalid durations such as NaN\n                const duration = this.pAdapter.duration;\n                if (duration > 0) {\n                    this.respondToDurationChange(duration);\n                }\n                break;\n\n            case VideoSurfaceEvents.VOLUME_CHANGE:\n                const video = e.data.target;\n                this.notify(NotificationName.VOLUME_CHANGE, { value: video.volume, muted: video.muted });\n                break;\n        }\n    }\n\n    private hTextTrackEvents(e: EventInterface): void {\n        const textTrackProxy = <TextTrackProxy>this.facade.retrieveProxy(ProxyName.TextTrackProxy);\n\n        switch (e.type) {\n            case TextTrackSurfaceEvents.METADATA_CUEPOINT:\n                this.respondToId3Data(e.data);\n                break;\n\n            case TextTrackSurfaceEvents.TEXT_CUEPOINT:\n                if (this.isMonitoringCueEvents) {\n                    this.respondToTtCue(<TextTrackCue>e.data);\n                }\n                this.notify(NotificationName.TEXT_CUEPOINT, e.data);\n                break;\n\n            case TextTrackSurfaceEvents.TEXT_TRACK_DISPLAY_MODE_CHANGE:\n                const enabled = e.data.mode !== TextTrackMode.DISABLED;\n                textTrackProxy.mode = e.data.mode;\n                this.notify(NotificationName.TEXT_TRACK_DISPLAY_MODE_CHANGE, { enabled });\n                this.respondToTextTrackModeChange(enabled);\n                break;\n\n            case TextTrackSurfaceEvents.TEXT_TRACK_ADDED:\n                this.contentPlaybackStateProxy.addTextTrack(<TextTrack>e.data);\n                this.respondToTextTrackInfoChange();\n                break;\n\n            case TextTrackSurfaceEvents.TEXT_TRACK_CHANGE:\n                const track = <TextTrack>e.data;\n                this.contentPlaybackStateProxy.nativeTextTrack = track;\n                this.notify(NotificationName.TEXT_TRACK_CHANGE, this.contentPlaybackStateProxy.textTrack);\n                this.respondToTextTrackInfoChange();\n                break;\n\n            case TextTrackSurfaceEvents.TEXT_TRACK_AVAILABLE:\n                this.notify(NotificationName.TEXT_TRACK_AVAILABLE);\n                break;\n        }\n    }\n\n    private respondToTextTrackInfoChange(): void {\n        this.notify(NotificationName.TEXT_TRACK_INFO_CHANGE, this.contentPlaybackStateProxy.textTrackInfo);\n    }\n\n    // TODO: This should be replaced with a debounced function\n    private protectAgainstEndFreeze(delay: number) {\n        this.endFreezeTimeoutHandle = setTimeout(() => {\n            this.respondToVideoEnd();\n        }, delay);\n    }\n\n    private addEvents(map: StrAnyDict, fn: EventHandler): void {\n        if (!this.pAdapter) { return }\n        for (let item in map) {\n            this.pAdapter.on(map[item], fn);\n        }\n    }\n\n    private removeEvents(map: StrAnyDict, fn: EventHandler): void {\n        if (!this.pAdapter) { return }\n        for (let item in map) {\n            this.pAdapter.off(map[item], fn);\n        }\n    }\n\n    private calculateStreamType(): StreamType {\n        if (this.pAdapter.isLiveStream) {\n            const liveStreamInfo = this.pAdapter.liveStreamInfo;\n            const dvr = liveStreamInfo.dvrWindowSize;\n            const isLiveLinearStream = dvr < this.minDvrDuration || isNaN(dvr);\n            return (isLiveLinearStream) ? StreamType.LIVE : StreamType.DVR;\n        }\n        else {\n            return StreamType.VOD;\n        }\n    }\n\n    private updateLiveStreamInfo(): void {\n        if (!this.pAdapter.isLiveStream) {\n            this.respondToStreamTypeChange(StreamType.VOD);\n            return;\n        }\n\n        const cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model;\n        const liveStreamInfo = this.pAdapter.liveStreamInfo;\n        cps.liveStreamInfo = liveStreamInfo;\n\n        const streamType = this.calculateStreamType();\n        this.respondToStreamTypeChange(streamType);\n\n        const isPlayingLive = (streamType == StreamType.LIVE) ? true : liveStreamInfo.isPlayingLive;\n        if (this.isPlayingLive != isPlayingLive) {\n            this.isPlayingLive = isPlayingLive;\n            this.respondToIsPlayingLiveChange(isPlayingLive);\n        }\n\n        if (cps.streamType == StreamType.DVR) {\n            this.respondToDurationChange(liveStreamInfo.relativeDuration);\n        }\n    }\n}\n","import { AppResources } from '../app/AppResources';\nimport { Logger } from '../core/Logger';\nimport { ErrorCode } from '../enum/ErrorCode';\nimport { LogLevel } from '../enum/LogLevel';\nimport { MediatorName } from '../enum/MediatorName';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { PlaybackState } from '../enum/PlaybackState';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ServiceName } from '../enum/ServiceName';\nimport { StreamType } from '../enum/StreamType';\nimport { MediatorInterface, NotificationInterface, PlayerDomProxyInterface, SystemServiceInterface, UiMediatorInterface } from '../iface';\nimport { AdCuePointInterface } from '../iface/AdCuePointInterface';\nimport { ContentPlaybackStateInterface } from '../iface/ContentPlaybackStateInterface';\nimport { ErrorInfoInterface } from '../iface/ErrorInfoInterface';\nimport { OverridesInterface } from '../iface/OverridesInterface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { QualityInterface } from '../iface/QualityInterface';\nimport { AbstractPresentationMediator } from './AbstractPresentationMediator';\n\n\n// provides base impl for abstract methods of AbstractPresentationMediator\nexport class CommonPresentationMediator extends AbstractPresentationMediator {\n\n    private uim: UiMediatorInterface = null;\n    private liveTZero: number = null;\n    private currentPresentationWidth: number = null;\n    protected contentDurationReleased: boolean = false;\n    protected resumeTimeMaxProximityToAdBreak: number = 5.0;\n    protected isClickToPlay: boolean = false;\n    protected fullscreenRestrictedDuringAdPlay: boolean = false;\n    protected hasContent: boolean = true;\n\n    onRemove() {\n        this.uim = null;\n        super.onRemove();\n    }\n\n    close(): Promise<void> {\n        this.pause();\n        this.log(LogLevel.INFO, 'Closing Presentation');\n\n        this.closeAds();\n\n        return Promise.resolve()\n            .then(() => (this.adapter) ? this.adapter.destroy() : null)\n            .then(() => {\n                const isAdPlaying = this.isAdPlaying();\n                if (this.hasContent && (!this.isContentComplete() || isAdPlaying)) {\n                    const cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model;\n                    this.sendNotification(NotificationName.RESOURCE_INTERRUPTED, {\n                        contentTime: cps.time,\n                        contentDuration: cps.duration,\n                        adInterrupted: isAdPlaying\n                    });\n                }\n                else {\n                    this.notify(NotificationName.RESOURCE_END);\n                }\n                /////////////////////////////////////////////////////////////////////\n                // Note - No code may come after the INTERRUPTED or END notification\n                /////////////////////////////////////////////////////////////////////\n            })\n            .catch((e) => {\n                Logger.error(e);\n                throw e;\n            });\n    }\n\n    // TODO: Move this to an AdPresentationMediator base class\n    closeAds(): void {\n        // no-op\n    }\n\n    playOnUserGesture(): void {\n        this.uiMediator && this.uiMediator.displayPoster(false);\n        this.notify(NotificationName.VIDEO_LOAD_START);\n\n        this.prepareForPlayback(true);\n    }\n\n    mute(flag: boolean): void {\n        this.muteVideo(flag);\n        this.uiMediator && this.uiMediator.setMuteState(flag);\n    }\n\n    seek(position: number): void {\n        this.seekVideo(position);\n    }\n\n    setVolume(value: number): void {\n        this.domProxy && this.domProxy.setVideoVolume(value);\n        super.setVolume(value);\n    }\n\n    getAdBreakTimes(): AdCuePointInterface[] {\n        return [];\n    }\n\n    protected releaseContentDuration(duration: number) {\n        this.contentDurationReleased = true;\n        this.notify(NotificationName.CONTENT_DURATION_AVAILABLE, {\n            contentDuration: duration\n        });\n    }\n\n    protected getLiveProgress(): number {\n        if (this.liveTZero === null) {\n            this.liveTZero = Date.now();\n        }\n\n        return Date.now() - this.liveTZero;\n    }\n\n    protected adjustStartTimeForAdBreakProximity(requestedStartTime: number, breaks: AdCuePointInterface[]): number {\n        for (let i = 0, n = breaks.length; i < n; i++) {\n            const bs = breaks[i].start,\n                diff = bs - requestedStartTime;\n\n            if (diff >= 0 && diff < this.resumeTimeMaxProximityToAdBreak) {\n                return requestedStartTime - this.resumeTimeMaxProximityToAdBreak;\n            }\n        }\n\n        return requestedStartTime;\n    }\n\n    protected get uiMediator(): UiMediatorInterface {\n        return this.uim;\n    }\n\n    protected get domProxy(): PlayerDomProxyInterface {\n        return <PlayerDomProxyInterface>this.facade.retrieveProxy(ProxyName.PlayerDomProxy);\n    }\n\n    protected muteVideo(flag: boolean) {\n        super.muteVideo(flag);\n        this.domProxy && this.domProxy.muteVideo(flag);\n    }\n\n    protected respondToFullscreenChange(state: boolean) {\n        this.checkSize();\n        this.notify(state ? NotificationName.FULLSCREEN_ENTER : NotificationName.FULLSCREEN_EXIT);\n    }\n\n    protected respondToVideoPaused(): void {\n        this.contentPlaybackStateProxy.model.state = PlaybackState.PAUSED;\n        this.notify(NotificationName.RESOURCE_PAUSED);\n    }\n\n    protected respondToVideoPlaying(): void {\n        this.contentPlaybackStateProxy.model.state = PlaybackState.PLAYING;\n        this.notify(NotificationName.RESOURCE_PLAYING);\n    }\n\n    protected respondToVideoSeeking(): void {\n        this.notify(NotificationName.CONTENT_SEEKING);\n    }\n\n    protected respondToVideoSeeked(): void {\n        this.notify(NotificationName.CONTENT_SEEKED);\n    }\n\n    protected respondToVideoProgress(): void {\n        this.notify(NotificationName.VIDEO_PROGRESS);\n    }\n\n    protected respondToQualityChange(quality: QualityInterface = null): void {\n        this.notify(NotificationName.QUALITY_CHANGE, quality);\n    }\n\n    protected respondToError(data: ErrorInfoInterface) {\n        this.uiMediator && this.uiMediator.displaySpinner(false);\n\n        // TODO: Replace with Short-Circuiting Assignment Operator ||= once upgrade to TS 4.0 is complete\n        if (!data.message) {\n            data.message = AppResources.messages.UNSPECIFIED_ERROR;\n        }\n\n        if (!data.code) {\n            data.code = ErrorCode.UNSPECIFIED_VIDEO_PLAYBACK_ERROR;\n        }\n\n        this.notify(NotificationName.VIDEO_PLAYBACK_ERROR, data);\n    }\n\n    /*\n        Resource end only applies when the resource has completed\n    */\n    protected respondToVideoEnd(): void {\n        this.notify(NotificationName.DISABLE_UI);\n        this.notify(NotificationName.RESOURCE_COMPLETE);\n        ///////////////////////////////////////////////////////////\n        // Note - No code may come after the RES_END notification\n        ///////////////////////////////////////////////////////////\n    }\n\n    protected respondToBufferingStatusCheck(): void {\n        const t = this.presoModel.streamTime;\n        !isNaN(t) && t > 0 && this.checkVideoBuffering();\n    }\n\n    protected respondToId3Data(d: any): void {\n        this.notify(NotificationName.METADATA_CUEPOINT, d);\n    }\n\n    protected respondToVideoTimeUpdate(streamTime: number): void {\n        const cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model;\n\n        let data: Record<string, number> = {\n            contentTime: cps.time,\n            streamTime: streamTime,\n            contentDuration: cps.duration,\n            streamDuration: this.presoModel.streamDuration\n        };\n\n        const isLive = cps.streamType === StreamType.LIVE;\n        if (isLive) {\n            data.elapsedTimeMs = this.getLiveProgress();\n        }\n\n        this.notify(NotificationName.CONTENT_TIME_UPDATE, data);\n    }\n\n    protected respondToDurationChange(dur: number): void {\n        // no op\n    }\n\n    protected respondToSizeChange(): void {\n        if (!this.adapter) {\n            return;\n        }\n\n        this.adapter.resize();\n    }\n\n    protected respondToTextTrackModeChange(enabled: boolean): void {\n        if (this.uiMediator) {\n            this.uiMediator.setClosedCaptionState(enabled);\n        }\n    }\n\n    // helpers\n    protected checkSize(): void {\n        if (!this.domProxy) return;\n\n        const pSz: ClientRect = this.domProxy.getPresentationRect(),\n            currWidth = this.currentPresentationWidth;\n\n        this.currentPresentationWidth = pSz.width;\n\n        if ((currWidth && pSz.width !== currWidth)) {\n            this.respondToSizeChange();\n\n            this.notify(NotificationName.PRESENTATION_SIZE_CHANGE, {\n                width: pSz.width,\n                height: pSz.height\n            });\n        }\n    }\n\n    // for now, hard-coded for DVR threshold of 30 minutes (1800 sec)\n    protected setTransportType(streamType = this.contentPlaybackStateProxy.model.streamType): void {\n        const seekable = streamType != StreamType.LIVE;\n\n        if (this.uiMediator) {\n            this.uiMediator.setSeekable(seekable);\n            this.uiMediator.setTransportType(streamType);\n            this.uiMediator.setIsPlayingLive(this.isPlayingLive);\n        }\n    }\n\n    protected setForClickToPlay(): void {\n        if (this.uiMediator) {\n            this.uiMediator.displayPoster(true);\n            this.uiMediator.activatePoster();\n        }\n        else {\n            const po = <PlayerOptionsInterface>this.getModel(ModelName.PlayerOptions);\n            if (po.useNativeControls) {\n                const m = this.domProxy.getMain();\n                const lr = () => {\n                    m.removeEventListener('click', lr);\n                    this.notify(NotificationName.PLAY_ON_USER_GESTURE);\n                };\n                m.addEventListener('click', lr);\n            }\n        }\n    }\n\n    protected setPausedState() {\n        if (this.uiMediator) {\n            this.uiMediator.setClickCatcherState(PlaybackState.PAUSED);\n            this.uiMediator.hideClickCatcher(false);\n        }\n    }\n\n    protected setPlayingState() {\n        if (this.uiMediator) {\n            this.uiMediator.setClickCatcherState(PlaybackState.PLAYING);\n            this.uiMediator.hideClickCatcher(false);\n        }\n    }\n\n    protected isContentComplete(): boolean {\n        const cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model;\n        return cps.streamType != StreamType.LIVE && cps.streamType != StreamType.DVR && !(isNaN(cps.time) || cps.time < cps.duration)\n    }\n\n    // TODO: Move this to an AdPresentationMediator base class\n    protected isAdPlaying(): boolean {\n        return this.presoModel.isCurrentVideoAd;\n    }\n\n    handleNotification(notification: NotificationInterface): void {\n        super.handleNotification(notification);\n    }\n\n    listNotificationInterests(): string[] {\n        return super.listNotificationInterests().concat([]);\n    }\n\n    onRegister(): void {\n        super.onRegister();\n\n        const o: OverridesInterface = this.playerOptions.overrides;\n\n        if (o.resumeTimeMaxProximityToAdBreak) {\n            this.resumeTimeMaxProximityToAdBreak = o.resumeTimeMaxProximityToAdBreak;\n        }\n\n        this.isClickToPlay = !this.presoModel.isAutoplay;\n\n        const uim: MediatorInterface = this.facade.retrieveMediator(MediatorName.UI);\n        uim && (this.uim = <UiMediatorInterface>uim);\n\n        const sys = <SystemServiceInterface>this.facade.retrieveService(ServiceName.System);\n\n        this.fullscreenRestrictedDuringAdPlay = sys.isIos || sys.isAndroid;\n        if (this.uim) {\n            this.uim.disableFullscreen();\n            this.uim.setFullScreenAccessRestricted(this.fullscreenRestrictedDuringAdPlay);\n        }\n\n        this.setTransportType(StreamType.VOD);\n    }\n}\n","import { NotificationName } from '../enum/NotificationName';\nimport { PresentationMediatorInterface } from '../iface';\nimport { ContentPlaybackStateInterface } from '../iface/ContentPlaybackStateInterface';\nimport { PresentationStateInterface } from '../iface/PresentationStateInterface';\nimport { CommonPresentationMediator } from './CommonPresentationMediator';\n\n/**\n * ContentPresentationMediator is used for content-only playback\n */\nexport class ContentPresentationMediator extends CommonPresentationMediator implements PresentationMediatorInterface {\n\n    constructor(name: string, viewControl?: any) {\n        super(name, viewControl);\n    }\n\n    // start the presentation\n    start(): void {\n        const pm: PresentationStateInterface = this.presoModel;\n\n        this.uiMediator && this.uiMediator.setMuteState(pm.isMuted);\n\n        if (this.isClickToPlay) {\n            this.setForClickToPlay();\n        }\n        else {\n            this.notify(NotificationName.VIDEO_LOAD_START);\n        }\n    }\n\n    protected respondToVideoPlaying(): void {\n        const cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model;\n        let sendStart = false;\n\n        cps.started = true;\n\n        if (!this.presoModel.started) {\n            this.presoModel.started = true;\n            this.started = true;\n\n            if (this.uiMediator) {\n                this.uiMediator.displayPoster(false);\n                this.presoModel.isMuteAtPlayStart && !this.presoModel.userHasUnmuted && this.uiMediator.showUnmutePrompt();\n                this.notify(NotificationName.ENABLE_UI);\n                this.uiMediator.setFullScreenAccessRestricted(false);\n                this.uiMediator.enableFullscreen();\n                this.setTransportType();\n            }\n\n            sendStart = true;\n        }\n\n        super.respondToVideoPlaying();\n        this.setPlayingState();\n\n        sendStart && this.notify(NotificationName.CONTENT_START);\n        this.notify(NotificationName.CONTENT_PLAYING);\n    }\n\n    protected respondToVideoTimeUpdate(streamTime: number) {\n        const cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model;\n\n        if (this.presoModel.started) {\n            this.presoModel.streamTime = streamTime;\n            cps.time = streamTime;\n\n            super.respondToVideoTimeUpdate(streamTime);\n        }\n    }\n\n    protected respondToVideoPaused(): void {\n        super.respondToVideoPaused();\n        this.setPausedState();\n\n        this.notify(NotificationName.CONTENT_PAUSED);\n    }\n\n    protected respondToIsPlayingLiveChange(isLive: boolean): void {\n        this.uiMediator && this.uiMediator.setIsPlayingLive(isLive);\n        super.respondToIsPlayingLiveChange(isLive);\n    }\n\n    protected respondToVideoEnd(): void {\n        this.notify(NotificationName.CONTENT_COMPLETE);\n        super.respondToVideoEnd();\n    }\n\n    protected respondToDurationChange(duration: number): void {\n        this.presoModel.streamDuration = duration;\n        this.contentPlaybackStateProxy.model.duration = duration;\n\n       if (!this.contentDurationReleased) {\n           this.releaseContentDuration(duration);\n       }\n    }\n\n    onRegister() {\n        super.onRegister();\n        this.domProxy && this.domProxy.showAdContainer(false);\n\n        !this.isClickToPlay && this.prepareForPlayback();\n    }\n}\n","\nimport { dai } from '../dai';\nimport { AdBreakType } from '../enum/AdBreakType';\nimport {\n    AdBreakCollection2Interface,\n    AdBreakCollectionInterface,\n    AdBreakScheduleItemInterface\n} from \"../iface\";\n\ndeclare type MidRollProcessor = (mid: AdBreakScheduleItemInterface) => any;\n\nexport class AdBreakSchedule {\n\n    private breaks: AdBreakCollectionInterface;\n    private breaksById: AdBreakCollection2Interface;\n\n    constructor(cueTimes: number[] | null, cuePoints?: dai.CuePoint[], contentDur?: number) {\n        this.breaks = {\n            pre: null,\n            mid: [],\n            post: null\n        };\n        this.breaksById = {};\n\n        if (cueTimes) this.createBreaksFromTimes(cueTimes);\n        else if (cuePoints) this.createBreaksFromCuepoints(cuePoints, contentDur);\n    }\n\n    destroy(): void {\n        this.breaks = null;\n        this.breaksById = null;\n        this.breaks = null;\n    }\n\n    get adBreaks(): AdBreakCollectionInterface {\n        return this.breaks;\n    }\n\n    hasMidRolls(): boolean {\n        return !!this.breaks.mid.length;\n    }\n\n    hasPostRoll(): boolean {\n        return !!this.breaks.post;\n    }\n\n    getBreakById(podId: string): AdBreakScheduleItemInterface | null {\n        return this.breaksById[podId] || null;\n    }\n\n    // dai-specific\n    updateBreaks(cues: dai.CuePoint[]) {\n        const played = [];\n        let brk: AdBreakScheduleItemInterface;\n\n        let i = cues.length;\n        while (i--) {\n            cues[i].played && played.push(cues[i].start);\n        }\n\n        for (let q in this.breaksById) {\n            brk = this.breaksById[q];\n\n            if (!brk.hasPlayed && played.indexOf(brk.streamStartTime) >= 0) {\n                brk.hasPlayed = true;\n            }\n        }\n    }\n\n    /**\n     * Returns true for supplied time (in seconds) if there\n     * is an upcoming ad break within 'proximity' seconds.\n     */\n    isBreakPending(time: number, proximity: number): boolean {\n        return !!this.processMid((mid: AdBreakScheduleItemInterface) => {\n            if (mid.startTime > time && ((mid.startTime - time) <= proximity)) {\n                return !mid.hasPlayed ? true : -1;\n            }\n\n            return null;\n        });\n    }\n\n    /**\n     * Returns ad break for supplied time (in seconds) if there\n     * is immediately preceding, un-played ad break.\n     */\n    getBreakForContentSeekTime(time: number): AdBreakScheduleItemInterface {\n        return this.processMid((mid: AdBreakScheduleItemInterface) => {\n            if (mid.startTime <= time) {\n                return !mid.hasPlayed ? mid : -1;\n            }\n\n            return null;\n        });\n    }\n\n    hasPlayed(podId: string): boolean {\n        return this.breaksById[podId] && this.breaksById[podId].hasPlayed === true;\n    }\n\n    markPlayed(podId: string): void {\n        this.breaksById[podId] && (this.breaksById[podId].hasPlayed = true);\n    }\n\n    /**\n     * fn must return a truthy value or -1 to break; null to continue loop\n     */\n    private processMid(fn: MidRollProcessor): AdBreakScheduleItemInterface | null {\n        if (!this.hasMidRolls()) {\n            return null;\n        }\n\n        const mid = this.breaks.mid;\n        let i: number = mid.length,\n            r: any;\n\n        while (i--) {\n            r = fn(mid[i]);\n\n            if (r == -1) {\n                return null;\n            }\n            else if (r) {\n                return r;\n            }\n        }\n\n        return null;\n    }\n\n    // DAI Cue points; value of  0 indicates a pre-roll.\n    // These bracket the mid-roll times (which are in \"content time\").\n\n    // dai case\n    private createBreaksFromCuepoints(cues: dai.CuePoint[], contentDur: number): void {\n        let midIdx = 1, t: number,\n            e: number, id: string, d: number, sst: number,\n            brk: AdBreakScheduleItemInterface;\n\n        cues.sort(function (a, b) {\n            return a.start - b.start;\n        });\n\n        let brkTimeTotal = 0;\n\n        for (let i = 0, n = cues.length; i < n; i++) {\n            t = cues[i].start;\n            e = cues[i].end;\n            d = e - t;\n            sst = t;\n\n            if ((t - brkTimeTotal) >= contentDur) {\n                t = -1;\n            }\n            brkTimeTotal += d;\n\n            id = this.makeBrkId(t, t > 0 ? midIdx++ : null);\n            brk = this.makeBreak(t, id, sst);\n            brk.endTime = e,\n                brk.duration = d,\n                this.addBreak(t, brk, id);\n        }\n    }\n\n    private createBreaksFromTimes(cues: number[]): void {\n        let midIdx = 1, t: number,\n            id: string;\n\n        cues.sort(function (a, b) {\n            return a - b;\n        })\n\n        for (let i = 0, n = cues.length; i < n; i++) {\n            t = cues[i];\n            id = this.makeBrkId(t, t > 0 ? midIdx++ : null);\n            this.addBreak(t, this.makeBreak(t, id), id);\n        }\n    }\n\n    private addBreak(t: number, brk: AdBreakScheduleItemInterface, id: string): void {\n        const prefix = id.split('_')[0];\n\n        t <= 0 ? (this.breaks[prefix] = brk) : this.breaks.mid.push(brk);\n        this.breaksById[id] = brk;\n    }\n\n    private makeBreak(t: number, id: string, sst: number = null): AdBreakScheduleItemInterface {\n        return {\n            startTime: t,\n            hasPlayed: false,\n            streamStartTime: sst !== null ? sst : null,\n            breakId: id,\n            type: t === 0 ? AdBreakType.PRE : t === -1 ? AdBreakType.POST : AdBreakType.MID\n        }\n    }\n\n    private makeBrkId(t: number, idx?: number): string {\n        const idPrefix = t === 0 ? \"pre\" : (t === -1 ? \"post\" : \"mid\");\n\n        return idPrefix + (t > 0 ? `_${idx}` : '_0');\n    }\n}\n","import { AppResources } from '../app/AppResources';\nimport { Emitter } from '../core/Emitter';\nimport { Util } from '../core/Util';\nimport { dai } from '../dai';\nimport { AdBreakType } from '../enum/AdBreakType';\nimport { ErrorCode } from '../enum/ErrorCode';\nimport { AdBreakScheduleItemInterface, DaiAdServiceInterface, DaiStreamManagerEventInterface, ImaAdInfoInterface, VideoMetadataInterface } from '../iface';\nimport { AdBreakInfoInterface } from '../iface/AdBreakInfoInterface';\nimport { AdCuePointInterface } from '../iface/AdCuePointInterface';\nimport { ErrorRecoveryInterface } from '../iface/ErrorRecoveryInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { AdBreakSchedule } from './AdBreakSchedule';\n\n\nexport class DaiStreamManager extends Emitter {\n\n    static event: DaiStreamManagerEventInterface = {\n        MEDIA_URL_AVAILABLE: 'mediaUrlAvailable',\n        STREAM_ID_AVAILABLE: 'streamIdAvailable',\n        AD_PERIOD_STARTED: 'adPeriodStarted',\n        AD_CUEPOINTS_AVAILABLE: 'adCuepointsAvailable',\n        AD_BREAK_START: 'adBreakStarted',\n        AD_BREAK_METADATA: 'adBreakMetadata',\n        AD_BREAK_COMPLETE: 'adBreakEnded',\n        AD_ERROR: 'adError',\n        AD_START: 'adStarted',\n        AD_COMPLETE: 'adComplete',\n        AD_PROGRESS: 'adProgress',\n        AD_CLICK: 'adClick',\n        AD_FIRST_QUARTILE: 'firstQuartile',\n        AD_MIDPOINT: 'midpoint',\n        AD_THIRD_QUARTILE: 'thirdQuartile',\n        RAW_AD_SCHEDULE_AVAILABLE: 'rawAdScheduleAvailable',\n    }\n\n    private mediaUrl!: string;\n    private adService: DaiAdServiceInterface;\n    private mgr: dai.StreamManager;\n\n    private sdk: dai.Sdk;\n    private streamInfo: StrAnyDict = {};\n    private adBreakSchedule: AdBreakSchedule = null;\n    private pStreamDuration: number = NaN;\n    private pContentDuration: number = NaN;\n    private breakMetadataPending: boolean = false;\n\n    private cuePoints: dai.CuePoint[];\n    private cuesReleased: boolean = false;\n    private adBreakInProgress: boolean = false;\n    private isLiveStream: boolean;\n    private breakCount: number = 0;\n    private unlockedBreaks: number[] = [];\n    private rawScheduleReleased: boolean = false;\n    private isIgnoringEvents: boolean = false;\n\n    private pendingCues: dai.CuePoint[];\n    private streamEventHandler: (e: dai.StreamEvent) => void;\n\n    constructor(adService: DaiAdServiceInterface) {\n        super(null);\n\n        this.cuePoints = [];\n        this.adService = adService;\n        this.sdk = this.adService.sdk;\n        this.mgr = this.adService.getStreamManager();\n\n        this.streamEventHandler = (e: dai.StreamEvent) => { this.hStreamEvent(e); };\n\n        this.initialize();\n    }\n\n    destroy() {\n        this.listenToStreamManager(false);\n        this.cuePoints = null;\n        this.adService = null;\n        this.sdk = null;\n        this.adBreakSchedule = null;\n        this.mgr = null;\n    }\n\n    getCuePoints(): dai.CuePoint[] {\n        return this.cuePoints || [];\n    }\n\n    getCuePointsInContentTime(): AdCuePointInterface[] {\n        const pts = this.cuePoints,\n            out = <AdCuePointInterface[]>[];\n\n        if (!pts) {\n            return out;\n        }\n        for (let i = 0, n = pts.length; i < n; i++) {\n            const p = pts[i],\n                d = p.end - p.start,\n                s = this.contentTimeForStreamTime(p.start);\n\n            out.push(<AdCuePointInterface>{\n                streamTimeStart: p.start,\n                streamTimeEnd: p.start + d,\n                start: s,\n                duration: d,\n                played: p.played\n            });\n        }\n\n        return out;\n    }\n\n    ignoreAdEvents(flag: boolean): void {\n        this.isIgnoringEvents = flag;\n    }\n\n    setUnlockedBreaks(breakTimes: number[]): void {\n        this.unlockedBreaks = breakTimes;\n    }\n\n    getUnlockedBreaks(): number[] {\n        return this.unlockedBreaks;\n    }\n\n    addUnlockedBreak(time: number): void {\n        this.unlockedBreaks.push(time);\n    }\n\n    hasPostRoll(): boolean {\n        return this.adBreakSchedule && this.adBreakSchedule.hasPostRoll();\n    }\n\n    checkForAdPeriod(streamTime: number, suppressEvent?: boolean): boolean {\n        let n = this.cuePoints.length, q, diffStart, diff1Ok, diff2Ok;\n\n        for (let i = 0; i < n; i++) {\n            q = this.cuePoints[i];\n            diffStart = streamTime - q.start;\n            diff1Ok = diffStart > -0.3 && diffStart < 2;\n            diff2Ok = (q.end - streamTime) >= 3;\n\n            if (this.isUnlockedBreak(q) && diff1Ok && diff2Ok) {\n                this.emit(DaiStreamManager.event.AD_PERIOD_STARTED, {\n                    streamResumeTime: q.end\n                });\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    isUnlockedBreak(q: dai.CuePoint) {\n        let i = this.unlockedBreaks.length;\n        while (i--) {\n            if (Math.floor(this.unlockedBreaks[i]) === Math.floor(q.start)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    getPermittedSeekTime(requestedSeekTime: number): number {\n        if (this.adBreakSchedule && this.adBreakSchedule.hasMidRolls()) {\n            const streamTime = this.mgr.streamTimeForContentTime(requestedSeekTime),\n                b: AdBreakScheduleItemInterface = this.adBreakSchedule.getBreakForContentSeekTime(streamTime);\n\n            if (b) {\n                let i = this.unlockedBreaks.length;\n\n                while (i--) {\n                    if (Math.floor(this.unlockedBreaks[i]) === Math.floor(b.streamStartTime)) {\n                        b.hasPlayed = true;\n                        return requestedSeekTime;\n                    }\n                }\n\n                return b.startTime;\n            }\n        }\n\n        return requestedSeekTime;\n    }\n\n    set streamDuration(d: number) {\n        this.pStreamDuration = d;\n        this.pContentDuration = this.mgr.contentTimeForStreamTime(d);\n\n        if (this.pendingCues && !this.cuesReleased) {\n            this.updateBreakSchedule(this.pendingCues);\n            this.releaseCues(this.pendingCues);\n            this.pendingCues = null;\n        }\n    }\n\n    get streamDuration(): number {\n        return this.pStreamDuration || NaN;\n    }\n\n    get contentDuration(): number {\n        return this.pContentDuration || NaN;\n    }\n\n    get streamId(): string {\n        return this.streamInfo.streamId;\n    }\n\n    onTimedMetadata(md: VideoMetadataInterface): void {\n        const obj: dai.StreamMetadataInterface = {\n            TXXX: md.TXXX || md.msg\n        }\n\n        this.mgr.onTimedMetadata(obj);\n    }\n\n    contentTimeForStreamTime(t: number): number {\n        return this.mgr.contentTimeForStreamTime(t);\n    }\n\n    streamTimeForContentTime(t: number): number {\n        return this.mgr.streamTimeForContentTime(t);\n    }\n\n    requestVODStream(requestObject: dai.VODStreamRequest, er: ErrorRecoveryInterface = null) {\n        const req = new this.sdk.VODStreamRequest(<dai.VODStreamRequest>requestObject);\n\n        this.isLiveStream = false;\n        this.mgr.requestStream(req, er);\n    }\n\n    requestLiveStream(requestObject: dai.LiveStreamRequest, er: ErrorRecoveryInterface = null): void {\n        const req = new this.sdk.LiveStreamRequest(requestObject);\n\n        this.isLiveStream = true;\n        this.mgr.requestStream(req, er);\n    }\n\n    private hStreamEvent(e: dai.StreamEvent): void {\n        if (!this.sdk || !this.adService || this.isIgnoringEvents) {\n            return;\n        }\n\n        //e.type != this.sdk.StreamEvent.Type.AD_PROGRESS && console.log(`%cSTREAM MGR evt: ${e.type}`, 'color: #880; font-size: 14px; font-weight: bold');\n\n        const evtType = e.type,\n            gamType = this.sdk.StreamEvent.Type,\n            myEvent = DaiStreamManager.event;\n\n        switch (evtType) {\n            case gamType.LOADED:\n                this.handleStreamLoaded(e);\n                break;\n\n            case gamType.STREAM_INITIALIZED:\n                const d = e.getStreamData();\n                this.streamInfo.streamId = d.streamId;\n                this.emit(myEvent.STREAM_ID_AVAILABLE, { streamId: d.streamId });\n                break;\n\n            case gamType.AD_PERIOD_STARTED:\n                // not used for now - manual checking done instead to normalize \n                // GAM SDK/custom SDK+DAI_API behavior.\n                // if (e.data && e.data.streamResumeTime) {\n                //     this.emit(myEvent.AD_PERIOD_STARTED, e.data);\n                // }\n                break;\n\n            case gamType.CUEPOINTS_CHANGED:\n                const cues = e.getStreamData().cuepoints;\n                if (!this.rawScheduleReleased) {\n                    this.emit(myEvent.RAW_AD_SCHEDULE_AVAILABLE, { schedule: this.getRawSchedule(cues) });\n                    this.rawScheduleReleased = true;\n                }\n                this.updateBreakSchedule(cues);\n                if (!isNaN(this.contentDuration) && !this.cuesReleased) {\n                    this.releaseCues(cues);\n                }\n                else {\n                    this.pendingCues = cues;\n                }\n                break;\n\n            case gamType.AD_BREAK_STARTED:\n                this.adBreakInProgress = true;\n                this.breakMetadataPending = true;\n                this.emit(myEvent.AD_BREAK_START);\n\n                break;\n\n            case gamType.STARTED:\n                const ad = e.getAd();\n                this.handleAdStart(ad, gamType.STARTED);\n                break;\n\n            case gamType.AD_PROGRESS:\n                if (this.adBreakInProgress) {\n                    const pData = e.getStreamData().adProgressData;\n                    this.emit(myEvent.AD_PROGRESS, pData);\n                }\n                break;\n\n            case gamType.FIRST_QUARTILE:\n                if (this.adBreakInProgress) {\n                    this.trackQuartile(gamType.FIRST_QUARTILE);\n                    this.emit(myEvent.AD_FIRST_QUARTILE);\n                }\n                break;\n\n            case gamType.MIDPOINT:\n                if (this.adBreakInProgress) {\n                    this.trackQuartile(gamType.MIDPOINT);\n                    this.emit(myEvent.AD_MIDPOINT);\n                }\n                break;\n\n            case gamType.THIRD_QUARTILE:\n                if (this.adBreakInProgress) {\n                    this.trackQuartile(gamType.THIRD_QUARTILE);\n                    this.emit(myEvent.AD_THIRD_QUARTILE);\n                }\n                break;\n\n            case gamType.COMPLETE:\n                if (this.adBreakInProgress) {\n                    this.handleAdComplete(gamType.COMPLETE);\n                }\n                break;\n\n            case gamType.AD_BREAK_ENDED:\n                this.adBreakInProgress && this.emit(myEvent.AD_BREAK_COMPLETE);\n                this.updateUnlockedBreaks();\n                this.adBreakInProgress = false;\n                break;\n\n            case gamType.CLICK:\n                this.adBreakInProgress && this.emit(myEvent.AD_CLICK);\n                break;\n\n            case gamType.ERROR:\n                this.adBreakInProgress = false;\n                this.emitError(e.getStreamData().errorMessage, e.data ? e.data.code : null);\n                break;\n        }\n    }\n\n    private handleAdComplete(evt: string): void {\n        if (!this.adService.usesDaiApi) {\n            this.adService.trackAdEvent({\n                context: this.adService.getAdContext(),\n                eventName: evt,\n                volume: this.adService.videoInterface.volume\n            });\n            this.adService.untrackAd();\n        }\n\n        this.emit(DaiStreamManager.event.AD_COMPLETE);\n    }\n\n    private trackQuartile(evt: string): void {\n        !this.adService.usesDaiApi && this.adService.trackAdEvent({\n            context: this.adService.getAdContext(),\n            eventName: evt,\n            volume: this.adService.videoInterface.volume\n        });\n    }\n\n    private handleAdStart(ad: dai.Ad, evt: string): void {\n        const abi: AdBreakInfoInterface = this.adService.assembleAdBreakInfo(ad),\n            ai: ImaAdInfoInterface = this.adService.assembleAdInfo(ad, { mediaUrl: this.mediaUrl }),\n            myEvent = DaiStreamManager.event;\n\n        if (this.breakMetadataPending || !this.adBreakInProgress) {\n            this.breakMetadataPending = false;\n            this.adBreakInProgress = true;\n\n            if (this.isLiveStream) {\n                abi.adBreakPosition = ++this.breakCount;\n                abi.adBreakType = AdBreakType.MID;\n            }\n            this.emit(myEvent.AD_BREAK_METADATA, abi);\n        }\n\n        if (!this.adService) {\n            return;\n        }\n\n        if (!this.adService.usesDaiApi) {\n            this.adService.trackAd(ai);\n            this.adService.trackAdEvent({\n                context: this.adService.getAdContext(),\n                eventName: evt,\n                volume: this.adService.videoInterface.volume\n            });\n        }\n\n        this.emit(myEvent.AD_START, ai);\n    }\n\n    private handleStreamLoaded(e: dai.StreamEvent): void {\n        const data = e.getStreamData(),\n            assetUrl = data.url;\n\n        if (!Util.isString(assetUrl) || assetUrl == '') {\n            this.emitError(AppResources.messages.DAI_MISSING_ASSET_URL);\n\n            return;\n        }\n\n        this.mediaUrl = assetUrl;\n\n        this.streamInfo.streamId = data.streamId;\n\n        this.emit(DaiStreamManager.event.STREAM_ID_AVAILABLE, { streamId: data.streamId });\n\n        this.emit(DaiStreamManager.event.MEDIA_URL_AVAILABLE, {\n            mediaUrl: assetUrl\n        });\n    }\n\n    private updateUnlockedBreaks(): void {\n        const b = this.adBreakSchedule.adBreaks;\n        for (const q in b) {\n            if (q === 'pre') this.updateUnlockedScheduleItems([b[q]]);\n            else this.updateUnlockedScheduleItems(b[q]);\n        }\n    }\n\n    private updateUnlockedScheduleItems(ba: AdBreakScheduleItemInterface[]): void {\n        let i = ba ? ba.length : 0;\n        while (i--) {\n            const b = ba[i];\n            if (b && b.hasPlayed && this.unlockedBreaks.indexOf(b.startTime) === -1) {\n                this.addUnlockedBreak(b.startTime);\n            }\n        }\n    }\n\n    private getRawSchedule(cues: AdCuePointInterface[]): AdCuePointInterface[] {\n        const out: AdCuePointInterface[] = [];\n\n        for (let i = 0, n = cues.length; i < n; i++) {\n            const q = cues[i];\n            out[i] = {\n                start: this.mgr.contentTimeForStreamTime(q.start),\n                streamTimeStart: q.start,\n                end: this.mgr.contentTimeForStreamTime(q.end),\n                streamTimeEnd: q.end,\n                played: false\n            }\n        }\n\n        return out;\n    }\n\n    private releaseCues(cues?: dai.CuePoint[]): void {\n        const out = [],\n            qlist = cues || this.cuePoints;\n\n        let i = qlist.length;\n\n        while (i--) {\n            out.unshift(this.contentTimeForStreamTime(qlist[i].start));\n        }\n\n        this.cuesReleased = true;\n\n        this.emit(DaiStreamManager.event.AD_CUEPOINTS_AVAILABLE, {\n            cuepoints: out\n        });\n    }\n\n    private emitError(msg: string, code?: ErrorCode): void {\n        this.emit(DaiStreamManager.event.AD_ERROR, {\n            message: msg,\n            code: code || ErrorCode.DAI_DATA_ERROR,\n            streamId: this.streamInfo.streamId || null\n        });\n    }\n\n    private listenToStreamManager(flag: boolean): void {\n        const m = flag ? 'addEventListener' : 'removeEventListener',\n            evts: string[] = this.getEventInterests();\n\n        let evt;\n        if (!this.sdk) {\n            return;\n        }\n        for (let i = 0, n = evts.length; i < n; i++) {\n            evt = this.sdk.StreamEvent.Type[evts[i]];\n            (<any>this.mgr)[m](evt, this.streamEventHandler);\n        }\n    }\n\n    private getEventInterests(): string[] {\n        return [\n            'LOADED', 'STREAM_INITIALIZED', 'CUEPOINTS_CHANGED',\n            'AD_BREAK_STARTED', 'AD_BREAK_ENDED',\n            'STARTED', 'COMPLETE',\n            'AD_PERIOD_STARTED',\n            'AD_PROGRESS',\n            'FIRST_QUARTILE', 'MIDPOINT', 'THIRD_QUARTILE',\n            'CLICK',\n            'ERROR',\n        ];\n    }\n\n    private updateBreakSchedule(cues: dai.CuePoint[]): void {\n        const valid = cues && cues.length;\n\n        this.cuePoints = [];\n\n        if (valid && this.contentDuration) {\n            let c: dai.CuePoint;\n            for (let i = 0, n = cues.length; i < n; i++) {\n                c = cues[i];\n                this.cuePoints.push({\n                    start: c.start,\n                    played: c.played,\n                    end: c.end\n                });\n            }\n\n            !this.adBreakSchedule && (this.adBreakSchedule = new AdBreakSchedule(null, cues, this.contentDuration));\n\n        }\n\n        valid && this.adBreakSchedule && this.adBreakSchedule.updateBreaks(cues);\n    }\n\n    initialize(): void {\n        this.listenToStreamManager(true);\n    }\n}\n","import { GamStaticParametersInterface } from '../iface';\n\nexport const gam_static_params: GamStaticParametersInterface = {\n    cmsid: 2289,\n    output: 'xml_vmap1',\n    unviewed_position_start: 1,\n    correlator: '1',\n    gdfp_req: 1,\n    env: 'vp'\n}","import { QueryString } from '../core/QueryString';\nimport { Util } from '../core/Util';\nimport { AdPlaybackContextInterface, GamStaticParametersInterface } from '../iface';\nimport { AdTagParametersInterface } from '../iface/AdTagParametersInterface';\nimport { ResourceAdViewabilityTrackingInterface } from '../iface/ResourceAdViewabilityTrackingInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { gam_static_params } from './gam_static_params';\n\n/* \nadTagParameters: {\n    description_url: string;\n    sz: string;\n    url: string;\n    iu: string;\n    ad_rule: string;\n    ciu_szs: string;\n    pp: string;\n    cmsid: string;\n    vid: string;\n    cust_params: object,\n    hl: string;\n    msid: string;\n    an: string;\n    nofb: string;\n    ppid: string;\n    tfcd: string;\n    npa:  string;\n    \n    output: string;\n}\n*/\n\nexport class AdParamAssembler {\n\n    private static SZ_DEFAULT: string = '640x480';\n    private static SZ_MUTED: string = '640x483';\n\n    assembleStdParams(rc: ResourceConfigurationInterface, info: AdPlaybackContextInterface): AdTagParametersInterface {\n        const constParams: GamStaticParametersInterface = gam_static_params,\n            stdp: AdTagParametersInterface = rc.ad.adTagParameters,\n            trkp: ResourceAdViewabilityTrackingInterface = rc.ad.viewabilityTracking,\n            out = <AdTagParametersInterface>{};\n\n        let q: string;\n\n        // const params; use supplied if defined or defaults in gam_static_params\n        for (q in constParams) {\n            out[q] = stdp[q] || constParams[q];\n        }\n\n        // user-supplied standard adTagParams\n        for (q in stdp) {\n            if (q !== 'cust_params' && !Util.isEmpty(stdp[q])) {\n                out[q] = stdp[q];\n            }\n        }\n\n        // ad partner, vguid, ptype\n        for (q in trkp) {\n            out[q] = trkp[q];\n        }\n\n        if (out.sz === AdParamAssembler.SZ_DEFAULT) {\n            const szStr = this.getSzStringForPlayback(info.mutedPlayback);\n            szStr && (out.sz = szStr);\n        }\n\n        return out;\n    }\n\n    getSzStringForPlayback(muted: boolean): string | null {\n        return muted ? AdParamAssembler.SZ_MUTED : null;\n    }\n\n    substituteStringForMutedPlayback(str: string) {\n        const szStr = this.getSzStringForPlayback(true);\n\n        if (szStr) {\n            const re = new RegExp(`sz=${AdParamAssembler.SZ_DEFAULT}`, 'g');\n\n            return str.replace(re, `sz=${szStr}`);\n        }\n\n        return str;\n    }\n\n    queryStrFromObj(obj: StrAnyDict, encode?: string[]): string {\n        return QueryString.encode(obj);\n    }\n\n    objFromQueryStr(str: string): StrAnyDict {\n        return QueryString.decode(str);\n    }\n}\n\n\n","import { Util } from '../core/Util';\nimport { dai } from '../dai';\nimport { AdPlaybackContextInterface } from '../iface';\nimport { AdTagParametersInterface } from '../iface/AdTagParametersInterface';\nimport { ResourceAdDaiInterface } from '../iface/ResourceAdDaiInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { AdParamAssembler } from './AdParamAssembler';\n\n\nexport class DaiStreamRequestAssembler extends AdParamAssembler {\n\n    private static FILTER_OUT_PREMIUM_AUDIO = 'codec:ac-3,codec:ec-3';\n\n    constructor() {\n        super();\n    }\n\n    assembleStreamRequest(r: ResourceConfigurationInterface, info: AdPlaybackContextInterface, skipEncode: boolean = false): dai.StreamRequest {\n        const stdParamsObj: AdTagParametersInterface = this.assembleStdParams(r, info),\n            daiParams: ResourceAdDaiInterface = r.ad.dai;\n\n        if (daiParams.filterOutPremiumAudioCodecs) {\n            stdParamsObj['dai-excl'] = DaiStreamRequestAssembler.FILTER_OUT_PREMIUM_AUDIO;\n        }\n\n        const atp: StrAnyDict = Util.assign({}, stdParamsObj);\n        atp.cust_params = this.queryStrFromObj(r.ad.adTagParameters.cust_params, skipEncode ? [] : []);\n\n        delete atp.output;\n\n        const obj = <dai.StreamRequest>{\n            apiKey: daiParams.apiKey,\n            assetKey: daiParams.assetKey || null,\n            streamActivityMonitorId: daiParams.streamActivityMonitorId || null,\n            adTagParameters: atp,\n            videoId: daiParams.daiVideoId || null,\n            contentSourceId: daiParams.contentSourceId || null\n        };\n\n        Util.isString(daiParams.format) && (obj.format = daiParams.format);\n\n        return obj;\n    }\n}\n","import { ModelName } from '../enum/ModelName';\nimport { ProxyName } from '../enum/ProxyName';\nimport { AdDataProxyInterface } from '../iface';\nimport { AdBreakInfoInterface } from '../iface/AdBreakInfoInterface';\nimport { AdItemInterface } from '../iface/AdItemInterface';\nimport { ModelInterface } from '../iface/ModelInterface';\nimport { Proxy } from '../mvc/Proxy';\nimport { ModelCollectionProxy } from './ModelCollectionProxy';\n\n\n// Note: get accessors return a copy of the raw data - it can be read, \n// but modifications to the object/values are not recorded to the model.\nexport class AdDataProxy extends Proxy implements AdDataProxyInterface {\n\n    private breakModel!: AdBreakInfoInterface;\n    private adItemModel!: AdItemInterface;\n\n    constructor(name: string, data?: any) {\n        super(name, data);\n    }\n\n    onRegister() {\n        const mcp = <ModelCollectionProxy>this.facade.retrieveProxy(ProxyName.ModelCollectionProxy);\n\n        this.breakModel = <AdBreakInfoInterface>mcp.getModel(ModelName.AdBreakInfo);\n        this.adItemModel = <AdItemInterface>mcp.getModel(ModelName.AdItem);\n    }\n\n    onRemove(): void {\n        this.breakModel = null;\n        this.adItemModel = null;\n\n        super.onRemove();\n    }\n\n    resetAll() {\n        (<ModelInterface>(<unknown>this.breakModel)).reset();\n        this.resetAd();\n    }\n\n    resetAd() {\n        (<ModelInterface>(<unknown>this.adItemModel)).reset();\n    }\n\n    set breakInfo(bi: AdBreakInfoInterface) {\n        const m = this.breakModel.model;\n        for (let q in m) {\n            if (Object.prototype.hasOwnProperty.call(bi, q)) {\n                m[q] = bi[q];\n            }\n        }\n    }\n    get breakInfo(): AdBreakInfoInterface {\n        const m = <ModelInterface>(<unknown>this.breakModel);\n        return <AdBreakInfoInterface>(m.data);\n    }\n\n    set adInfo(ai: AdItemInterface) {\n        const m = this.adItemModel.model;\n        for (let q in m) {\n            if (Object.prototype.hasOwnProperty.call(ai, q)) {\n                m[q] = ai[q];\n            }\n        }\n    }\n    get adInfo(): AdItemInterface {\n        const m = <ModelInterface>(<unknown>this.adItemModel);\n        return <AdItemInterface>(m.data);\n    }\n}\n","import { DaiStreamManager } from '../ad/DaiStreamManager';\nimport { DaiStreamRequestAssembler } from '../ad/DaiStreamRequestAssembler';\nimport { Util } from '../core/Util';\nimport { dai } from '../dai';\nimport { LogLevel } from '../enum/LogLevel';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { PlaybackState } from '../enum/PlaybackState';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ServiceName } from '../enum/ServiceName';\nimport { AdDataProxyInterface, AdPlaybackContextInterface, DaiAdServiceInterface, PresentationMediatorInterface } from '../iface';\nimport { AdBreakInfoInterface } from '../iface/AdBreakInfoInterface';\nimport { AdCuePointInterface } from '../iface/AdCuePointInterface';\nimport { AdItemInterface } from '../iface/AdItemInterface';\nimport { BuildInfoInterface } from '../iface/BuildInfoInterface';\nimport { ContentPlaybackStateInterface } from '../iface/ContentPlaybackStateInterface';\nimport { EventHandler } from '../iface/EventHandler';\nimport { EventInterface } from '../iface/EventInterface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { AdDataProxy } from '../model/AdDataProxy';\nimport { ResourceProxy } from '../model/ResourceProxy';\nimport { DashEmsg } from '../playback/enum/DashEmsg';\nimport { CommonPresentationMediator } from './CommonPresentationMediator';\nimport { StreamType } from '../enum/StreamType';\n\n\n/**\n * DaiPresentationMediator is used for Google DAI streams (combined content/ad stream)\n */\nexport class DaiPresentationMediator extends CommonPresentationMediator implements PresentationMediatorInterface {\n\n    private adDataProxy: AdDataProxyInterface;\n    private streamManager!: DaiStreamManager;\n    private streamEventHandler!: EventHandler;\n    private contentSegmentStarted: boolean = false;\n    private contentStartReleased: boolean = false;\n    private pendingSeekTime: number = null;\n    private contentCompleteReleased: boolean = false;\n    private presoComplete: boolean = false;\n    private rawAdSchedule: AdCuePointInterface[] = null;\n\n    constructor(name: string, viewControl?: any) {\n        super(name, viewControl);\n    }\n\n    onRemove(): void {\n        this.listenToStreamManager(false);\n        this.adService && this.adService.reset();\n        this.streamManager.destroy();\n        this.streamManager = null;\n        this.adDataProxy = null;\n\n        super.onRemove();\n    }\n\n    closeAds(): void {\n        this.listenToStreamManager(false);\n        this.adService && this.adService.reset();\n    }\n\n    start(): void {\n        const pm = this.presoModel;\n\n        this.uiMediator && this.uiMediator.setMuteState(pm.isMuted);\n        this.adService.setMuted(pm.isMuteAtPlayStart && !pm.userHasUnmuted);\n\n        this.presoModel.usesSsai = true;\n        this.initStreamManager();\n    }\n\n    getAdBreakTimes(): AdCuePointInterface[] {\n        return this.streamManager ? this.streamManager.getCuePointsInContentTime() : null;\n    }\n\n    // Note:  DaiStreamManager wraps a Google SDK StreamManager,\n    // or its equivalent if using the DAI API\n    initStreamManager(): void {\n        const streamRequest = this.assembleStreamRequest(),\n            pOpts = <PlayerOptionsInterface>this.getModel(ModelName.PlayerOptions),\n            isLive = !Util.isEmpty(streamRequest.assetKey);\n\n        this.streamManager = new DaiStreamManager(this.adService);\n        this.streamEventHandler = (e: EventInterface) => { this.hStreamEvent(e); };\n        this.listenToStreamManager(true);\n\n        if (isLive) {\n            this.streamManager.requestLiveStream(<dai.LiveStreamRequest>streamRequest, pOpts.networkErrorRecovery);\n        }\n        else {\n            this.streamManager.requestVODStream(<dai.VODStreamRequest>streamRequest, pOpts.networkErrorRecovery);\n        }\n    }\n\n    assembleStreamRequest(): dai.StreamRequest {\n        const resource: ResourceConfigurationInterface = (<ResourceProxy>this.facade.retrieveProxy(ProxyName.ResourceProxy)).resource,\n            context: AdPlaybackContextInterface = {\n                buildEnv: (<BuildInfoInterface>this.getModel(ModelName.BuildInfo)).env,\n                platform: this.adService.getGamPlatformString(),\n                mutedPlayback: this.presoModel.isMuteAtPlayStart && !this.presoModel.userHasUnmuted\n            };\n\n        const assembler = new DaiStreamRequestAssembler();\n\n        return assembler.assembleStreamRequest(resource, context);\n    }\n\n    mute(flag: boolean): void {\n        this.muteVideo(flag);\n        this.uiMediator && this.uiMediator.setMuteState(flag);\n        this.adService.setMuted(flag);\n    }\n\n    seek(position: number): void {\n        if (this.isAdPlaying()) { return; }\n\n        const t: number = this.streamManager.getPermittedSeekTime(position),\n            t2 = t === position ? this.streamManager.streamTimeForContentTime(t) : t;\n\n        if (t !== position) {\n            this.notify(NotificationName.SEEK_REDIRECT_START, {\n                requestedSeekTime: position,\n                actualSeekTime: t\n            });\n            this.pendingSeekTime = this.streamManager.streamTimeForContentTime(position);\n        }\n\n        this.seekVideo(t2);\n    }\n\n    protected respondToId3Data(d: any): void {\n        const msg = !Util.isEmpty(d.info) ? d.info : (!Util.isEmpty(d.data) ? d.data : null);\n\n        if (msg && (d.id === 'google_dai' || d.id == DashEmsg.GOOGLE_DAI)) {\n            this.log(LogLevel.INFO, `metadata received - id: ${d.id} msg ${msg}`);\n            this.streamManager.onTimedMetadata({ TXXX: msg });\n        }\n        else {\n            super.respondToId3Data(d);\n        }\n    }\n\n    protected respondToVideoPlaying(): void {\n        if (!this.presoModel.started) {\n            this.presoModel.started = true;\n\n            if (this.uiMediator) {\n                this.uiMediator && this.uiMediator.displayPoster(false);\n                this.uiMediator && this.uiMediator.hideClickCatcher(true);\n                this.presoModel.isMuteAtPlayStart && !this.presoModel.userHasUnmuted && this.uiMediator.showUnmutePrompt();\n                this.setTransportType();\n            }\n\n            this.notify(NotificationName.ENABLE_UI);\n        }\n\n        super.respondToVideoPlaying();\n\n        if (this.isAdPlaying()) {\n            this.notify(NotificationName.AD_PLAYING);\n        }\n        else if (this.contentSegmentStarted) {\n            this.contentPlaybackStateProxy.model.state = PlaybackState.PLAYING;\n            this.setPlayingState();\n            this.notify(NotificationName.CONTENT_PLAYING);\n        }\n    }\n\n    protected respondToVideoPaused(): void {\n        super.respondToVideoPaused();\n\n        if (this.isAdPlaying()) {\n            this.notify(NotificationName.AD_PAUSED);\n        }\n        else {\n            this.contentPlaybackStateProxy.model.state = PlaybackState.PAUSED;\n            this.setPausedState();\n            this.notify(NotificationName.CONTENT_PAUSED);\n        }\n    }\n\n    protected respondToVideoTimeUpdate(streamTime: number): void {\n        const cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model;\n\n        this.adService.setCurrentTime(streamTime);\n        this.streamManager.ignoreAdEvents(false);\n\n        this.presoModel.streamTime = streamTime;\n        cps.time = this.streamManager.contentTimeForStreamTime(streamTime);\n\n        // NOTE: 'ad period' denotes an ad break that has already played or is otherwise unlocked\n        // the check will result in an AD_PERIOD_STARTED event (and in turn a seek to the next content segment)\n        // Manual checking is necessary because The GAM SDK does not emit the AD_PERIOD_STARTED event\n        const willSkipBreak = this.streamManager.checkForAdPeriod(streamTime);\n\n        if (this.isAdPlaying() || willSkipBreak) {\n            return;\n        }\n\n        // we may get a video time update before the stream pre-roll break event,\n        // so wait a little bit (0.75 sec) to detect content start. If we're past 0.75\n        // and there's no ad playing (see above), then we're in content.\n        if (streamTime > 0.75 && !this.contentSegmentStarted) {\n            this.contentSegmentStarted = true;\n            this.contentPlaybackStateProxy.model.started = true;\n            this.domProxy && this.domProxy.showAdContainer(false);\n            this.setPlayingState();\n            this.setTransportType();\n            !this.contentStartReleased && this.signalContentStart();\n\n            if (this.fullscreenRestrictedDuringAdPlay && this.uiMediator) {\n                this.uiMediator.setFullScreenAccessRestricted(false);\n                this.uiMediator.enableFullscreen();\n            }\n\n            this.notify(NotificationName.CONTENT_SEGMENT_START);\n        }\n\n        if (this.contentSegmentStarted) {\n            super.respondToVideoTimeUpdate(streamTime);\n        } \n\n        if (cps.streamType !== StreamType.LIVE && (cps.time >= cps.duration) && !this.contentCompleteReleased) {\n            this.signalContentComplete();\n        }\n    }\n\n    protected respondToVideoEnd(): void {\n        if (!this.streamManager.hasPostRoll() && !this.contentCompleteReleased) {\n            this.signalContentComplete();\n        }\n        this.presoComplete = true;\n        super.respondToVideoEnd();\n    }\n\n    protected respondToDurationChange(duration: number): void {\n        const cd = this.streamManager.contentTimeForStreamTime(duration);\n\n        this.contentPlaybackStateProxy.model.duration = cd;\n        this.presoModel.streamDuration = duration;\n        this.adService.setDuration(duration);\n\n        if (!this.contentDurationReleased && cd && !isNaN(cd) && cd > 0) {\n            this.releaseContentDuration(cd);\n        }\n        this.streamManager.streamDuration = duration;\n    }\n\n    protected isContentComplete() {\n        return this.presoComplete;\n    }\n\n    ///////////\n    // PRIVATE\n\n    private signalContentStart(): void {\n        this.contentStartReleased = true;\n        this.notify(NotificationName.CONTENT_START);\n    }\n\n    private signalContentComplete(): void {\n        this.contentCompleteReleased = true;\n        this.notify(NotificationName.CONTENT_SEGMENT_END);\n        this.notify(NotificationName.CONTENT_COMPLETE);\n    }\n\n    private get adService(): DaiAdServiceInterface {\n        return <DaiAdServiceInterface>this.facade.retrieveService(ServiceName.DaiAd);\n    }\n\n    private handleMediaUrlAvailable(url: string): void {\n        const suppliedContentStartTime = this.resourceProxy.playback.startTime,\n            showPreRoll = this.resourceProxy.ad.showPrerollOnNonZeroStart,\n            nonZeroStart = !isNaN(suppliedContentStartTime) && suppliedContentStartTime > 0;\n\n        if (nonZeroStart) {\n            const times: number[] = this.rawAdSchedule.map((o: AdCuePointInterface) => o.streamTimeStart),\n                actualContentStartTime = this.adjustStartTimeForAdBreakProximity(suppliedContentStartTime, this.rawAdSchedule),\n                streamStartTime = this.streamManager.streamTimeForContentTime(actualContentStartTime);\n\n            this.checkForBreaksToUnlock(times);\n\n            if (showPreRoll) {\n                this.resourceProxy.playback.startTime = NaN;\n                this.pendingSeekTime = streamStartTime;\n            }\n            else {\n                const isDash = this.resourceProxy.ad.dai.format == 'dash';\n                if (isDash) {\n                    this.streamManager.ignoreAdEvents(true);\n                }\n                this.resourceProxy.playback.startTime = streamStartTime;\n            }\n        }\n\n        this.resourceProxy.location.mediaUrl = url;\n\n        this.adService.initViewabilityTracking();\n\n        if (this.isClickToPlay) {\n            this.setForClickToPlay();\n        }\n        else {\n            this.notify(NotificationName.VIDEO_LOAD_START);\n            this.prepareForPlayback();\n        }\n    }\n\n    private checkForBreaksToUnlock(brkTimes: number[]) {\n        if (!brkTimes || !brkTimes.length) { return; }\n\n        const t = this.resourceProxy.playback.startTime,\n            pre = this.resourceProxy.ad.showPrerollOnNonZeroStart,\n            st = this.streamManager.streamTimeForContentTime(t),\n            out = [];\n\n        if (st > 0) {\n            if (pre !== true) out.push(0);\n\n            let i = brkTimes.length;\n            while (i--) {\n                if (i > 0 && st > brkTimes[i]) {\n                    out.push(brkTimes[i]);\n                    break;\n                }\n            }\n\n            this.streamManager && this.streamManager.setUnlockedBreaks(out);\n        }\n    }\n\n    private hStreamEvent(e: EventInterface): void {\n        const dse = DaiStreamManager.event,\n            t = e.type;\n\n        //t != dse.AD_PROGRESS && console.log(`%cEvt: ${t}`, 'color: #808; font-size: 14px; font-weight: bold');\n\n        switch (t) {\n            case dse.RAW_AD_SCHEDULE_AVAILABLE:\n                this.rawAdSchedule = e.data.schedule;\n                break;\n\n            case dse.STREAM_ID_AVAILABLE:\n                this.presoModel.streamId = this.streamManager.streamId;\n                break;\n\n            case dse.MEDIA_URL_AVAILABLE:\n                this.handleMediaUrlAvailable(e.data.mediaUrl);\n                break;\n\n            case dse.AD_CUEPOINTS_AVAILABLE:\n                this.notify(NotificationName.AD_CUEPOINTS_AVAILABLE, e.data);\n                break;\n\n            case dse.AD_PERIOD_STARTED:\n                this.seekVideo(e.data.streamResumeTime);\n                break;\n\n            case dse.AD_BREAK_START:\n                if (this.contentSegmentStarted) {\n                    this.contentSegmentStarted = false;\n                    this.notify(NotificationName.CONTENT_SEGMENT_END);\n                }\n                this.domProxy && this.domProxy.showAdContainer(true);\n                this.presoModel.isCurrentVideoAd = true;\n\n                this.uiMediator && this.uiMediator.hideClickCatcher(true);\n\n                this.notify(NotificationName.AD_BREAK_START);\n                break;\n\n            case dse.AD_BREAK_METADATA:\n                const bi = <AdBreakInfoInterface>e.data;\n                this.adDataProxy.breakInfo = bi;\n                this.notify(NotificationName.AD_BREAK_METADATA, {adBreakInfo: bi});\n                break;\n\n            case dse.AD_START:\n                const adData = <AdItemInterface>e.data\n                this.adDataProxy.adInfo = adData;\n                this.notify(NotificationName.AD_START, {adInfo: adData});\n                break;\n\n            case dse.AD_PROGRESS:\n                this.notify(NotificationName.AD_TIME_UPDATE, {\n                    currentTime: e.data.currentTime,\n                    duration: e.data.duration,\n                    streamTime: this.presoModel.streamTime,\n                    streamDuration: this.presoModel.streamDuration\n                });\n                break;\n\n            case dse.AD_FIRST_QUARTILE:\n                this.notify(NotificationName.AD_FIRST_QUARTILE);\n                break;\n\n            case dse.AD_MIDPOINT:\n                this.notify(NotificationName.AD_MIDPOINT);\n                break;\n\n            case dse.AD_THIRD_QUARTILE:\n                this.notify(NotificationName.AD_THIRD_QUARTILE);\n                break;\n\n            case dse.AD_COMPLETE:\n                this.notify(NotificationName.AD_COMPLETE);\n                break;\n\n            case dse.AD_BREAK_COMPLETE:\n                this.domProxy && this.domProxy.showAdContainer(false);\n                this.presoModel.isCurrentVideoAd = false;\n                this.notify(NotificationName.AD_BREAK_COMPLETE);\n                if (this.pendingSeekTime) {\n                    this.contentPlaybackStateProxy.model.started && this.notify(NotificationName.SEEK_REDIRECT_COMPLETE);\n                    this.seekVideo(this.pendingSeekTime);\n                    this.pendingSeekTime = null;\n                }\n                break;\n\n            case dse.AD_CLICK:\n                this.pause();\n                break;\n\n            case dse.AD_ERROR:\n                // An error from the StreamManager amounts to a fatal resource error\n                e.data.fatal = true;\n                this.notify(NotificationName.RESOURCE_ERROR, e.data);\n                break;\n        }\n    }\n\n    private listenToStreamManager(flag: boolean): void {\n        if (!this.streamManager) { return; }\n        const dse = DaiStreamManager.event,\n            m = flag ? 'on' : 'off';\n\n        for (let q in dse) {\n            (<any>this.streamManager)[m](dse[q], this.streamEventHandler);\n        }\n    }\n\n    onRegister() {\n        super.onRegister();\n        this.domProxy && this.domProxy.showAdContainer(false);\n\n        this.adDataProxy = new AdDataProxy(ProxyName.AdDataProxy, null);\n        this.facade.registerProxy(this.adDataProxy);\n    }\n}\n","export enum Env {\n    DEV = 'dev',\n    STAGE = 'stage',\n    PROD = 'prod'\n}\n\n","import { Util } from '../core/Util';\nimport { Env } from '../enum/Env';\nimport { AdPlaybackContextInterface } from '../iface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { AdParamAssembler } from './AdParamAssembler';\n\n/*\nadTagParameters: {\n    description_url: string;\n    sz: string;\n    url: string;\n    iu: string;\n    ad_rule: string;\n    ciu_szs: string;\n    pp: string;\n    cmsid: string;\n    vid: string;\n    cust_params: object,\n    hl: string;\n    msid: string;\n    an: string;\n    nofb: string;\n    ppid: string;\n    tfcd: string;\n    npa:  string;\n}\n*/\n\nexport class ImaAdCallAssembler extends AdParamAssembler {\n\n    static adCallTemplate: string = 'http://pubads.g.doubleclick.net/gampad/ads?';\n\n    constructor() {\n        super();\n    }\n\n    assembleAdCall(rc: ResourceConfigurationInterface, contextInfo: AdPlaybackContextInterface): string {\n        const baseUrl = ImaAdCallAssembler.adCallTemplate,\n            stdParamsObj = this.assembleStdParams(rc, contextInfo),\n            obj: StrAnyDict = Util.assign({}, stdParamsObj);\n\n        let custParamsStr = this.queryStrFromObj(rc.ad.adTagParameters.cust_params);\n        obj.cust_params = custParamsStr;\n\n        // vpaid is turned on for development\n        (contextInfo.buildEnv === Env.DEV) && (obj.pp = 'vpaid_js');\n\n        const qs = this.queryStrFromObj(obj, [\n            \"description_url\", \"url\", 'iu', \"partner\", \"cust_params\"\n        ]);\n\n        return baseUrl + qs;\n    }\n\n}\n","import { AppResources } from '../app/AppResources';\nimport { Emitter } from '../core/Emitter';\nimport { Util } from '../core/Util';\nimport { AdContext } from '../enum/AdContext';\nimport { ErrorCode } from '../enum/ErrorCode';\nimport { AdBreakCollectionInterface, AdBreakScheduleItemInterface, ImaAdErrorInfoInterface, ImaAdInfoInterface, ImaAdPlayerEventInterface, ImaAdPlayerInterface, ImaAdPlayerOptions, ImaAdServiceInterface, ImaAdsLoaderInterface, ImaAdsRenderingSettingsInterface } from '../iface';\nimport { AdBreakInfoInterface } from '../iface/AdBreakInfoInterface';\nimport { EventHandler } from '../iface/EventHandler';\nimport { EventInterface } from '../iface/EventInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { ima } from '../ima';\nimport { AdBreakSchedule } from './AdBreakSchedule';\nimport { ImaAdsLoader } from './ImaAdsLoader';\nimport AdErrorEvent = ima.AdErrorEvent;\n\n\ninterface AdProgressDataInterface {\n    lastRecordedTime: number;\n    pollTzero: number;\n    addTzero: number;\n    timeoutHandle: any;\n    stallThreshold: number;\n    adId: string | null;\n    duration: number;\n    pollInterval: number;\n}\n\nexport class ImaAdPlayer extends Emitter implements ImaAdPlayerInterface {\n\n    static event: ImaAdPlayerEventInterface = {\n        CONTENT_PAUSE_REQUESTED: 'contentPauseRequested',\n        CONTENT_RESUME_REQUESTED: 'contentResumeRequested',\n        AD_CLICK_ELEMENT_VISIBILITY_REQUESTED: 'adClickElementVisibilityRequested',\n        AD_CUEPOINTS_AVAILABLE: 'adCuepointsAvailable',\n        AD_INIT_ERROR: 'adInitError',\n        AD_BREAK_START: 'adBreakStart',\n        AD_BREAK_METADATA: 'adBreakMetadata',\n        AD_LOADED: 'adLoaded',\n        AD_START: 'adStarted',\n        AD_PROGRESS: 'adProgress',\n        AD_FIRST_QUARTILE: 'adFirstQuartile',\n        AD_MIDPOINT: 'adMidpoint',\n        AD_THIRD_QUARTILE: 'adThirdQuartile',\n        AD_COMPLETE: 'adComplete',\n        ALL_ADS_COMPLETED: 'allAdsCompleted',\n        AD_BREAK_COMPLETE: 'adBreakComplete',\n        AD_BREAK_DISCARDED: 'adBreakDiscarded',\n        AD_BUFFERING: 'adBuffering',\n        AD_PAUSED: 'paused',\n        AD_RESUMED: 'resumed',\n        AD_SKIPPED: 'adSkipped',\n        AD_CLICK: 'adClick',\n        AD_ERROR: 'adError',\n        AD_VOLUME_CHANGED: 'adVolumeChanged',\n        AD_MUTED: 'adMuted',\n        AD_STALLED: 'adStalled',\n        RAW_AD_SCHEDULE_AVAILABLE: 'rawAdScheduleAvailable'\n    };\n\n    private readonly adCallUrl: string;\n    private readonly adsLoaderEventMap: Record<string, EventHandler>;\n    private adsLoader: ImaAdsLoaderInterface;\n    private adService: ImaAdServiceInterface;\n    private sdk: ima.Sdk;\n    private presentationContainer: HTMLElement;\n    private adEventHandler: (e: ima.AdEvent) => void;\n    private errorEventHandler: (e: ima.AdErrorEvent) => void;\n    private pIsFullscreen: boolean = false;\n    private inProgressAd: ImaAdInfoInterface | null = null;\n    private inProgressBreakId: string = null;\n    private isPaused: boolean = false;\n\n    private renderingSettings!: ima.AdsRenderingSettings;\n    private adsManager!: ima.AdsManager;\n    private adBreakSchedule: AdBreakSchedule;\n    private breakStartReleased: boolean = false;\n    private pendingSeekedBreakId: string = null;\n    private markedAsPlayed: string[] = null;\n\n    private adProgressData: AdProgressDataInterface = {\n        lastRecordedTime: 0,\n        addTzero: null,\n        pollTzero: null,\n        timeoutHandle: null,\n        stallThreshold: 5,\n        adId: null,\n        duration: null,\n        pollInterval: 2000,\n    }\n\n    constructor(options: ImaAdPlayerOptions) {\n        super(options);\n\n        this.adCallUrl = options.adCallUrl;\n        this.presentationContainer = this.opts.presentationContainer;\n        this.adService = options.adService;\n        this.sdk = this.adService.sdk;\n        this.adsLoader = this.adService.adsLoader;\n\n        delete this.opts.presentationContainer;\n\n        this.adsLoaderEventMap = {};\n        const iae = ImaAdsLoader.event;\n        this.adsLoaderEventMap[iae.ADS_LOADER_ERROR] = (e: EventInterface) => this.hAdsLoaderError(e);\n        this.adsLoaderEventMap[iae.ADS_MANAGER_LOADED] = (e: EventInterface) => this.hAdsMgrLoaded(e);\n\n        this.adEventHandler = (e: ima.AdEvent) => this.hAdEvent(e);\n        this.errorEventHandler = (e: ima.AdErrorEvent) => this.hAdsManagerAdError(e);\n        this.initialize();\n    }\n\n    destroy(): void {\n        this.listenToAdsLoader(false);\n        this.listenToAdsManager(false);\n        this.adsManager && this.adsManager.destroy();\n        this.adBreakSchedule && this.adBreakSchedule.destroy();\n\n        this.presentationContainer = null;\n        this.adsManager = null;\n        this.sdk = null;\n        this.adsLoader = null;\n        this.adEventHandler = null;\n        this.adBreakSchedule = null;\n        this.renderingSettings = null;\n\n        super.destroy();\n    }\n\n    get adBreaks(): AdBreakCollectionInterface {\n        return this.adBreakSchedule ? this.adBreakSchedule.adBreaks : null;\n    }\n\n    set contentBitrate(br: number) {\n        if (this.renderingSettings && this.adsManager) {\n            this.renderingSettings.bitrate = br;\n            this.adsManager.updateAdsRenderingSettings(this.renderingSettings);\n        }\n    }\n\n    set volume(value: number) {\n        this.adsManager && this.adsManager.setVolume(Util.clampValue(value, 0, 1));\n    }\n\n    set isFullscreen(value: boolean) {\n        this.pIsFullscreen = value;\n    }\n\n    pauseAd(): void {\n        clearTimeout(this.adProgressData.timeoutHandle);\n        this.isPaused = true;\n        this.adsManager?.pause();\n    }\n\n    resumeAd(): void {\n        clearTimeout(this.adProgressData.timeoutHandle);\n        this.isPaused = false;\n        this.adsManager?.resume();\n    }\n\n    mute(): void {\n        this.volume = 0;\n    }\n\n    unmute(volume: number) {\n        this.volume = volume;\n    }\n\n    hasPostRoll(): boolean {\n        return this.adBreakSchedule.hasPostRoll();\n    }\n\n    hasMidRolls(): boolean {\n        return this.adBreakSchedule.hasMidRolls();\n    }\n\n    startAds(): void {\n        const rect: DOMRect = this.getRect(),\n            view = this.pIsFullscreen ? this.sdk.ViewMode.FULLSCREEN : this.sdk.ViewMode.NORMAL;\n\n        try {\n            this.adsManager.init(rect.width, rect.height, view);\n            this.adsManager.start();\n        }\n        catch (adError) {\n            // IMA Doc says: if error thrown here, play content - no ads will play\n            this.emit(ImaAdPlayer.event.AD_INIT_ERROR, {\n                code: ErrorCode.IMA_INIT_FAILURE,\n                message: adError.getMessage ? adError.getMessage() : AppResources.messages.UNSPECIFIED_ERROR\n            });\n        }\n    }\n\n    markAsPlayed(ids: string[]): void {\n        if (!this.markedAsPlayed) {\n            this.markedAsPlayed = ids;\n        }\n        else {\n            this.markedAsPlayed = this.markedAsPlayed.concat(ids);\n        }\n    }\n\n    getBreakForSeekTime(requestedSeekTime: number): AdBreakScheduleItemInterface | null {\n        if (this.adBreakSchedule && this.adBreakSchedule.hasMidRolls()) {\n            const b: AdBreakScheduleItemInterface = this.adBreakSchedule.getBreakForContentSeekTime(requestedSeekTime);\n            if (b && (!this.markedAsPlayed || this.markedAsPlayed.indexOf(b.breakId) === -1)) {\n                this.pendingSeekedBreakId = b.breakId;\n                \n                return b;\n            }\n        }\n\n        return null;\n    }\n\n    cancelPendingBreak(id: string): void {\n        this.pendingSeekedBreakId === id && (this.pendingSeekedBreakId = null);\n    }\n\n    isUsingContentVideoElement(): boolean {\n        return this.adsManager && this.adsManager.isCustomPlaybackUsed();\n    }\n\n    isUsingCustomClickTracker(): boolean {\n        return !!(this.adsManager && this.adsManager.isCustomClickTrackingUsed());\n    }\n\n    setContentComplete(): void {\n        this.adsLoader && this.adsLoader.contentComplete();\n    }\n\n    updateSize(isFullscreen: boolean): void {\n        const r: DOMRect = this.getRect();\n\n        if (this.adsManager) {\n            const vm = isFullscreen ? this.sdk.ViewMode.FULLSCREEN : this.sdk.ViewMode.NORMAL;\n            this.adsManager.resize(r.width, r.height, vm);\n        }\n    }\n\n    //////////\n    // PRIVATE\n    private hAdsManagerAdError(e: AdErrorEvent) {\n        const err: ImaAdErrorInfoInterface = this.adService.parseAdError(e);\n        this.emit(ImaAdPlayer.event.AD_ERROR, {\n            code: ErrorCode.IMA_AD_ERROR,\n            message: (err && err.message) || AppResources.messages.UNSPECIFIED_ERROR,\n            data: err\n        });\n    }\n\n    private hAdEvent(e: ima.AdEvent): void {\n        const t = this.sdk.AdEvent.Type,\n            ad: ima.Ad = e.getAd(),\n            adData: any = e.getAdData(),\n            myEvt: ImaAdPlayerEventInterface = ImaAdPlayer.event;\n\n        clearTimeout(this.adProgressData.timeoutHandle);\n        let restartPoll: boolean = this.opts.enableStalledAdCheck !== false;\n\n        // e.type != 'adProgress' && console.log('%cIMA AD EVENT: ' + e.type, 'color: red');\n\n        // Only set 'restartPoll' to FALSE in case blocks below as needed.\n\n        switch (e.type) {\n            case t.CONTENT_PAUSE_REQUESTED:\n                restartPoll = false;\n                this.pendingSeekedBreakId = null;\n                this.emit(myEvt.CONTENT_PAUSE_REQUESTED);\n                break;\n\n            case t.CONTENT_RESUME_REQUESTED:\n                restartPoll = false;\n                this.pendingSeekedBreakId = null;\n                this.processBreakComplete();\n                break;\n\n            case t.LOADED:\n                this.processAdLoadOrStart(ad, adData, t.LOADED);\n                break;\n\n            case t.STARTED:\n                if (this.inProgressBreakId && !this.breakStartReleased) {\n                    this.breakStartReleased = true;\n                    this.emit(ImaAdPlayer.event.AD_BREAK_START, { adBreakId: this.inProgressBreakId });\n                }\n                this.processAdLoadOrStart(ad, adData, t.STARTED);\n                this.checkForCustomClickTracking();\n                this.beginPollForProgress(this.inProgressAd);\n                break;\n\n            case t.AD_PROGRESS:\n                this.processProgress();\n                break;\n\n            case t.FIRST_QUARTILE:\n                this.processQuartile(t.FIRST_QUARTILE, myEvt.AD_FIRST_QUARTILE);\n                break;\n\n            case t.MIDPOINT:\n                this.processQuartile(t.MIDPOINT, myEvt.AD_MIDPOINT);\n                break;\n\n            case t.THIRD_QUARTILE:\n                this.processQuartile(t.THIRD_QUARTILE, myEvt.AD_THIRD_QUARTILE);\n                break;\n\n            case t.COMPLETE:\n                restartPoll = false;\n                this.processAdComplete(t.COMPLETE);\n                break;\n\n            case t.ALL_ADS_COMPLETED:\n                restartPoll = false;\n                this.processAllComplete();\n                break;\n\n            case t.AD_BUFFERING:\n                this.emit(myEvt.AD_BUFFERING);\n                break;\n\n            case t.CLICK:\n                this.adsManager.pause();\n                this.emit(myEvt.AD_CLICK, { ad: this.inProgressAd });\n                break;\n\n            case t.PAUSED:\n                restartPoll = false;\n                this.isPaused = true;\n                this.emit(myEvt.AD_PAUSED);\n                break;\n\n            case t.RESUMED:\n                this.isPaused = false;\n                this.emit(myEvt.AD_RESUMED);\n                break;\n\n            case t.SKIPPED:\n                restartPoll = false;\n                this.processSkip(t.SKIPPED);\n                break;\n\n            case t.LOG:\n                restartPoll = false;\n                this.processLogEvent(adData);\n                break;\n\n            case t.USER_CLOSE:\n                restartPoll = false;\n                this.killAd();\n                break;\n\n            case t.VOLUME_CHANGED:\n            case t.VOLUME_MUTED:\n                this.processVolumeChange(e.type);\n                break;\n        }\n\n        if (!this.isPaused && restartPoll) {\n            this.adProgressData.timeoutHandle = setTimeout(\n                () => this.checkAdProgress(),\n                this.adProgressData.pollInterval\n            );\n        }\n    }\n\n    private checkForCustomClickTracking(): void {\n        if (this.isUsingCustomClickTracker()) {\n            this.emit(ImaAdPlayer.event.AD_CLICK_ELEMENT_VISIBILITY_REQUESTED);\n        }\n    }\n\n    private beginPollForProgress(ad: ImaAdInfoInterface): void {\n        const apd = this.adProgressData;\n        clearTimeout(apd.timeoutHandle);\n\n        apd.duration = ad.adDuration;\n        apd.adId = ad.adId;\n        apd.pollTzero = Date.now();\n        apd.timeoutHandle = setTimeout(() => this.checkAdProgress(), apd.pollInterval);\n    }\n\n    private checkAdProgress(): void {\n        const apd = this.adProgressData,\n            currT = apd.duration - this.adsManager.getRemainingTime(),\n            now = Date.now();\n\n        clearTimeout(apd.timeoutHandle);\n\n        if (this.isPaused) {\n            return;\n        }\n\n        if (apd.pollTzero === null) {\n            apd.pollTzero = Date.now();\n        }\n\n        if (currT > apd.lastRecordedTime) {\n            apd.lastRecordedTime = currT;\n            apd.pollTzero = now;\n            apd.timeoutHandle = setTimeout(() => this.checkAdProgress(), apd.pollInterval);\n        }\n        else if ((now - apd.pollTzero) > apd.stallThreshold) {\n            const adInfo = this.inProgressAd ? Util.assign({}, this.inProgressAd) : null;\n            this.emit(ImaAdPlayer.event.AD_STALLED, {\n                code: ErrorCode.AD_STALLED,\n                message: AppResources.messages.AD_STALLED,\n                data: { adInfo: adInfo }\n            });\n            this.killAd();\n            this.emit(ImaAdPlayer.event.AD_BREAK_DISCARDED);\n            this.adsManager && this.adsManager.discardAdBreak(); // yields a content_resume request from the SDK)\n\n            this.processBreakComplete();\n        }\n    }\n\n    ////////////////////\n    // Event processors - process IMA events, dispatch an ImaAdPlayer.event\n\n    // Process ad break for both start and loaded (some info may only be avail at start, vs load)\n    private processAdLoadOrStart(ad: ima.Ad, adData: StrAnyDict, evt: string): void {\n        const abi: AdBreakInfoInterface = this.adService.assembleAdBreakInfo(ad),\n            ai: ImaAdInfoInterface = this.adService.assembleAdInfo(ad, adData),\n            isStart = evt === this.sdk.AdEvent.Type.STARTED,\n            idx = abi.adBreakPosition,\n            id = idx === 0 ? 'pre_0' : idx === -1 ? 'post_0' : 'mid_' + idx;\n\n        if (this.markedAsPlayed && this.markedAsPlayed.indexOf(id) >= 0) {\n            this.adBreakSchedule.markPlayed(id);\n            this.adsManager.discardAdBreak();\n\n            return;\n        }\n\n        if (isStart) {\n            this.inProgressAd = ai;\n            this.adService.trackAd(ai);\n            this.adService.trackAdEvent({\n                context: AdContext.IMA,\n                eventName: evt,\n                volume: this.adsManager.getVolume()\n            });\n\n            this.emit(ImaAdPlayer.event.AD_BREAK_METADATA, abi);\n            this.emit(ImaAdPlayer.event.AD_START, ai);\n\n        }\n        else {\n            if (!this.adBreakSchedule.hasPlayed(id)) {\n                this.adBreakSchedule.markPlayed(id);\n                this.inProgressBreakId = id;\n            }\n            this.emitAdLoaded(ai);\n        }\n    }\n\n    private emitAdLoaded(adInfo: ImaAdInfoInterface): void {\n        this.emit(ImaAdPlayer.event.AD_LOADED, adInfo);\n    }\n\n    private processProgress(): void {\n        if (!this.inProgressAd) {\n            return;\n        }\n        const dur = this.inProgressAd.adDuration,\n            tRem = this.adsManager && this.adsManager.getRemainingTime();\n\n        if (isNaN(dur) || isNaN(tRem) || tRem < 0) {\n            return;\n        }\n\n        this.emit(ImaAdPlayer.event.AD_PROGRESS, {\n            currentTime: Math.min(dur, Math.max(0, dur - tRem)),\n            duration: dur\n        });\n    }\n\n    private processQuartile(imaEvent: string, localEvent: string): void {\n        this.emit(localEvent, { ad: this.inProgressAd });\n\n        this.adService.trackAdEvent({\n            context: AdContext.IMA,\n            eventName: imaEvent,\n            volume: this.adsManager.getVolume()\n        });\n    }\n\n    private processAdComplete(imaEvt: string): void {\n        this.adService.trackAdEvent({\n            context: AdContext.IMA,\n            eventName: imaEvt,\n            volume: this.adsManager.getVolume()\n        });\n\n        this.killAd();\n    }\n\n    private processSkip(imaEvt: string) {\n        this.emit(ImaAdPlayer.event.AD_SKIPPED, {\n            ad: this.inProgressAd\n        });\n\n        this.adService.trackAdEvent({\n            context: AdContext.IMA,\n            eventName: imaEvt,\n            volume: this.adsManager.getVolume()\n        });\n\n        this.killAd();\n    }\n\n    private processBreakComplete() {\n        if (this.inProgressAd) {\n            this.killAd();\n        }\n        if (this.inProgressBreakId) {\n            this.emit(ImaAdPlayer.event.AD_BREAK_COMPLETE, { adBreakId: this.inProgressBreakId });\n            this.inProgressBreakId = null;\n        }\n        this.breakStartReleased = false;\n        this.emit(ImaAdPlayer.event.CONTENT_RESUME_REQUESTED);\n    }\n\n    private processVolumeChange(imaEvtType: string) {\n        this.adService.trackAdEvent({\n            context: AdContext.IMA,\n            eventName: imaEvtType,\n            volume: this.adsManager.getVolume()\n        });\n    }\n\n    private processAllComplete() {\n        if (this.inProgressBreakId) {\n            this.processBreakComplete();\n        }\n        this.emit(ImaAdPlayer.event.ALL_ADS_COMPLETED);\n    }\n\n    private processLogEvent(adData: any): void {\n        if (this.pendingSeekedBreakId) {\n            this.adBreakSchedule.markPlayed(this.pendingSeekedBreakId);\n            this.pendingSeekedBreakId = null;\n        }\n        if (adData && adData.adError) {\n            // if an error is found here, there may be a subsequent\n            // contentPauseRequest but not a resume, and presentation\n            // will stall unless ad break is discarded\n            this.emit(ImaAdPlayer.event.AD_ERROR, {\n                code: ErrorCode.IMA_AD_ERROR,\n                message: adData.adError.getMessage() || AppResources.messages.UNSPECIFIED_ERROR,\n                data: {\n                    errorCode: adData.adError.getErrorCode()\n                }\n            });\n            this.emit(ImaAdPlayer.event.AD_BREAK_DISCARDED);\n            this.adsManager && this.adsManager.discardAdBreak();\n        }\n    }\n\n    // end Event Processors\n    ///////////////////////\n    private killAd(): void {\n        this.adService.untrackAd();\n        this.emit(ImaAdPlayer.event.AD_COMPLETE, { ad: this.inProgressAd });\n        this.inProgressAd = null;\n\n        const apd = this.adProgressData;\n        clearTimeout(apd.timeoutHandle);\n        apd.pollTzero = null;\n        apd.lastRecordedTime = null;\n    }\n\n    private requestAds(): void {\n        const ar = new this.sdk.AdsRequest(),\n            r = this.getRect();\n\n        ar.adTagUrl = this.adCallUrl;\n        ar.linearAdSlotWidth = r.width;\n        ar.linearAdSlotHeight = r.height;\n        ar.nonLinearAdSlotWidth = r.width;\n        ar.nonLinearAdSlotHeight = r.height;\n\n        ar.vastLoadTimeout = 12000;\n\n        ar.setAdWillAutoPlay(this.opts.initialPlayState.autoplay);\n        ar.setAdWillPlayMuted(this.opts.initialPlayState.muted);\n\n        // async; yields AdsManagerLoaded event (see hAdsMgrLoaded)\n        this.adsLoader.requestAds(ar);\n    }\n\n    // Ads Mgr Loaded\n    private hAdsMgrLoaded(e: EventInterface): void {\n        const amle = <ima.AdsManagerLoadedEvent>e.data;\n\n        this.renderingSettings = this.getRenderingSettings();\n\n        this.adsManager = amle.getAdsManager(this.opts.playheadInterface, this.renderingSettings);\n        this.createAdBreakSchedule(this.adsManager.getCuePoints());\n        this.listenToAdsManager(true);\n\n        this.startAds();\n    }\n\n    private getRenderingSettings(): ima.AdsRenderingSettings {\n        const rs: ima.AdsRenderingSettings = new this.sdk.AdsRenderingSettings(),\n\n            defs: ImaAdsRenderingSettingsInterface = this.adService.defaultRenderingSettings;\n\n        rs.bitrate = defs.bitrate;\n        rs.enablePreloading = true; //Util.isBoolean(sPreLoadAds) ? sPreLoadAds : defs.enablePreloading;\n        rs.loadVideoTimeout = 8000; //!isNaN(sTimeout) ? sTimeout : defs.loadVideoTimeout;\n        rs.restoreCustomPlaybackStateOnAdBreakComplete = defs.restoreCustomPlaybackStateOnAdBreakComplete;\n\n        return rs;\n    }\n\n    private createAdBreakSchedule(cuePoints: number[]): void {\n        if (Util.isEmpty(cuePoints)) {\n            cuePoints = [0];\n        }\n\n        this.adBreakSchedule = new AdBreakSchedule(cuePoints);\n\n        this.emit(ImaAdPlayer.event.RAW_AD_SCHEDULE_AVAILABLE, {\n            cuepoints: cuePoints\n        });\n\n        this.emit(ImaAdPlayer.event.AD_CUEPOINTS_AVAILABLE, {\n            cuepoints: cuePoints\n        });\n    }\n\n    private hAdsLoaderError(e: EventInterface): void {\n        this.emit(ImaAdPlayer.event.AD_ERROR, e.data);\n        this.emit(ImaAdPlayer.event.CONTENT_RESUME_REQUESTED);\n    }\n\n    private listenToAdsManager(flag: boolean): void {\n        if (!this.adsManager) {\n            return;\n        }\n\n        const m = flag ? 'addEventListener' : 'removeEventListener',\n            evts: string[] = this.getEventInterests();\n        let evt;\n\n        for (let i = 0, n = evts.length; i < n; i++) {\n            evt = this.sdk.AdEvent.Type[evts[i]];\n            (<any>this.adsManager)[m](evt, this.adEventHandler);\n        }\n\n        (<any>this.adsManager)[m](this.sdk.AdErrorEvent.Type.AD_ERROR, this.errorEventHandler);\n    }\n\n    private listenToAdsLoader(flag: boolean): void {\n        const map = this.adsLoaderEventMap,\n            e = [ImaAdsLoader.event.ADS_MANAGER_LOADED, ImaAdsLoader.event.ADS_LOADER_ERROR];\n\n        if (!this.adsLoader) { return; }\n\n        let i = e.length;\n        while (i--) {\n            (<any>this.adsLoader)[flag ? 'on' : 'off'](e[i], map[e[i]]);\n        }\n    }\n\n    private getEventInterests(): string[] {\n        return [\n            'CONTENT_PAUSE_REQUESTED',\n            'CONTENT_RESUME_REQUESTED',\n            'LOADED',\n            'STARTED',\n            'AD_PROGRESS',\n            'FIRST_QUARTILE',\n            'MIDPOINT',\n            'THIRD_QUARTILE',\n            'COMPLETE',\n            'ALL_ADS_COMPLETED',\n            'AD_BUFFERING',\n            'CLICK',\n            'PAUSED',\n            'RESUMED',\n            'SKIPPED',\n            'LOG',\n            'USER_CLOSE'\n        ];\n    }\n\n    private getRect(): DOMRect {\n        return <DOMRect>this.presentationContainer.getBoundingClientRect();\n    }\n\n    private initialize(): void {\n        this.listenToAdsLoader(true);\n        this.requestAds();\n    }\n}\n","import { ImaAdCallAssembler } from '../ad/ImaAdCallAssembler';\nimport { ImaAdPlayer } from '../ad/ImaAdPlayer';\nimport { Util } from '../core/Util';\nimport { dai } from '../dai';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { PlaybackState } from '../enum/PlaybackState';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ServiceName } from '../enum/ServiceName';\nimport { AdBreakCollectionInterface, AdBreakScheduleItemInterface, AdDataProxyInterface, AdPlaybackContextInterface, AdProgressInterface, ImaAdPlayerEventInterface, ImaAdPlayerInterface, ImaAdPlayerOptions, ImaAdServiceInterface, PresentationMediatorInterface, SystemServiceInterface } from '../iface';\nimport { AdBreakInfoInterface } from '../iface/AdBreakInfoInterface';\nimport { AdCuePointInterface } from '../iface/AdCuePointInterface';\nimport { AdItemInterface } from '../iface/AdItemInterface';\nimport { BuildInfoInterface } from '../iface/BuildInfoInterface';\nimport { ContentPlaybackStateInterface } from '../iface/ContentPlaybackStateInterface';\nimport { ErrorInfoInterface } from '../iface/ErrorInfoInterface';\nimport { EventInterface } from '../iface/EventInterface';\nimport { QualityInterface } from '../iface/QualityInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { AdDataProxy } from '../model/AdDataProxy';\nimport { ResourceProxy } from '../model/ResourceProxy';\nimport { CommonPresentationMediator } from './CommonPresentationMediator';\n\n\n/**\n * ImaPresentationMediator is used for Google IMA ads (separate video; typically progressive)\n */\nexport class ImaPresentationMediator extends CommonPresentationMediator implements PresentationMediatorInterface {\n\n    private adDataProxy: AdDataProxyInterface;\n    private adPlayer: ImaAdPlayerInterface;\n\n    private contentSegmentStarted: boolean = false;\n    private pendingSeekTime: number = null;\n    private contentComplete: boolean = false;\n    private contentStartReleased: boolean = false;\n    private fatalContentErrorReceived: boolean = false;\n    private breaksToSkip: string = null;\n    private breakMetaDataReleased: boolean = false;\n    private pendingBreak: AdBreakScheduleItemInterface = null;\n    private pendingCuepoints: dai.CuePoint[];\n\n    constructor(name: string, viewControl?: any) {\n        super(name, viewControl);\n        this.preloadContent = false;\n    }\n\n    onRemove(): void {\n        this.killAdPlayer();\n        this.adDataProxy = null;\n\n        super.onRemove();\n    }\n\n    closeAds(): void {\n        this.listenToAdPlayer(false);\n        !!this.adPlayer && this.adPlayer.destroy();\n    }\n\n    start(): void {\n        const contentStartTime = this.resourceProxy.playback.startTime,\n            showPreRoll = this.resourceProxy.ad.showPrerollOnNonZeroStart,\n            nonZeroStart = !isNaN(contentStartTime) && contentStartTime > 0,\n            mUrl = this.resourceProxy.location.mediaUrl;\n\n        this.hasContent = Util.isString(mUrl) && !Util.isEmpty(mUrl);\n\n        if (nonZeroStart) {\n            const cp = this.resourceProxy.ad.adTagParameters.cust_params;\n\n            this.breaksToSkip = cp && cp.skippod || null;\n            if (!showPreRoll && this.breaksToSkip === null) {\n                this.breaksToSkip = '1';\n            }\n        }\n\n        if (nonZeroStart && showPreRoll) {\n            this.resourceProxy.playback.startTime = NaN;\n            this.pendingSeekTime = contentStartTime;\n        }\n\n        this.mute(this.presoModel.isMuted);\n\n        if (this.isClickToPlay) {\n            this.setForClickToPlay();\n        }\n        else {\n            if (this.hasContent) {\n                this.notify(NotificationName.VIDEO_LOAD_START);\n                this.prepareForPlayback();\n            }\n            else {\n                this.play();\n            }\n        }\n    }\n\n    // override\n    play(): void {\n        if (!this.presoModel.started) {\n            this.adService.initializeAdsLoader();\n            this.domProxy && this.domProxy.showAdContainer(true);\n            this.createAdPlayer();\n        }\n        else {\n            this.isAdPlaying() ? this.adPlayer.resumeAd() : this.playVideo();\n        }\n    }\n\n    // override\n    pause(): void {\n        this.isAdPlaying() && this.adPlayer ? this.adPlayer.pauseAd() : this.pauseVideo();\n    }\n\n    // override\n    mute(flag: boolean): void {\n        this.muteVideo(flag);\n        if (this.adPlayer) {\n            flag && this.adPlayer.mute();\n            !flag && (this.adPlayer.unmute(this.domProxy.getVideoVolume()));\n        }\n        this.uiMediator && this.uiMediator.setMuteState(flag);\n    }\n\n    // override\n    seek(position: number): void {\n        let seekT = position;\n\n        if (this.adPlayer) {\n            const b = this.adPlayer.getBreakForSeekTime(position);\n            if (b) {\n                seekT = b.startTime;\n                this.pendingSeekTime = position;\n                this.pendingBreak = b;\n                this.notify(NotificationName.SEEK_REDIRECT_START, {\n                    requestedSeekTime: position,\n                    actualSeekTime: seekT\n                });\n            }\n        }\n        this.seekVideo(seekT);\n    }\n\n    // override\n    getAdBreakTimes(): AdCuePointInterface[] {\n        const out: AdCuePointInterface[] = [],\n            breaks: AdBreakCollectionInterface = this.adPlayer && this.adPlayer.adBreaks;\n\n        if (!breaks) {\n            return out;\n        }\n\n        if (breaks.pre) {\n            out.push({\n                start: breaks.pre.startTime,\n                duration: breaks.pre.endTime - breaks.pre.startTime,\n                played: breaks.pre.hasPlayed\n            });\n        }\n        if (breaks.mid) {\n            let i = breaks.mid.length, b;\n            while (i--) {\n                b = breaks.mid[i];\n                out.unshift({\n                    start: b.startTime,\n                    duration: b.endTime - b.startTime,\n                    played: b.hasPlayed\n                });\n            }\n        }\n        if (breaks.post) {\n            out.push({\n                start: breaks.post.startTime,\n                duration: breaks.post.endTime - breaks.post.startTime,\n                played: breaks.post.hasPlayed\n            });\n        }\n\n        return out;\n    }\n\n    ////////////////////////////////////////////\n    // Respond to content video state changes\n    ////////////////////////////////////////////\n    protected respondToVideoPlaying(): void {\n        this.startPreso();\n\n        this.uiMediator && this.setTransportType();\n\n        super.respondToVideoPlaying();\n\n        if (this.isAdPlaying()) {\n            this.notify(NotificationName.AD_PLAYING);\n        }\n        else if (this.contentSegmentStarted) {\n            this.contentPlaybackStateProxy.model.state = PlaybackState.PLAYING;\n            this.setPlayingState();\n            this.notify(NotificationName.CONTENT_PLAYING);\n        }\n    }\n\n    protected respondToVideoPaused(): void {\n        super.respondToVideoPaused();\n\n        if (this.isAdPlaying()) {\n            this.notify(NotificationName.AD_PAUSED);\n        }\n        else {\n            this.contentPlaybackStateProxy.model.state = PlaybackState.PAUSED;\n            this.setPausedState();\n            this.notify(NotificationName.CONTENT_PAUSED);\n        }\n    }\n\n    protected respondToVideoTimeUpdate(streamTime: number): void {\n        const cps: ContentPlaybackStateInterface = this.contentPlaybackStateProxy.model,\n            isAd = this.isAdPlaying();\n\n        this.setAdPlayerBitrate();\n\n        if (isAd) {\n            return;\n        }\n\n        this.presoModel.streamTime = streamTime;\n        cps.time = streamTime;\n\n        // if a seek redirect results in no activity from the SDK, then need to take action...\n        if (this.pendingBreak && (streamTime - this.pendingBreak.startTime) > 1) {\n            if (this.adPlayer) {\n                this.adPlayer.cancelPendingBreak(this.pendingBreak.breakId);\n                this.adPlayer.markAsPlayed([this.pendingBreak.breakId]);\n            }\n            this.pendingBreak = null;\n            this.notify(NotificationName.SEEK_REDIRECT_COMPLETE);\n            this.pendingSeekTime && this.seek(this.pendingSeekTime);\n\n            return;\n        }\n\n        if (streamTime > 0.75 && !this.contentSegmentStarted) {\n            this.startContentSegment();\n        }\n        \n        if (this.contentSegmentStarted) {\n            super.respondToVideoTimeUpdate(streamTime);\n        } \n    }\n\n    protected respondToVideoEnd(): void {\n        this.notify(NotificationName.CONTENT_SEGMENT_END);\n        this.notify(NotificationName.CONTENT_COMPLETE);\n        this.contentComplete = true;\n\n        const adp = !!this.adPlayer;\n\n        if (!adp || (adp && !this.adPlayer.hasPostRoll())) {\n            super.respondToVideoEnd();\n        }\n    }\n\n    protected respondToDurationChange(duration: number): void {\n        this.contentPlaybackStateProxy.model.duration = duration;\n        this.presoModel.streamDuration = duration;\n\n        if (!isNaN(duration) && duration > 0) {\n\n            !this.contentDurationReleased && this.releaseContentDuration(duration);\n\n            if (this.pendingCuepoints) {\n                const temp = this.pendingCuepoints;\n                this.pendingCuepoints = null;\n\n                this.notify(NotificationName.AD_CUEPOINTS_AVAILABLE, {\n                    cuepoints: temp\n                });\n            }\n        }\n    }\n\n    protected respondToBufferingStatusCheck(): void {\n        if (!this.isAdPlaying()) {\n            super.respondToBufferingStatusCheck();\n        }\n    }\n\n    protected respondToQualityChange(quality: QualityInterface = null): void {\n        this.setAdPlayerBitrate();\n        super.respondToQualityChange(quality);\n    }\n\n    protected respondToSizeChange(): void {\n        this.adPlayer && this.adPlayer.updateSize(this.presoModel.isFullscreen);\n    }\n\n    protected respondToError(data: ErrorInfoInterface) {\n        this.fatalContentErrorReceived = data.fatal;\n        super.respondToError(data);\n    }\n\n    ///////////\n    // PRIVATE\n    private startPreso(): void {\n        if (this.presoModel.started) { return; }\n\n        this.presoModel.started = true;\n\n        if (this.uiMediator) {\n            this.uiMediator.displayPoster(false);\n            this.uiMediator.hideClickCatcher(true);\n            this.presoModel.isMuteAtPlayStart && !this.presoModel.userHasUnmuted && this.uiMediator.showUnmutePrompt();\n        }\n\n        this.notify(NotificationName.ENABLE_UI);\n    }\n\n    private startContentSegment(): void {\n        this.contentSegmentStarted = true;\n        this.contentPlaybackStateProxy.model.started = true;\n        this.domProxy && this.domProxy.showAdContainer(false);\n        this.setPlayingState();\n\n        if (this.uiMediator && !this.contentPlaybackStateProxy.model.liveStreamInfo) {\n            this.uiMediator.setSeekable(true);\n        }\n\n        if (!this.contentStartReleased) {\n            this.contentStartReleased = true;\n            this.notify(NotificationName.CONTENT_START);\n        }\n\n        if (this.fullscreenRestrictedDuringAdPlay && this.uiMediator) {\n            this.uiMediator.setFullScreenAccessRestricted(false);\n            this.uiMediator.enableFullscreen();\n        }\n\n        this.notify(NotificationName.CONTENT_SEGMENT_START);\n    }\n\n    setAdPlayerBitrate(): void {\n        if (this.adPlayer) {\n            const pbsMdl = <ContentPlaybackStateInterface>this.contentPlaybackStateProxy.model,\n                br = pbsMdl.bitrate\n\n            br && !isNaN(br) && (this.adPlayer.contentBitrate = br);\n        }\n    }\n\n    ////////////////////////////\n    // Handle ImaAdPlayer Events\n    private hAdPlayerEvent(e: EventInterface): void {\n        const iae: ImaAdPlayerEventInterface = ImaAdPlayer.event,\n            t = e.type;\n\n        // if (e.type.toLowerCase().indexOf('progress') < 0)  {\n        //     console.log(`%cImaPm: ${e.type}`, 'color: #900; font-size: 13px; font-weight: bold');\n        // }\n\n        switch (t) {\n            case iae.AD_CLICK_ELEMENT_VISIBILITY_REQUESTED:\n                this.domProxy.showAdClickElement(true);\n                break;\n\n            case iae.AD_CLICK:\n                this.notify(NotificationName.AD_CLICK, e.data);\n                break;\n\n            case iae.AD_SKIPPED:\n                this.notify(NotificationName.AD_SKIPPED, e.data);\n                break;\n\n            case iae.RAW_AD_SCHEDULE_AVAILABLE:\n                // no impl needed - keep 'in case'\n                break;\n\n            case iae.AD_CUEPOINTS_AVAILABLE:\n                this.pendingCuepoints = e.data.cuepoints;\n                break;\n\n            case iae.CONTENT_PAUSE_REQUESTED:\n                this.breakMetaDataReleased = false;\n                this.respondToPauseRequestFromAdPlayer();\n                break;\n\n            case iae.CONTENT_RESUME_REQUESTED:\n                this.resumeContentPlay();\n                break;\n\n            case iae.AD_BREAK_START:\n                this.pendingBreak = null;\n                this.respondToContentEnd();\n                this.respondToAdBreakStart();\n                break;\n\n            case iae.AD_BREAK_METADATA:\n                this.pendingBreak = null;\n                this.respondToAdBreakMetadata(<AdBreakInfoInterface>e.data);\n                break;\n\n            case iae.AD_LOADED:\n                this.pendingBreak = null;\n                this.respondToAdLoaded(<AdItemInterface>e.data);\n                break;\n\n            case iae.AD_START:\n                this.pendingBreak = null;\n                this.respondToAdStart(<AdItemInterface>e.data);\n                break;\n\n            case iae.AD_PROGRESS:\n                this.respondToAdProgress(<AdProgressInterface>e.data);\n                break;\n\n            case iae.AD_PAUSED:\n                this.notify(NotificationName.AD_PAUSED);\n                this.notify(NotificationName.RESOURCE_PAUSED);\n                break;\n\n            case iae.AD_RESUMED:\n                this.notify(NotificationName.AD_PLAYING);\n                this.notify(NotificationName.RESOURCE_PLAYING);\n                break;\n\n            case iae.AD_FIRST_QUARTILE:\n                this.notify(NotificationName.AD_FIRST_QUARTILE);\n                break;\n\n            case iae.AD_MIDPOINT:\n                this.notify(NotificationName.AD_MIDPOINT);\n                break;\n\n            case iae.AD_THIRD_QUARTILE:\n                this.notify(NotificationName.AD_THIRD_QUARTILE);\n                break;\n\n            case iae.AD_COMPLETE:\n                this.respondToAdComplete();\n                this.domProxy.showAdClickElement(false);\n                this.notify(NotificationName.AD_COMPLETE);\n                break;\n\n            case iae.AD_BREAK_COMPLETE:\n                this.breakMetaDataReleased = false;\n                this.respondToAdBreakComplete();\n                break;\n\n            case iae.ALL_ADS_COMPLETED:\n                this.breakMetaDataReleased = false;\n                this.killAdPlayer();\n                break;\n\n            case iae.AD_BREAK_DISCARDED:\n                this.breakMetaDataReleased = false;\n                this.domProxy.showAdClickElement(false);\n                this.notify(NotificationName.AD_BREAK_DISCARDED);\n                break;\n\n            case iae.AD_BUFFERING:\n                // don't have a good way to know that\n                // ad is *NOT* buffering, so no impl\n                break;\n\n            case iae.AD_STALLED:\n                this.adDataProxy.resetAll();\n                this.notify(NotificationName.AD_STALLED, e.data);\n                break;\n\n            case iae.AD_ERROR:\n                this.domProxy.showAdClickElement(false);\n                this.notify(NotificationName.AD_ERROR, e.data);\n                break;\n\n            case iae.AD_INIT_ERROR:\n                this.killAdPlayer();\n                this.notify(NotificationName.AD_ERROR, e.data);\n                this.resumeContentPlay();\n                break;\n        }\n    }\n\n    ////////////////////////////////\n    // Respond to ImaAdPlayer events\n    ////////////////////////////////\n    private respondToPauseRequestFromAdPlayer(): void {\n        if (this.presoModel.started) {\n            this.pauseVideo();\n        }\n        else {\n            this.startPreso();\n        }\n    }\n\n    private resumeContentPlay(): void {\n        this.domProxy.showAdClickElement(false);\n\n        if (this.fatalContentErrorReceived) {\n            this.notify(NotificationName.DISABLE_UI);\n            return;\n        }\n\n        if (!this.hasContent || this.contentComplete) {\n            super.respondToVideoEnd();\n            return;\n        }\n\n        if (!this.contentSegmentStarted) {\n            if (!this.contentStartReleased) {\n                const contentStartTime = this.resourceProxy.playback.startTime,\n                    nonZeroStart = !isNaN(contentStartTime) && contentStartTime > 0;\n\n                if (nonZeroStart) {\n                    const breaks = this.getAdBreakTimes(),\n                        adjustedStart = this.adjustStartTimeForAdBreakProximity(contentStartTime, breaks);\n\n                    this.resourceProxy.playback.startTime = adjustedStart;\n                }\n            }\n\n            this.load().then(() => {\n                this.startContentSegment();\n            });\n        }\n\n        if (this.pendingSeekTime) {\n            this.notify(NotificationName.SEEK_REDIRECT_COMPLETE);\n            this.seekVideo(this.pendingSeekTime);\n            this.pendingSeekTime = null;\n        }\n\n        this.startPreso();\n        this.play();\n    }\n\n    private respondToContentEnd(): void {\n        if (this.contentSegmentStarted) {\n            this.contentSegmentStarted = false;\n            this.notify(NotificationName.CONTENT_SEGMENT_END);\n        }\n    }\n\n    private respondToAdBreakStart(): void {\n        this.domProxy && this.domProxy.showAdContainer(true);\n        this.presoModel.isCurrentVideoAd = true;\n\n        if (this.uiMediator) {\n            this.uiMediator.hideClickCatcher(true);\n            this.fullscreenRestrictedDuringAdPlay && this.uiMediator.disableFullscreen();\n        }\n\n        this.notify(NotificationName.AD_BREAK_START);\n    }\n\n    private respondToAdBreakMetadata(data: AdBreakInfoInterface): void {\n        if (!this.breakMetaDataReleased) {\n            this.adDataProxy.breakInfo = data;\n            this.breakMetaDataReleased = true;\n            this.notify(NotificationName.AD_BREAK_METADATA, { adBreakInfo: data });\n        }\n    }\n\n    private respondToAdStart(data: AdItemInterface): void {\n        this.adDataProxy.adInfo = data;\n\n        this.notify(NotificationName.AD_START, { adInfo: data });\n        this.notify(NotificationName.RESOURCE_PLAYING);\n\n        this.checkPreload();\n    }\n\n    private checkPreload(): void {\n        const preload = this.resourceProxy.ad.ima.preloadContentAtEndOfPreRoll === true;\n        const lastAd = this.adDataProxy.adInfo.adPosition === this.adDataProxy.breakInfo.adTotal;\n\n        if (preload && lastAd) {\n            const handler = (event: EventInterface) => {\n                const ad = <AdProgressInterface>event.data;\n                const threshold = Util.clampValue(Math.ceil(ad.duration / 4), 2, 10);\n                const time = Math.round(ad.currentTime);\n                if (time >= threshold) {\n                    this.adPlayer.off(ImaAdPlayer.event.AD_PROGRESS, handler);\n                    this.load();\n                }\n            }\n            this.adPlayer.on(ImaAdPlayer.event.AD_PROGRESS, handler);\n        }\n    }\n\n    private respondToAdComplete(): void {\n        this.adDataProxy.resetAd();\n    }\n\n    private respondToAdLoaded(data: AdItemInterface): void {\n        this.adDataProxy.adInfo = data;\n    }\n\n    private respondToAdProgress(data: AdProgressInterface) {\n        this.notify(NotificationName.AD_TIME_UPDATE, {\n            currentTime: data.currentTime,\n            duration: data.duration\n        });\n    }\n\n    private respondToAdBreakComplete(): void {\n        this.domProxy && this.domProxy.showAdContainer(false);\n        this.presoModel.isCurrentVideoAd = false;\n        this.notify(NotificationName.AD_BREAK_COMPLETE);\n    }\n\n    ////////////////\n    // init and util \n\n    private get adService(): ImaAdServiceInterface {\n        return <ImaAdServiceInterface>this.facade.retrieveService(ServiceName.ImaAd);\n    }\n\n    private assembleAdContextInfo(muted: boolean): AdPlaybackContextInterface {\n        const sys = <SystemServiceInterface>this.facade.retrieveService(ServiceName.System);\n\n        return {\n            buildEnv: (<BuildInfoInterface>this.getModel(ModelName.BuildInfo)).env,\n            platform: sys.platform,\n            mutedPlayback: muted\n        }\n    }\n\n    private listenToAdPlayer(flag: boolean): void {\n        if (!this.adPlayer) { return; }\n        const iae: ImaAdPlayerEventInterface = ImaAdPlayer.event,\n            m = flag ? 'on' : 'off';\n\n        for (const q in iae) {\n            this.adPlayer[m](iae[q], flag ? (e: EventInterface) => this.hAdPlayerEvent(e) : null);\n        }\n    }\n\n\n    private createAdPlayer(): void {\n        const resource: ResourceConfigurationInterface = (<ResourceProxy>this.facade.retrieveProxy(ProxyName.ResourceProxy)).resource,\n            muteAtStart: boolean = this.presoModel.isMuteAtPlayStart,\n            options: ImaAdPlayerOptions = {\n                presentationContainer: this.domProxy.getMain(),\n                playheadInterface: this.domProxy.getVideo(),\n                initialPlayState: {\n                    autoplay: this.presoModel.isAutoplay,\n                    muted: muteAtStart\n                },\n                playAdsAfterTime: this.breaksToSkip && this.breaksToSkip.match(/^1/) !== null ? 0 : null,\n                adService: this.adService,\n                logger: this.logger,\n                ad: resource.ad,\n                adCallUrl: this.getAdCallUrl(resource, muteAtStart),\n                enableStalledAdCheck: true\n            };\n\n        this.adPlayer = new ImaAdPlayer(options);\n\n        if (this.breaksToSkip) {\n            const posArr = this.breaksToSkip.split(',').map((x: string): number => parseInt(x)),\n                ids: string[] = [];\n\n            let i = posArr.length;\n            while (i--) {\n                const v = posArr[i],\n                    vPrime = v === 1 ? 'pre_0' : 'mid_' + String(v - 1);\n                ids.push(vPrime);\n            }\n\n            this.adPlayer.markAsPlayed(ids);\n        }\n\n        this.listenToAdPlayer(true);\n    }\n\n    private getAdCallUrl(resource: ResourceConfigurationInterface, muteAtStart: boolean): string {\n        const acu = resource.ad.ima.adCallUrl,\n            hasUrl = !Util.isEmpty(acu),\n            callAssembler: ImaAdCallAssembler = new ImaAdCallAssembler();\n\n        if (hasUrl) {\n            return muteAtStart ? callAssembler.substituteStringForMutedPlayback(acu) : acu;\n        }\n\n        const call = callAssembler.assembleAdCall(resource, this.assembleAdContextInfo(muteAtStart));\n\n        return call;\n    }\n\n    private killAdPlayer(): void {\n        if (this.adPlayer) {\n            this.listenToAdPlayer(false);\n            this.adPlayer.destroy();\n            this.adPlayer = null;\n        }\n    }\n\n    onRegister() {\n        super.onRegister();\n        this.domProxy && this.domProxy.showAdContainer(false);\n        this.adDataProxy = new AdDataProxy(ProxyName.AdDataProxy, null);\n        this.facade.registerProxy(this.adDataProxy);\n    }\n}\n","import { DaiProxyApi } from '../ad/dai-api/DaiProxyApi';\nimport { AppResources } from '../app/AppResources';\nimport { Util } from '../core/Util';\nimport { AdContext } from '../enum/AdContext';\nimport { Autoplay } from '../enum/Autoplay';\nimport { ErrorCode } from '../enum/ErrorCode';\nimport { MediatorName } from '../enum/MediatorName';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { PlayerDom } from '../enum/PlayerDom';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ServiceName } from '../enum/ServiceName';\nimport { AutoplayInfoInterface, ImaAdServiceInterface, NotificationInterface, PlayerDomProxyInterface, PresentationMediatorInterface, ServiceInterface, SystemServiceInterface } from '../iface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { PresentationStateInterface } from '../iface/PresentationStateInterface';\nimport { VideoInterface } from '../iface/VideoInterface';\nimport { ContentPlaybackStateProxy } from '../model/ContentPlaybackStateProxy';\nimport { PlayerDomProxy } from '../model/PlayerDomProxy';\nimport { ResourceProxy } from '../model/ResourceProxy';\nimport { AutoplayCapabilitiesService } from '../service/AutoplayCapabilitiesService';\nimport { DaiAdService } from '../service/DaiAdService';\nimport { ImaAdService } from '../service/ImaAdService';\nimport { ContentPresentationMediator } from '../view/ContentPresentationMediator';\nimport { DaiPresentationMediator } from '../view/DaiPresentationMediator';\nimport { ImaPresentationMediator } from '../view/ImaPresentationMediator';\nimport { LogAwareSimpleCommand } from './LogAwareSimpleCommand';\nimport { ResourceAdInterface } from '../iface/ResourceAdInterface';\n\n\nexport class PrepPlaybackCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        const sysSvc = <SystemServiceInterface>this.facade.retrieveService(ServiceName.System);\n\n        if (!sysSvc.global || !sysSvc.global.document) {\n            this.sendNotification(NotificationName.VIDEO_START_ERROR, { error: AppResources.messages.ENVIRONMENT_NOT_SUPPORTED, fatal: true });\n\n            return;\n        }\n\n        const presoState = <PresentationStateInterface>this.getModel(ModelName.PresentationState),\n            playerOpts = <PlayerOptionsInterface>this.getModel(ModelName.PlayerOptions),\n            useAutoplay = this.isAutoplayRequested(playerOpts.autoplay);\n\n        this.facade.registerProxy(new ContentPlaybackStateProxy(ProxyName.ContentPlaybackStateProxy));\n\n        if (sysSvc.isWebMaf || sysSvc.isTizenSmartTv || sysSvc.isXboxOne) {\n            this.processAutoplaySupport({\n                supportsMutedAutoplay: true,\n                supportsUnmutedAutoplay: true\n            }, presoState, playerOpts);\n\n            this.createPresentation(sysSvc);\n        }\n        else if (!presoState.skipAutoplayCheck && useAutoplay) {\n            this.checkAutoplay().then((result: AutoplayInfoInterface) => {\n                this.processAutoplaySupport(result, presoState, playerOpts);\n                this.createPresentation(sysSvc);\n            });\n        }\n        else {\n            this.createPresentation(sysSvc);\n        }\n    }\n\n    private createPresentation(sysSvc: SystemServiceInterface) {\n        const presoMed = this.getPresoMediator(sysSvc);\n\n        if (!presoMed) {\n            return;\n        }\n\n        this.facade.registerMediator(presoMed);\n\n        this.sendNotification(NotificationName.START_PRESENTATION);\n    }\n\n    private getPresoMediator(sysSvc: SystemServiceInterface): PresentationMediatorInterface {\n        const domProxy = <PlayerDomProxyInterface>this.facade.retrieveProxy(ProxyName.PlayerDomProxy);\n        const video = this.getVideo(sysSvc, domProxy);\n        const resourceProxy = <ResourceProxy>this.facade.retrieveProxy(ProxyName.ResourceProxy);\n        const adSets = <ResourceAdInterface>resourceProxy.ad;\n        const adContext: string | null = (adSets && adSets.context) || null;\n        const presoMdl = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n        const n = MediatorName.PRESENTATION_MEDIATOR;\n\n        let ret: PresentationMediatorInterface = null,\n            ok: boolean;\n\n        if (video === null) {\n            this.sendNotification(NotificationName.RESOURCE_ERROR, {\n                code: ErrorCode.UNEXPECTED_CONDITION,\n                message: AppResources.messages.VIDEO_PLAYBACK_UNAVAILABLE,\n                fatal: true,\n            });\n\n            return ret;\n        }\n\n        if (adContext !== AdContext.NONE || presoMdl.isAutoplay) {\n            // VTG-2214: Only required for iOS; attribute ignored elsewhere\n            domProxy.setVideoAttribute('playsinline', '');\n        }\n\n        switch (adContext) {\n            case AdContext.IMA:\n                ok = this.createImaAdService(resourceProxy);\n                if (!ok) {\n                    this.sendNotification(NotificationName.RESOURCE_ERROR, {\n                        code: ErrorCode.IMA_SDK_MISSING,\n                        message: AppResources.messages.IMA_SDK_MISSING,\n                        fatal: true,\n                    });\n                }\n                else {\n                    ret = new ImaPresentationMediator(n, video);\n                }\n                break;\n\n            case AdContext.DAI_SDK:\n            case AdContext.DAI_API:\n                const useApi = adContext === AdContext.DAI_API;\n\n                ok = this.createDaiAdService(domProxy, resourceProxy, useApi, sysSvc);\n                ok && (ret = new DaiPresentationMediator(n, video));\n                !ok && this.sendNotification(NotificationName.RESOURCE_ERROR, {\n                    code: ErrorCode.DAI_SDK_MISSING,\n                    message: AppResources.messages.DAI_SDK_UNAVAILABLE,\n                    fatal: true,\n                });\n                break;\n\n            case AdContext.DAI_SSB:\n                if (adSets.dai.ssbStreamUrl) {\n                    // for now- until we decide whether mediaUrl will act as fallback stream \n                    resourceProxy.location.mediaUrl = adSets.dai.ssbStreamUrl;\n                }\n                ret = new ContentPresentationMediator(n, video);\n                break;\n\n            default:\n                ret = new ContentPresentationMediator(n, video);\n                break;\n        }\n\n        return ret;\n    }\n\n    ////////////////\n    // Ad services\n    private createDaiAdService(\n        domProxy: PlayerDomProxyInterface,\n        res: ResourceProxy,\n        useApi: boolean,\n        sysSvc: SystemServiceInterface\n    ): boolean {\n\n        if (this.facade.retrieveService(ServiceName.DaiAd)) {\n            return true;\n        }\n\n        const svc = new DaiAdService(ServiceName.DaiAd, (useApi ? DaiProxyApi : null));\n        this.facade.registerService(svc);\n\n        if (!svc.sdk) {\n            svc.destroy();\n            this.facade.removeService(ServiceName.DaiAd);\n            return false;\n        }\n\n        const trkSets = res.ad.viewabilityTracking;\n        domProxy && svc.setContainer(domProxy.getElement(PlayerDom.AD_CONTAINER));\n\n        const videoIface = useApi ? sysSvc.createSimpleVideoInterface() : domProxy.getVideo();\n        svc.setVideoInterface(videoIface);\n\n        svc.setTrackingData({\n            ptype: trkSets.ptype,\n            vguid: trkSets.vguid,\n            partner: trkSets.partner\n        });\n\n        return true;\n    }\n\n    getVideoInterface(sysSvc: SystemServiceInterface, domProxy: PlayerDomProxyInterface): any {\n        return sysSvc.createSimpleVideoInterface();\n    }\n\n    getVideo(sysSvc: SystemServiceInterface, domProxy: PlayerDomProxyInterface): any {\n        if (sysSvc.isWebMaf) {\n            return sysSvc.webMafPlayer;\n        }\n        else if (domProxy) {\n            return domProxy.getVideo();\n        }\n\n        return null;\n    }\n\n    createImaAdService(res: ResourceProxy): boolean {\n        if (this.facade.retrieveService(ServiceName.ImaAd)) {\n            return true;\n        }\n\n        const svc: ImaAdServiceInterface = new ImaAdService(ServiceName.ImaAd);\n        this.facade.registerService(<ServiceInterface>svc);\n\n        const sdk = svc.sdk;\n\n        if (sdk !== null) {\n            const domProxy = <PlayerDomProxy>this.facade.retrieveProxy(ProxyName.PlayerDomProxy),\n                adC = <HTMLElement>domProxy.getElement(PlayerDom.AD_CONTAINER);\n\n            svc.setContainer(adC);\n            svc.adsLoaderOptions = {\n                adContainer: adC,\n                adClickEl: <HTMLElement>domProxy.getElement(PlayerDom.AD_CLICK_EL),\n                video: <VideoInterface>domProxy.getVideo(),\n                sdkSettings: svc.sdkSettings,\n                adService: svc,\n            };\n\n            const trkSets = res.ad.viewabilityTracking;\n            svc.setTrackingData({\n                ptype: trkSets.ptype,\n                vguid: trkSets.vguid,\n                partner: trkSets.partner\n            });\n            svc.createAdsLoader();\n\n            return true;\n        }\n        else {\n            this.facade.removeService(ServiceName.ImaAd);\n\n            return false;\n        }\n    }\n    ////////////\n    // autoplay\n    private processAutoplaySupport(\n        result: AutoplayInfoInterface,\n        presoMdl: PresentationStateInterface,\n        playerOpts: PlayerOptionsInterface\n    ): void {\n\n        const apOpt = playerOpts.autoplay;\n        const mutedOk = result.supportsMutedAutoplay;\n        const unmutedOk = result.supportsUnmutedAutoplay;\n\n        presoMdl.autoplaySupport = {\n            supportsMutedAutoplay: mutedOk,\n            supportsUnmutedAutoplay: unmutedOk\n        };\n\n        presoMdl.isMuteAtPlayStart = (\n            apOpt === Autoplay.ATTEMPT_MUTED && mutedOk ||\n            (apOpt === Autoplay.ATTEMPT_UNMUTED_THEN_MUTED && !unmutedOk && mutedOk)\n        );\n\n        presoMdl.isAutoplay = this.shouldAutoplay(apOpt, result);\n    }\n\n    private isAutoplayRequested(opt: Autoplay): boolean {\n        if (Util.isEmpty(opt) || opt === Autoplay.NONE) {\n            return false;\n        }\n\n        return true;\n    }\n\n    private shouldAutoplay(opt: Autoplay, info: AutoplayInfoInterface): boolean {\n        if (Util.isEmpty(opt) || opt === Autoplay.NONE) {\n            return false;\n        }\n\n        const mutedOk = info.supportsMutedAutoplay;\n        const unmutedOk = info.supportsUnmutedAutoplay;\n\n        const muteOnly = opt === Autoplay.ATTEMPT_MUTED && mutedOk;\n        const soundOnly = opt === Autoplay.ATTEMPT_UNMUTED && unmutedOk;\n        const fallback = !soundOnly && (opt === Autoplay.ATTEMPT_UNMUTED_THEN_MUTED && mutedOk);\n\n        return muteOnly || soundOnly || fallback;\n    }\n\n    private checkAutoplay(): Promise<AutoplayInfoInterface> {\n        const ads = <AutoplayCapabilitiesService>this.getService(ServiceName.AutoplayCapabilities);\n\n        return ads.detectCapabilities();\n    }\n}\n","import { Util } from '../core/Util';\nimport { ResourceAdInterface } from '../iface/ResourceAdInterface';\nimport { ResourceAdViewabilityTrackingInterface } from '../iface/ResourceAdViewabilityTrackingInterface';\nimport { ResourcePlaybackInterface } from '../iface/ResourcePlaybackInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { ResourceLocationInterface } from '../iface/ResourceLocationInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { Proxy } from '../mvc/Proxy';\n\n\nexport class ResourceProxy extends Proxy {\n\n    private pResource!: ResourceConfigurationInterface;\n\n    constructor(name: string, data?: any) {\n        super(name, data);\n    }\n\n    //TODO: can we annotate to be removed during compilation? Or use Object.assign?\n    mock(r: ResourceConfigurationInterface): void {\n        this.pResource = r;\n    }\n\n    onRemove() {\n        this.pResource = null;\n        super.onRemove();\n    }\n\n    onRegister(): void {\n        super.onRegister();\n        this.pResource = this.data;\n    }\n\n    get resource(): ResourceConfigurationInterface {\n        return this.pResource;\n    }\n\n    get location(): ResourceLocationInterface {\n        return this.pResource.location;\n    }\n\n    get playback(): ResourcePlaybackInterface {\n        return this.pResource.playback;\n    }\n\n    get metadata(): StrAnyDict {\n        return this.pResource.metadata;\n    }\n\n    get ad(): ResourceAdInterface {\n        return this.pResource.ad;\n    }\n\n    get adTrackingSettings(): ResourceAdViewabilityTrackingInterface {\n        return this.pResource.ad.viewabilityTracking;\n    }\n\n    get hasValidMediaUrl(): boolean {\n        return !Util.isEmpty(this.location.mediaUrl);\n    }\n}\n","import { ResourceConfiguration } from '../../app/ResourceConfiguration';\nimport { Util } from '../../core/Util';\nimport { AdContext } from '../../enum/AdContext';\nimport { ValidationInterface } from '../../iface';\nimport { ResourceAdInterface } from '../../iface/ResourceAdInterface';\nimport { ResourceAdDaiInterface } from '../../iface/ResourceAdDaiInterface';\nimport { ResourceConfigurationInterface } from '../../iface/ResourceConfigurationInterface';\n\n\nexport class ResourceValidator {\n\n    private static defaultResource: ResourceConfigurationInterface = new ResourceConfiguration();\n\n    static validate(r: ResourceConfigurationInterface): ValidationInterface {\n        const hasRootKeys = this.hasRootKeys(r);\n        if (hasRootKeys.error) return hasRootKeys;\n\n        const canAccessMedia = this.canAccessMedia(r);\n        if (canAccessMedia.error) return canAccessMedia;\n\n        return { error: false, msg: '' }\n    }\n\n    private static hasRootKeys(r: ResourceConfigurationInterface): ValidationInterface {\n        const ks = Object.keys(this.defaultResource);\n        let i = ks.length, msg = '';\n\n        while (i--) {\n            if (!(ks[i] in r)) {\n                msg = `Property ${ks[i]} not found.`;\n                break;\n            }\n        }\n\n        return {\n            error: msg != '',\n            msg: msg\n        }\n    }\n\n    private static canAccessMedia(r: ResourceConfigurationInterface): ValidationInterface {\n        const hasCms = !Util.isEmpty(r.location.cms),\n            hasIdOrUri = !Util.isEmpty(r.location.tokenMap) || !Util.isEmpty(r.location.cmsUri),\n            hasMediaUrl = !Util.isEmpty(r.location.mediaUrl),\n            hasSsbMedia = r.ad.context === AdContext.DAI_SSB && !Util.isEmpty(r.ad.dai.ssbStreamUrl),\n            hasValidAdSettings = this.hasValidDaiSettings(r),\n            mediaNotConfigured = !(hasSsbMedia || hasMediaUrl) && !(hasCms && hasIdOrUri),\n            msg = hasValidAdSettings.error ? hasValidAdSettings.msg : (mediaNotConfigured ? 'Media not specified' : '');\n\n        return {\n            error: mediaNotConfigured && hasValidAdSettings.error,\n            msg: msg\n        }\n    }\n\n    private static hasValidDaiSettings(r: ResourceConfigurationInterface): ValidationInterface {\n        const adSets: ResourceAdInterface = r.ad,\n            dp: ResourceAdDaiInterface = adSets.dai;\n        let error: boolean = false, msg = '';\n\n        if (adSets.context === AdContext.DAI_SDK || adSets.context === AdContext.DAI_API) {\n            error = !this.isValidDaiResource(dp);\n            error && (msg = 'Invalid DAI configuration');\n        }\n        else if (adSets.context === AdContext.DAI_SSB) {\n            error = Util.isEmpty(dp.ssbStreamUrl);\n            error && (msg = 'SSB stream url missing');\n        }\n\n        return { error: error, msg: msg };\n    }\n\n    private static isValidDaiResource(p: ResourceAdDaiInterface): boolean {\n        if (p.isLive) {\n            return !Util.isEmpty(p.assetKey);\n        }\n        return !Util.isEmpty(p.contentSourceId) && !Util.isEmpty(p.daiVideoId);\n    }\n}\n","import { AppResources } from '../app/AppResources';\nimport { Util } from '../core/Util';\nimport { ErrorCode } from '../enum/ErrorCode';\nimport { LogLevel } from '../enum/LogLevel';\nimport { MediatorName } from '../enum/MediatorName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { NotificationType } from '../enum/NotificationType';\nimport { ProxyName } from '../enum/ProxyName';\nimport { NotificationInterface, ValidationInterface } from '../iface';\nimport { PlaylistInterface } from '../iface/PlaylistInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { ResourceProxy } from '../model/ResourceProxy';\nimport { AppMediator } from '../view/AppMediator';\nimport { ResourceValidator } from './command-helpers/ResourceValidator';\nimport { LogAwareSimpleCommand } from './LogAwareSimpleCommand';\n\n\nexport class PrepResourceCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        switch (notification.name) {\n            case NotificationName.PREP_RESOURCE_COLLECTION:\n                this.prepResourceCollection(notification);\n                break;\n\n            case NotificationName.VALIDATE_RESOURCE:\n                if (Util.isEmpty(notification.body.resource)) {\n                    this.facade.sendNotification(NotificationName.RESOURCE_ERROR,\n                        {\n                            code: ErrorCode.INVALID_RESOURCE_FORMAT,\n                            message: `${AppResources.messages.INVALID_RESOURCE}: Resource missing.`,\n                            fatal: true,\n                        },\n                        NotificationType.INTERNAL\n                    );\n                    return;\n                }\n                this.validateResource(notification);\n                break;\n\n            case NotificationName.REGISTER_RESOURCE:\n                this.registerResource(notification);\n                break;\n        }\n    }\n\n    private prepResourceCollection(notification: NotificationInterface): void {\n        const resources: Partial<ResourceConfigurationInterface>[] = notification.body.resources;\n        const appMed = <AppMediator>this.facade.retrieveMediator(MediatorName.APPLICATION);\n        const playlist = <PlaylistInterface>(this.getProxy(ProxyName.Playlist));\n\n        if (notification.body.clear === true && appMed && playlist.length) {\n            appMed.killCurrentResource().then(() => {\n                playlist.clear();\n                playlist.addResources(resources);\n                notification.body.start === true && playlist.start();\n            });\n        }\n        else {\n            playlist.addResources(resources);\n            notification.body.start === true && playlist.start();\n        }\n    }\n\n    private validateResource(notification: NotificationInterface): void {\n        const resource: ResourceConfigurationInterface = notification.body.resource,\n            resourceValidation: ValidationInterface = ResourceValidator.validate(resource);\n\n        if (!resourceValidation.error) {\n            this.facade.sendNotification(\n                this.cmsDataRetrievalRequired(resource) ? NotificationName.RETRIEVE_RESOURCE : NotificationName.TRANSFORM_RESOURCE,\n                { resource: resource },\n                NotificationType.INTERNAL\n            );\n        }\n        else {\n            this.log(LogLevel.ERROR, AppResources.messages.INVALID_RESOURCE);\n            this.facade.sendNotification(NotificationName.RESOURCE_ERROR, {\n                message: `${AppResources.messages.INVALID_RESOURCE}: ${resourceValidation.msg}`,\n                code: ErrorCode.INVALID_RESOURCE_FORMAT,\n                fatal: true,\n            }, NotificationType.INTERNAL);\n        }\n    }\n\n    private registerResource(notification: NotificationInterface): void {\n        const resource: ResourceConfigurationInterface = notification.body.resource,\n            resourceProxy = new ResourceProxy(ProxyName.ResourceProxy, resource);\n\n        this.facade.registerProxy(resourceProxy);\n        this.facade.sendNotification(NotificationName.PLAY_RESOURCE, null, NotificationType.INTERNAL);\n    }\n\n    private cmsDataRetrievalRequired(r: ResourceConfigurationInterface): boolean {\n        return !Util.isEmpty(r.location.cms) &&\n            (!Util.isEmpty(r.location.tokenMap) || !Util.isEmpty(r.location.cmsUri));\n    }\n\n}\n","import { MediatorName } from '../enum/MediatorName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { ProxyName } from '../enum/ProxyName';\nimport { NotificationInterface, PlayerDomProxyInterface, UiMediatorInterface } from '../iface';\nimport { TimerMediator } from '../view/TimerMediator';\nimport { LogAwareSimpleCommand } from \"./LogAwareSimpleCommand\";\nimport { PlaylistInterface } from '../iface/PlaylistInterface';\n\nexport class PresentationStateChangeCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        switch (notification.name) {\n            case NotificationName.RESOURCE_COMPLETE:\n                // The resource truly reached completion so advance the playlist, which will trigger <PresentationMediatorInterface>.close()\n                const pl = <PlaylistInterface>this.getProxy(ProxyName.Playlist);\n                pl && pl.next();\n\n                return;\n\n            case NotificationName.RESOURCE_END:\n            case NotificationName.RESOURCE_INTERRUPTED:\n                // <PresentationMediatorInterface>.close() has completed, kill the resource\n                (<TimerMediator>this.facade.retrieveMediator(MediatorName.TIMER_MEDIATOR)).killTimer();\n\n                this.sendNotification(NotificationName.KILL_RESOURCE_PRESENTATION);\n\n                const uim = <UiMediatorInterface>this.facade.retrieveMediator(MediatorName.UI);\n                uim && uim.resetUi();\n                break;\n\n            case NotificationName.CONTENT_BUFFERING:\n            case NotificationName.AD_BUFFERING:\n                const dom = this.facade.retrieveProxy(ProxyName.PlayerDomProxy) as PlayerDomProxyInterface;\n                const main = dom.getMain();\n                main.setAttribute('aria-busy', notification.body.value.toString());\n                break;\n        }\n\n        this.sendNotification(NotificationName.APP_EVENT, {\n            notificationName: notification.name,\n            data: notification.body\n        });\n    }\n}\n","import { NotificationName } from '../enum/NotificationName';\nimport { ProxyName } from '../enum/ProxyName';\nimport { NotificationInterface, PlayerDomProxyInterface } from '../iface';\nimport { LogAwareSimpleCommand } from './LogAwareSimpleCommand';\n\nexport class ReadyCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        const { name, body } = notification;\n        \n        // accessibility\n        const dom = this.facade.retrieveProxy(ProxyName.PlayerDomProxy) as PlayerDomProxyInterface;\n        if (dom) {\n            const main = dom.getMain();\n            main.setAttribute('role', 'region');\n\n            const tabindex = main.getAttribute('tabindex') || \"0\";\n            main.setAttribute('tabindex', tabindex);\n        }\n\n        setTimeout(() => this.sendNotification(NotificationName.APP_EVENT, { notificationName: name, data: body }), 0)\n    }\n}","import { LogAwareSimpleCommand } from \"./LogAwareSimpleCommand\";\nimport { NotificationInterface, PresentationMediatorInterface } from '../iface';\nimport { MediatorName } from '../enum/MediatorName';\n\nimport { PresentationStateInterface } from '../iface/PresentationStateInterface';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from \"../enum/NotificationName\";\nimport { ContentPlaybackStateInterface } from \"../iface/ContentPlaybackStateInterface\";\nimport { ProxyName } from '../enum/ProxyName';\n\n\nexport class ResumePlaybackCommand extends LogAwareSimpleCommand {\n    \n    execute(notification: NotificationInterface) {\n        const presoState = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n        const pm = <PresentationMediatorInterface>this.facade.retrieveMediator(MediatorName.PRESENTATION_MEDIATOR);\n\n        presoState.suspended = false;\n        pm.resume();\n\n        const cps  = <ContentPlaybackStateInterface>this.getProxy(ProxyName.ContentPlaybackStateProxy);\n        this.sendNotification(NotificationName.PLAYBACK_RESUMED, {contentTime: cps.model.time});\n    }\n}\n","import { AsyncDataRequest } from '../../dataservice/AsyncDataRequest';\nimport { AsyncDataRequestOptions } from '../../dataservice/AsyncDataRequestOptions';\nimport { XhrResponseType } from '../../enum/XhrResponseType';\nimport { CmsDataRetrieverCallback, CmsDataRetrieverOptions } from '../../iface';\nimport { ErrorRecoveryInterface } from '../../iface/ErrorRecoveryInterface';\nimport { EventInterface } from '../../iface/EventInterface';\nimport { StrStrDict } from '../../iface/StrStrDict';\n\n\n// Will make an XHR call upon instantiation.\n// See CmsDataRetrieverOptions; either a uriTemplate and id, or a url may be supplied.\n// A responseType and callback are required. \nexport class CmsDataRetriever {\n\n    constructor(options: CmsDataRetrieverOptions) {\n        const errRecovery = options.errorRecovery || null;\n        let errorMsg: string | null = null;\n\n        if (options.url) {\n            this.retrieveResource(options.url, options.responseType, options.callback, errRecovery);\n        }\n        else if (options.uriTemplate && options.tokenMap) {\n            const uri = this.replaceUriTokens(options.uriTemplate, options.tokenMap);\n            this.retrieveResource(uri, options.responseType, options.callback, errRecovery);\n        }\n        else {\n            errorMsg = 'Invalid options passed to CmsDataRetriever.'\n        }\n\n        if (errorMsg) {\n            options.callback && options.callback(null, {\n                status: 0,\n                error: true,\n                url: 'n/a',\n                message: errorMsg\n            });\n        }\n    }\n\n    private replaceUriTokens(uri: string, tokenMap: StrStrDict): string {\n        let u: string = uri;\n\n        if (tokenMap) {\n            for (const q in tokenMap) {\n                u = u.replace(q, tokenMap[q]);\n            }\n        }\n        return u;\n    }\n\n    private retrieveResource(\n        u: string,\n        responseType: XhrResponseType,\n        callback: CmsDataRetrieverCallback,\n        er: ErrorRecoveryInterface = null\n    ): void {\n\n        const req = AsyncDataRequestOptions.create({\n            responseType: responseType, // REM: Use XhrResponseType.TEXT for MPX SMIL! (is converted to Document by AsyncDataRequest)\n            timeout: 2000,\n            url: u,\n            errorRecovery: er,\n            onComplete: (e: EventInterface) => {\n                const doc = e.data.response,\n                    err = e.data.error;\n                callback && callback(doc, err ? e.data : null);\n            }\n        });\n\n        new AsyncDataRequest(req);\n    }\n}\n","import { AppResources } from '../app/AppResources';\nimport { ErrorCode } from '../enum/ErrorCode';\nimport { LogLevel } from '../enum/LogLevel';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { NotificationType } from '../enum/NotificationType';\nimport { CmsDataRetrieverOptions, NotificationInterface } from '../iface';\nimport { DataTransformerConfigInterface } from '../iface/DataTransformerConfigInterface';\nimport { DataTransformersConfigInterface } from '../iface/DataTransformersConfigInterface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { CmsDataRetriever } from './command-helpers/CmsDataRetriever';\nimport { LogAwareSimpleCommand } from './LogAwareSimpleCommand';\n\n\nexport class RetrieveResourceCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface): void {\n        const r: ResourceConfigurationInterface = notification.body.resource,\n            loc = r && r.location,\n            cms: string = (loc && loc.cms) || null,\n            cfg: DataTransformerConfigInterface = this.getConfig(cms),\n            valid = cfg && ((cfg.uriTemplate && loc.tokenMap) || loc.cmsUri);\n\n        if (valid) {\n            const pOpts = <PlayerOptionsInterface>this.getModel(ModelName.PlayerOptions);\n            const opts: CmsDataRetrieverOptions = {\n                uriTemplate: cfg.uriTemplate,\n                tokenMap: loc && loc.tokenMap || null,\n                url: loc && loc.cmsUri || null,\n                responseType: cfg.responseType,\n                errorRecovery: pOpts.networkErrorRecovery,\n                callback: (doc: XMLDocument, err: StrAnyDict | null) => {\n                    if (err) {\n                        this.log(LogLevel.ERROR, err.status, err.message);\n                        this.sendNotification(NotificationName.RESOURCE_ERROR, {\n                            code: ErrorCode.SELECTOR_CALL_ERROR,\n                            message: err.message,\n                            fatal: true,\n                        }, NotificationType.INTERNAL);\n\n                        return;\n                    }\n\n                    this.sendNotification(NotificationName.TRANSFORM_RESOURCE, { resource: r, data: doc }, NotificationType.INTERNAL);\n                }\n            };\n\n            new CmsDataRetriever(opts);\n        }\n        else {\n            this.log(LogLevel.ERROR, `RetrieveResourceCommand: ${AppResources.messages.UNEXPECTED_CONDITION}; CMS config error.`);\n        }\n    }\n\n    getConfig(cms: string): DataTransformerConfigInterface | null {\n        const playerOptions = <PlayerOptionsInterface>this.getModel(ModelName.PlayerOptions),\n            txDefs: DataTransformersConfigInterface = playerOptions.dataTransformers;\n\n        if (cms && txDefs && txDefs[cms] && txDefs[cms].objectRef && txDefs[cms].responseType) {\n            return txDefs[cms];\n        }\n\n        return null;\n    }\n}\n","import { MediatorName } from '../enum/MediatorName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { NotificationInterface, PresentationMediatorInterface } from '../iface';\nimport { LogAwareSimpleCommand } from './LogAwareSimpleCommand';\n\nexport class StartPresentationCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface) {\n        const pm = <PresentationMediatorInterface>this.facade.retrieveMediator(MediatorName.PRESENTATION_MEDIATOR);\n        this.sendNotification(NotificationName.RESOURCE_START);\n        pm.start();\n    }\n}\n","import { LogAwareSimpleCommand } from \"./LogAwareSimpleCommand\";\nimport { NotificationInterface, PresentationMediatorInterface } from '../iface';\nimport { MediatorName } from '../enum/MediatorName';\n\nimport { PresentationStateInterface } from '../iface/PresentationStateInterface';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { ContentPlaybackStateInterface } from '../iface/ContentPlaybackStateInterface';\nimport { ProxyName } from \"../enum/ProxyName\";\n\n\n\nexport class SuspendPlaybackCommand extends LogAwareSimpleCommand {\n    \n    execute(notification: NotificationInterface) {\n        const presoState = <PresentationStateInterface>this.getModel(ModelName.PresentationState);\n        const pm = <PresentationMediatorInterface>this.facade.retrieveMediator(MediatorName.PRESENTATION_MEDIATOR);\n\n        pm.suspend();\n        presoState.suspended = true;\n\n        const cps  = <ContentPlaybackStateInterface>this.getProxy(ProxyName.ContentPlaybackStateProxy);\n        this.sendNotification(NotificationName.PLAYBACK_SUSPENDED, {contentTime: cps.model.time});\n    }\n}\n","import { AppResources } from '../app/AppResources';\nimport { Util } from '../core/Util';\nimport { ErrorCode } from '../enum/ErrorCode';\nimport { ModelName } from '../enum/ModelName';\nimport { NotificationName } from '../enum/NotificationName';\nimport { NotificationType } from '../enum/NotificationType';\nimport { NotificationInterface } from '../iface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { LogAwareSimpleCommand } from './LogAwareSimpleCommand';\n\n\nexport class TransformResourceCommand extends LogAwareSimpleCommand {\n\n    execute(notification: NotificationInterface): void {\n        const r: ResourceConfigurationInterface = notification.body.resource,\n            data = notification.body.data || null,\n            playerOpts = <PlayerOptionsInterface>this.getModel(ModelName.PlayerOptions),\n            dtx: any = playerOpts.dataTransformers && playerOpts.dataTransformers[r.location.cms] && playerOpts.dataTransformers[r.location.cms].objectRef;\n\n        Promise.resolve()\n            .then(() => {\n                let resource = r;\n\n                if (dtx) {\n                    const tx = Util.isFunction(dtx.transform) ? dtx : new dtx();\n                    resource = (tx.transform && tx.transform(data, r)) || r;\n                }\n\n                return resource;\n            })\n            .then((resource) => {\n                if (!resource || resource.error) {\n                    throw new Error(resource && resource.data);\n                }\n\n                this.sendNotification(NotificationName.REGISTER_RESOURCE, { resource }, NotificationType.INTERNAL);\n            })\n            .catch((error) => {\n                const code = this.getCodeForError(error);\n                const message = error.message || AppResources.messages.CMS_RESOURCE_UNAVAILABLE;\n                const fatal = true;\n                this.sendNotification(NotificationName.RESOURCE_ERROR, { code, message, fatal }, NotificationType.INTERNAL);\n            })\n\n    }\n\n    getCodeForError(obj: StrAnyDict): ErrorCode {\n        if (obj.cms === 'mpx') {\n            return this.getCodeForMpxError(obj);\n        }\n        else {\n            return ErrorCode.RESOURCE_UNAVAILABLE;\n        }\n    }\n\n    getCodeForMpxError(obj: StrAnyDict): ErrorCode {\n        const exc = obj ? obj.exception : null;\n\n        switch (exc) {\n            case 'DomainBlocked':\n                return ErrorCode.DOMAIN_BLOCKED;\n\n            case 'GeoLocationBlocked':\n                return ErrorCode.GEO_LOCATION_BLOCKED;\n\n            case 'IpBlocked':\n                return ErrorCode.IP_BLOCKED;\n\n            case 'SatelliteProviderBlocked':\n                return ErrorCode.SATELLITE_PROVIDER_BLOCKED;\n\n            case 'Expired':\n                return ErrorCode.EXPIRED;\n\n            default:\n                return ErrorCode.RESOURCE_UNAVAILABLE;\n        }\n    }\n}\n","import { LogAwareSimpleCommand } from \"./LogAwareSimpleCommand\";\nimport { NotificationInterface } from '../iface';\nimport { NotificationName } from '../enum/NotificationName';\nimport { MediatorName } from '../enum/MediatorName';\nimport { PluginMediator } from '../view/PluginMediator';\nimport { DiagnosticAction } from '../enum/DiagnosticAction';\nimport { ProxyName } from '../enum/ProxyName';\nimport { PlayerDomProxy } from '../model/PlayerDomProxy';\nimport { AppMediator } from '../view/AppMediator';\n\n\nexport class UserKeyboardCommand extends LogAwareSimpleCommand {\n\n    private copyNoticeStyle: string = 'position: absolute; z-Index: 900000000; top: 0; right: 0; width: 180px; ' +\n        'background: #fc0; color: #000; font-family: Arial, sans-serif; text-align: center; height: 64px; line-height: 64px; font-size: 32px';\n\n    execute(notification: NotificationInterface) {\n        const action = notification.body && notification.body.action;\n\n        switch (action) {\n            case DiagnosticAction.DIAGNOSTIC_PLUGIN:\n                const pim = <PluginMediator>this.facade.retrieveMediator(MediatorName.PLUGIN_MEDIATOR);\n\n                pim && pim.toggleDiagnosticPlugin();\n                break;\n\n            case DiagnosticAction.CONFIG_TO_CLIPBOARD:\n            case DiagnosticAction.CONFIG_TO_TEST_PAGE:\n                const toClip = action === DiagnosticAction.CONFIG_TO_CLIPBOARD;\n                const d = this.getSerializedData();\n\n                if (toClip) {\n                    this.copyToClipboard(d);\n                    this.displayCopyNotice();\n                }\n                else {\n                    // NOT YET IMPL'D: send to test page\n                    // const w: Window = window.open('TEST_PAGE_URL', '_blank');\n                    // w.addEventListener('load', () => {\n                    //     w.postMessage(d, `${DOMAIN}`); // domain of test page\n                    // });\n                }\n                break;\n\n            default:\n                this.sendNotification(NotificationName.APP_EVENT, {\n                    notificationName: notification.name,\n                    data: notification.body\n                });\n                break;\n        }\n    }\n\n\n    displayCopyNotice(): void {\n        const pdp = <PlayerDomProxy>this.facade.retrieveProxy(ProxyName.PlayerDomProxy);\n        const m = pdp.getMain();\n        const d = document.createElement('div');\n\n        d.setAttribute('style', this.copyNoticeStyle);\n        d.innerHTML = 'Copied!';\n\n        m.appendChild(d);\n        setTimeout(() => m.removeChild(d), 2500);\n    }\n\n    copyToClipboard(str: string): void {\n        const t: HTMLTextAreaElement = document.createElement('textarea');\n\n        t.setAttribute('style', 'position: absolute; top: -120px;');\n        document.body.appendChild(t);\n        t.value = str;\n        t.select();\n\n        document.execCommand(\"copy\");\n\n        document.body.removeChild(t);\n    }\n\n    getSerializedData(): string {\n        const am = <AppMediator>this.facade.retrieveMediator(MediatorName.APPLICATION);\n\n        return am.getConfigAsJson();\n    }\n}","import { AbrSwitchCommand } from '../controller/AbrSwitchCommand';\nimport { BootCommand } from \"../controller/boot/BootCommand\";\nimport { BootWebMafCommand } from \"../controller/boot/BootWebMafCommand\";\nimport { HandleErrorCommand } from '../controller/HandleErrorCommand';\nimport { KillResourcePresentationCommand } from '../controller/KillResourcePresentationCommand';\nimport { LocalizationCommand } from \"../controller/LocalizationCommand\";\nimport { PlaybackCommand } from \"../controller/PlaybackCommand\";\nimport { PlaylistCommand } from '../controller/PlaylistCommand';\nimport { PrepPlaybackCommand } from \"../controller/PrepPlaybackCommand\";\nimport { PrepResourceCommand } from \"../controller/PrepResourceCommand\";\nimport { PresentationStateChangeCommand } from '../controller/PresentationStateChangeCommand';\nimport { ReadyCommand } from '../controller/ReadyCommand';\nimport { ResumePlaybackCommand } from '../controller/ResumePlaybackCommand';\nimport { RetrieveResourceCommand } from '../controller/RetrieveResourceCommand';\nimport { StartPresentationCommand } from '../controller/StartPresentationCommand';\nimport { SuspendPlaybackCommand } from '../controller/SuspendPlaybackCommand';\nimport { TransformResourceCommand } from '../controller/TransformResourceCommand';\nimport { UserKeyboardCommand } from '../controller/UserKeyboardCommand';\nimport { NotificationName } from \"../enum/NotificationName\";\nimport { NotificationCommandMapInterface } from '../iface';\n\n\nexport const command_map: NotificationCommandMapInterface = {\n    [NotificationName.DEFAULT]: null,\n    [NotificationName.BOOT_APP]: BootCommand,\n    [NotificationName.BOOT_WEBMAF_APP]: BootWebMafCommand,\n    [NotificationName.READY]: ReadyCommand,\n\n    [NotificationName.PLAY_ON_USER_GESTURE]: PlaybackCommand,\n    [NotificationName.PLAY]: PlaybackCommand,\n    [NotificationName.PAUSE]: PlaybackCommand,\n    [NotificationName.STOP]: PlaybackCommand,\n    [NotificationName.SEEK]: PlaybackCommand,\n    [NotificationName.SEEK_FORWARD]: PlaybackCommand,\n    [NotificationName.SEEK_BACK]: PlaybackCommand,\n    [NotificationName.SEEK_TO_LIVE]: PlaybackCommand,\n    [NotificationName.MUTE]: PlaybackCommand,\n    [NotificationName.UNMUTE]: PlaybackCommand,\n    [NotificationName.VOLUME_CHANGE]: PlaybackCommand,\n    [NotificationName.SWITCH_AUDIO_TRACK]: PlaybackCommand,\n    [NotificationName.SWITCH_TEXT_TRACK]: PlaybackCommand,\n    [NotificationName.SWITCH_TEXT_MODE]: PlaybackCommand,\n\n    [NotificationName.SUSPEND_PLAYBACK]: SuspendPlaybackCommand,\n    [NotificationName.RESUME_PLAYBACK]: ResumePlaybackCommand,\n\n    [NotificationName.SWITCH_BITRATE]: AbrSwitchCommand,\n    [NotificationName.SWITCH_QUALITY_CATEGORY]: AbrSwitchCommand,\n    [NotificationName.AUTO_QUALITY_SWITCHING]: AbrSwitchCommand,\n    [NotificationName.MIN_BITRATE]: AbrSwitchCommand,\n    [NotificationName.MAX_BITRATE]: AbrSwitchCommand,\n\n\n    [NotificationName.PREP_RESOURCE_COLLECTION]: PrepResourceCommand,\n    [NotificationName.VALIDATE_RESOURCE]: PrepResourceCommand,\n    [NotificationName.REGISTER_RESOURCE]: PrepResourceCommand,\n    [NotificationName.REGISTER_RESOURCE]: PrepResourceCommand,\n    [NotificationName.RETRIEVE_RESOURCE]: RetrieveResourceCommand,\n    [NotificationName.TRANSFORM_RESOURCE]: TransformResourceCommand,\n    [NotificationName.START_PRESENTATION]: StartPresentationCommand,\n\n    [NotificationName.PLAYLIST_ADVANCED]: PlaylistCommand,\n    [NotificationName.PLAYLIST_COMPLETE]: PlaylistCommand,\n    [NotificationName.PLAYLIST_CLEARED]: PlaylistCommand,\n    [NotificationName.PLAYLIST_CURRENT_RESOURCE_CLEARED]: PlaylistCommand,\n\n    [NotificationName.PLAY_RESOURCE]: PrepPlaybackCommand,\n    [NotificationName.KILL_RESOURCE_PRESENTATION]: KillResourcePresentationCommand,\n\n    [NotificationName.RESOURCE_INTERRUPTED]: PresentationStateChangeCommand,\n\n    [NotificationName.VIDEO_START_ERROR]: HandleErrorCommand,\n    [NotificationName.VIDEO_PLAYBACK_ERROR]: HandleErrorCommand,\n    [NotificationName.RESOURCE_ERROR]: HandleErrorCommand,\n    [NotificationName.AD_ERROR]: HandleErrorCommand,\n    [NotificationName.AD_STALLED]: HandleErrorCommand,\n\n    // PresentationStateChangeCommand is a sink for any events \n    // which are to be emitted externally.  If special treatment is needed\n    // a custom command may be used.\n    [NotificationName.PLAYBACK_SUSPENDED]: PresentationStateChangeCommand,\n    [NotificationName.PLAYBACK_RESUMED]: PresentationStateChangeCommand,\n\n    [NotificationName.POSTER_CLICK]: PresentationStateChangeCommand,\n    [NotificationName.PLAYLIST_CHANGE]: PresentationStateChangeCommand,\n\n    [NotificationName.RESOURCE_START]: PresentationStateChangeCommand,\n    [NotificationName.VIDEO_PROGRESS]: PresentationStateChangeCommand,\n    [NotificationName.QUALITY_CHANGE]: PresentationStateChangeCommand,\n    [NotificationName.QUALITY_INFO_CHANGE]: PresentationStateChangeCommand,\n    [NotificationName.CDN_CHANGE]: PresentationStateChangeCommand,\n    [NotificationName.DRM_KEYSYSTEM_CREATED]: PresentationStateChangeCommand,\n\n    [NotificationName.PRESENTATION_SIZE_CHANGE]: PresentationStateChangeCommand,\n    [NotificationName.FULLSCREEN_ENTER]: PresentationStateChangeCommand,\n    [NotificationName.FULLSCREEN_EXIT]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_TIME_UPDATE]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_BUFFERING]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_START]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_DURATION_AVAILABLE]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_SEGMENT_START]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_PLAYING]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_PAUSED]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_SEEKING]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_SEEKED]: PresentationStateChangeCommand,\n    [NotificationName.SEEK_REDIRECT_START]: PresentationStateChangeCommand,\n    [NotificationName.SEEK_REDIRECT_COMPLETE]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_SEGMENT_END]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_COMPLETE]: PresentationStateChangeCommand,\n    [NotificationName.CONTENT_IS_LIVE_CHANGED]: PresentationStateChangeCommand,\n    [NotificationName.STREAM_TYPE_CHANGE]: PresentationStateChangeCommand,\n    [NotificationName.STREAM_METADATA]: PresentationStateChangeCommand,\n    [NotificationName.RESOURCE_END]: PresentationStateChangeCommand,\n    [NotificationName.RESOURCE_COMPLETE]: PresentationStateChangeCommand,\n\n    [NotificationName.AD_CUEPOINTS_AVAILABLE]: PresentationStateChangeCommand,\n    [NotificationName.AD_BREAK_START]: PresentationStateChangeCommand,\n    [NotificationName.AD_BREAK_METADATA]: PresentationStateChangeCommand,\n    [NotificationName.AD_BREAK_COMPLETE]: PresentationStateChangeCommand,\n    [NotificationName.AD_START]: PresentationStateChangeCommand,\n    [NotificationName.AD_PAUSED]: PresentationStateChangeCommand,\n    [NotificationName.AD_PLAYING]: PresentationStateChangeCommand,\n    [NotificationName.AD_TIME_UPDATE]: PresentationStateChangeCommand,\n    [NotificationName.AD_FIRST_QUARTILE]: PresentationStateChangeCommand,\n    [NotificationName.AD_MIDPOINT]: PresentationStateChangeCommand,\n    [NotificationName.AD_THIRD_QUARTILE]: PresentationStateChangeCommand,\n    [NotificationName.AD_COMPLETE]: PresentationStateChangeCommand,\n    [NotificationName.AD_BREAK_COMPLETE]: PresentationStateChangeCommand,\n\n    [NotificationName.AD_STALLED]: PresentationStateChangeCommand,\n    [NotificationName.AD_STALLED]: PresentationStateChangeCommand,\n    [NotificationName.AD_BUFFERING]: PresentationStateChangeCommand,\n    [NotificationName.AD_CLICK]: PresentationStateChangeCommand,\n    [NotificationName.AD_SKIPPED]: PresentationStateChangeCommand,\n\n    [NotificationName.VIDEO_LOAD_COMPLETE]: PresentationStateChangeCommand,\n    [NotificationName.METADATA_CUEPOINT]: PresentationStateChangeCommand,\n    [NotificationName.TEXT_CUEPOINT]: PresentationStateChangeCommand,\n    [NotificationName.TEXT_TRACK_DISPLAY_MODE_CHANGE]: PresentationStateChangeCommand,\n    [NotificationName.TEXT_TRACK_CHANGE]: PresentationStateChangeCommand,\n    [NotificationName.TEXT_TRACK_INFO_CHANGE]: PresentationStateChangeCommand,\n    [NotificationName.TEXT_TRACK_AVAILABLE]: PresentationStateChangeCommand,\n    [NotificationName.AUDIO_TRACK_INFO_CHANGE]: PresentationStateChangeCommand,\n    [NotificationName.AUDIO_TRACK_CHANGE]: PresentationStateChangeCommand,\n    [NotificationName.THUMBNAIL_TRACK_AVAILABLE]: PresentationStateChangeCommand,\n\n    [NotificationName.BEFORE_CONTROLS_VISIBLE]: PresentationStateChangeCommand,\n    [NotificationName.BEFORE_CONTROLS_HIDDEN]: PresentationStateChangeCommand,\n    [NotificationName.CONTROLS_VISIBLE]: PresentationStateChangeCommand,\n    [NotificationName.CONTROLS_HIDDEN]: PresentationStateChangeCommand,\n\n    [NotificationName.MOUSE_ENTER_PRESENTATION]: PresentationStateChangeCommand,\n    [NotificationName.MOUSE_LEAVE_PRESENTATION]: PresentationStateChangeCommand,\n    [NotificationName.USER_PAUSE]: PresentationStateChangeCommand,\n    [NotificationName.USER_SETTINGS_REQUEST]: PresentationStateChangeCommand,\n\n    [NotificationName.AUTOPLAY_BLOCKED]: PresentationStateChangeCommand,\n    [NotificationName.PLAYLIST_OUT_OF_RANGE]: PresentationStateChangeCommand,\n    // END PresentationStateChangeCommand \n\n    [NotificationName.CHANGE_LANGUAGE]: LocalizationCommand,\n    [NotificationName.LANGUAGE_CHANGE]: LocalizationCommand,\n    [NotificationName.USER_KEY_COMMAND]: UserKeyboardCommand,\n\n}\n","import { Logger } from '../core/Logger';\nimport { Util } from '../core/Util';\nimport { LogLevel } from '../enum/LogLevel';\nimport { MediatorName } from '../enum/MediatorName';\nimport { ModelName } from '../enum/ModelName';\nimport { NativePlugin } from '../enum/NativePlugin';\nimport { NotificationName } from '../enum/NotificationName';\nimport { NotificationType } from '../enum/NotificationType';\nimport { PlaybackState } from '../enum/PlaybackState';\nimport { PlayerEvent } from '../enum/PlayerEvent';\nimport { ProxyName } from '../enum/ProxyName';\nimport { ServiceName } from '../enum/ServiceName';\nimport { StreamType } from '../enum/StreamType';\nimport { ApplicationOptionsInterface, BuildInfoServiceInterface, NotificationInterface, PlayerDomProxyInterface, SystemServiceInterface, VideoPlayerApplicationOptions } from '../iface';\nimport { AdCuePointInterface } from '../iface/AdCuePointInterface';\nimport { AudioTrackInterface } from '../iface/AudioTrackInterface';\nimport { AudioTracksInterface } from '../iface/AudioTracksInterface';\nimport { AutoplayInfoInterface } from '../iface/AutoplayInfoInterface';\nimport { DimensionsInterface } from '../iface/DimensionsInterface';\nimport { EventHandler } from '../iface/EventHandler';\nimport { EventInterface } from '../iface/EventInterface';\nimport { LiveStreamInfoInterface } from '../iface/LiveStreamInfoInterface';\nimport { LocalizationInterface } from '../iface/LocalizationInterface';\nimport { ModelSnapshotInterface } from '../iface/ModelSnapshotInterface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { PlaylistInterface } from '../iface/PlaylistInterface';\nimport { PluginConfigInterface } from '../iface/PluginConfigInterface';\nimport { PresentationStateInterface } from '../iface/PresentationStateInterface';\nimport { QualityInfoInterface } from '../iface/QualityInfoInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { StrAnyDict } from '../iface/StrAnyDict';\nimport { TextTrackInterface } from '../iface/TextTrackInterface';\nimport { TextTracksInterface } from '../iface/TextTracksInterface';\nimport { ThumbnailCueInterface } from '../iface/ThumbnailCueInterface';\nimport { VideoPlayerInterface } from '../iface/VideoPlayerInterface';\nimport { ContentPlaybackStateProxy } from '../model/ContentPlaybackStateProxy';\nimport { LocalizationProxy } from '../model/LocalizationProxy';\nimport { PlayerDomProxy } from '../model/PlayerDomProxy';\nimport { PlaylistProxy } from '../model/PlaylistProxy';\nimport { TextTrackProxy } from '../model/TextTrackProxy';\nimport { Playback } from '../playback/enum/Playback';\nimport { AbstractApplication } from './AbstractApplication';\nimport { apiAccessor, apiCollection, apiMethod } from './ApiDecorators';\nimport { AppResources } from './AppResources';\nimport { command_map } from './command_map';\n\n\nexport class VideoPlayer extends AbstractApplication implements VideoPlayerInterface {\n\n    /**\n     * @ignore\n     */\n    apiMethods!: StrAnyDict;\n    /**\n     * @ignore\n     */\n    apiAccessors!: StrAnyDict;\n\n    private pContentPlaybackStateProxy!: ContentPlaybackStateProxy;\n    private pIsReady: boolean = false;\n\n    /**\n    * @hidden\n    */\n    constructor(options: VideoPlayerApplicationOptions) {\n        super(<ApplicationOptionsInterface>Util.assign({\n            commandMap: command_map,\n            id: options.playerOptions.id || null\n        }, options));\n\n        this.init();\n    }\n\n    initialize(): Promise<VideoPlayerInterface> {\n        const options = (this.opts.playerOptions || {}) as PlayerOptionsInterface;\n        const plugins = (options.plugins || []) as PluginConfigInterface[];\n        const api = this.getApi();\n        const note = { name: NotificationName.CHANGE_LANGUAGE, body: { value: options.language }, type: NotificationType.INTERNAL };\n\n        this.addNativePlugins(plugins, options);\n\n        return api.registerPlugins(plugins)\n            .then(() => this.sendAsyncNotification(note, [PlayerEvent.LANGUAGE_CHANGE]))\n            .then(() => {\n                this.localization.registerLocalizationData(options.localization);\n\n                this.pIsReady = true;\n                this.sendNotification(NotificationName.READY, api);\n\n                return api;\n            })\n            .catch(error => {\n                Logger.error(error);\n\n                throw error;\n            });\n    }\n\n    /**\n     * @ignore\n     */\n    destroy(): Promise<void> {\n        const destroy = super.destroy.bind(this);\n        return this.killCurrentResource()\n            .then(() => {\n                this.appMediator && this.appMediator.prepForPlayerRemoval();\n                this.pContentPlaybackStateProxy = null;\n                this.apiAccessors = null;\n                this.apiMethods = null;\n                destroy();\n            })\n            .catch(e => { Logger.error(e); });\n    }\n\n    /**\n     * @ignore\n     */\n    getApi(): VideoPlayerInterface {\n        const obj: StrAnyDict = apiCollection({}, this);\n        obj.EventType = PlayerEvent;\n\n        return <VideoPlayerInterface>obj;\n    }\n\n    /**\n    * @ignore\n    */\n    killCurrentResource(): Promise<void> {\n        return this.appMediator.killCurrentResource();\n    }\n\n    //////////////////////\n    // BEGIN PUBLIC API //\n    //////////////////////\n\n    ////////////////\n    // Inherited\n    ////////////////\n    @apiMethod()\n    hasListenerFor(name: string): boolean {\n        return super.hasListenerFor(name);\n    }\n\n    @apiMethod()\n    on(name: string, func: EventHandler): void {\n        super.on(name, func);\n    }\n\n    @apiMethod()\n    once(name: string, func: EventHandler): void {\n        super.once(name, func);\n    }\n\n    @apiMethod()\n    off(name: string, func?: EventHandler): void {\n        super.off(name, func);\n    }\n\n    ////////////////\n    // Accessors\n    ////////////////\n    @apiAccessor()\n    get isReady(): boolean {\n        return this.pIsReady;\n    }\n\n    @apiAccessor()\n    get id(): string {\n        return this.appId;\n    }\n\n    @apiAccessor()\n    get dimensions(): DimensionsInterface {\n        return this.appMediator.getDimensions();\n    }\n\n    @apiAccessor()\n    get muted(): boolean {\n        return this.appMediator.getMuteState();\n    }\n    set muted(value: boolean) {\n        const note = value ? NotificationName.MUTE : NotificationName.UNMUTE;\n        this.transmitExtRequest(note);\n    }\n\n    @apiAccessor()\n    get volume(): number {\n        return this.appMediator.getVolume();\n    }\n    set volume(value: number) {\n        this.transmitExtRequest(NotificationName.VOLUME_CHANGE, { value: value });\n    }\n\n    @apiAccessor()\n    get language(): string {\n        return this.localization.language;\n    }\n    set language(value: string) {\n        this.transmitExtRequest(NotificationName.CHANGE_LANGUAGE, { value });\n    }\n\n    @apiAccessor()\n    get contentTime(): number {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.model.time : NaN;\n    }\n\n    @apiAccessor()\n    get contentDuration(): number {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.model.duration : NaN;\n    }\n\n    @apiAccessor()\n    get streamTime(): number {\n        const presoModel = <PresentationStateInterface>this.modelCollectionProxy.getModel(ModelName.PresentationState);\n        return presoModel.streamTime;\n    }\n\n    @apiAccessor()\n    get streamDuration(): number {\n        const presoModel = <PresentationStateInterface>this.modelCollectionProxy.getModel(ModelName.PresentationState);\n        return presoModel.streamDuration;\n    }\n\n    @apiAccessor()\n    get playbackState(): PlaybackState {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.model.state : null;\n    }\n\n    @apiAccessor()\n    get playlist(): PlaylistInterface {\n        const proxy = <PlaylistProxy>this.facade.retrieveProxy(ProxyName.Playlist);\n\n        return proxy ? proxy.getApi() : null;\n    }\n\n    @apiAccessor()\n    get autoQualitySwitching(): boolean {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.qualitySwitchingMode === Playback.ABR_SWITCHING_MODE_AUTO : false;\n    }\n    set autoQualitySwitching(value: boolean) {\n        if (this.contentPlaybackStateProxy) {\n            this.transmitExtRequest(NotificationName.AUTO_QUALITY_SWITCHING, { value: value });\n        }\n        else {\n            this.log(AppResources.messages.CONTENT_PLAYBACK_SETTING_IGNORED);\n        }\n    }\n\n    @apiAccessor()\n    get qualityInfo(): QualityInfoInterface {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.qualityInfo : null;\n    }\n\n    @apiAccessor()\n    get bitrate(): number {\n        const quality = this.qualityInfo.quality || { bitrate: NaN };\n        const bitrate = (quality.bitrate != null) ? quality.bitrate : NaN;\n        return bitrate;\n    }\n    set bitrate(bitrate: number) {\n        if (this.contentPlaybackStateProxy) {\n            this.transmitExtRequest(NotificationName.SWITCH_BITRATE, { value: bitrate });\n        }\n        else {\n            this.log(AppResources.messages.CONTENT_PLAYBACK_SETTING_IGNORED);\n        }\n    }\n\n    @apiAccessor()\n    get qualityCategory(): string {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.userQualityCategory : null;\n    }\n    set qualityCategory(category: string) {\n        if (this.contentPlaybackStateProxy) {\n            this.transmitExtRequest(NotificationName.SWITCH_QUALITY_CATEGORY, { value: category });\n        }\n        else {\n            this.log(AppResources.messages.CONTENT_PLAYBACK_SETTING_IGNORED);\n        }\n    }\n\n    @apiAccessor()\n    get minBitrate(): number {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.minBitrate : NaN;\n    }\n    set minBitrate(value: number) {\n        if (this.contentPlaybackStateProxy) {\n            this.transmitExtRequest(NotificationName.MIN_BITRATE, { value: value });\n        }\n        else {\n            this.log(AppResources.messages.CONTENT_PLAYBACK_SETTING_IGNORED);\n        }\n    }\n\n    @apiAccessor()\n    get maxBitrate(): number {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.maxBitrate : NaN;\n    }\n    set maxBitrate(value: number) {\n        if (this.contentPlaybackStateProxy) {\n            this.transmitExtRequest(NotificationName.MAX_BITRATE, { value: value });\n        }\n        else {\n            this.log(AppResources.messages.CONTENT_PLAYBACK_SETTING_IGNORED);\n        }\n    }\n\n    @apiAccessor()\n    get audioTrackInfo(): AudioTracksInterface {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.model.audioTracks : null;\n    }\n\n    @apiAccessor()\n    get audioTrack(): AudioTrackInterface {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.model.audioTracks.track : null;\n    }\n    set audioTrack(track: AudioTrackInterface) {\n        if (this.contentPlaybackStateProxy) {\n            this.transmitExtRequest(NotificationName.SWITCH_AUDIO_TRACK, { value: track });\n        }\n        else {\n            this.log(AppResources.messages.CONTENT_PLAYBACK_SETTING_IGNORED);\n        }\n    }\n\n    @apiAccessor()\n    get resource(): ResourceConfigurationInterface {\n        return this.appMediator.getCurrentResource();\n    }\n    set resource(value: ResourceConfigurationInterface) {\n        this.transmitExtRequest(NotificationName.PREP_RESOURCE_COLLECTION, { resources: [value], start: true, clear: true });\n    }\n\n    @apiAccessor()\n    get textTrackEnabled(): boolean {\n        return (<TextTrackProxy>this.facade.retrieveProxy(ProxyName.TextTrackProxy)).enabled;\n    }\n    set textTrackEnabled(value: boolean) {\n        if (this.contentPlaybackStateProxy) {\n            this.transmitExtRequest(NotificationName.SWITCH_TEXT_MODE, { value: value });\n        }\n        else {\n            this.log(AppResources.messages.CONTENT_PLAYBACK_SETTING_IGNORED);\n        }\n    }\n\n    @apiAccessor()\n    get textTrack(): TextTrackInterface {\n        return this.textTrackInfo ? this.textTrackInfo.track : null;\n    }\n    set textTrack(value: TextTrackInterface) {\n        if (this.contentPlaybackStateProxy) {\n            this.transmitExtRequest(NotificationName.SWITCH_TEXT_TRACK, { value: value });\n        }\n        else {\n            this.log(AppResources.messages.CONTENT_PLAYBACK_SETTING_IGNORED);\n        }\n    }\n\n    @apiAccessor()\n    get textTrackInfo(): TextTracksInterface {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.textTrackInfo : null;\n    }\n\n    @apiAccessor()\n    get streamType(): StreamType {\n        return this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.model.streamType : null;\n    }\n\n    @apiAccessor()\n    get isPlayingLive(): boolean {\n        const lsi = this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.model.liveStreamInfo : null;\n        return lsi && lsi.isPlayingLive === true;\n    }\n\n    @apiAccessor()\n    get liveStreamUtcTime(): number {\n        const lsi: LiveStreamInfoInterface = this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.model.liveStreamInfo : null;\n        return lsi ? lsi.absoluteTime : NaN;\n    }\n\n    @apiAccessor()\n    get liveStreamUtcDuration(): number {\n        const lsi: LiveStreamInfoInterface = this.contentPlaybackStateProxy ? this.contentPlaybackStateProxy.model.liveStreamInfo : null;\n        return lsi ? lsi.absoluteDuration : NaN;\n    }\n\n    @apiAccessor()\n    get isSuspended(): boolean {\n        return this.appMediator.isPlaybackSuspended();\n    }\n\n    @apiAccessor()\n    get fullscreenElement(): HTMLElement {\n        return this.appMediator.getFullscreenElement();\n    }\n    set fullscreenElement(value: HTMLElement) {\n        this.appMediator.setFullscreenElement(value);\n    }\n\n    // end accessors\n\n    // methods\n\n    @apiMethod()\n    enterFullscreen(): void {\n        this.transmitExtRequest(NotificationName.ENTER_FULLSCREEN_REQUEST);\n    }\n\n    @apiMethod()\n    exitFullscreen(): void {\n        this.transmitExtRequest(NotificationName.EXIT_FULLSCREEN_REQUEST);\n    }\n\n    @apiMethod()\n    play(): Promise<void> {\n        if (this.appMediator.isPlaybackSuspended()) {\n            this.transmitExtRequest(NotificationName.RESUME_PLAYBACK);\n        }\n\n        const note = { name: NotificationName.PLAY, type: NotificationType.EXTERNAL };\n        return this.sendAsyncNotification(note, [PlayerEvent.CONTENT_PLAYING, PlayerEvent.AD_PLAYING], [PlayerEvent.AUTOPLAY_BLOCKED, PlayerEvent.VIDEO_PLAYBACK_ERROR, PlayerEvent.AD_ERROR]);\n    }\n\n    @apiMethod()\n    pause(): Promise<void> {\n        if (this.streamType === StreamType.LIVE) {\n            this.log(AppResources.messages.PAUSING_LINEAR_LIVE_STREAM_NOT_ALLOWED);\n            return this.stop();\n        }\n        else {\n            const note = { name: NotificationName.PAUSE, type: NotificationType.EXTERNAL };\n            return this.sendAsyncNotification(note, [PlayerEvent.CONTENT_PAUSED, PlayerEvent.AD_PAUSED]);\n        }\n    }\n\n    @apiMethod()\n    togglePlayPause(): void {\n        const s = this.playbackState;\n        const req = s === PlaybackState.PLAYING ? NotificationName.PAUSE :\n            (s === PlaybackState.PAUSED ? NotificationName.PLAY : null);\n\n        req && this.transmitExtRequest(req);\n    }\n\n    @apiMethod()\n    seek(position: number): Promise<any> {\n        const seekPos = this.appMediator.validateSeek(position, this.contentDuration);\n        if (seekPos === null) {\n            return Promise.resolve();\n        }\n\n        const note = { name: NotificationName.SEEK, body: { value: seekPos }, type: NotificationType.EXTERNAL };\n\n        return this.sendAsyncNotification(note, [PlayerEvent.SEEK_COMPLETE], [PlayerEvent.VIDEO_PLAYBACK_ERROR, PlayerEvent.AD_ERROR]);\n    }\n\n    @apiMethod()\n    getModelSnapshot(): ModelSnapshotInterface {\n        return this.appMediator.getSnapshot();\n    }\n\n    @apiMethod()\n    getAdBreakTimes(): AdCuePointInterface[] {\n        return this.appMediator.getAdBreakTimes() || []\n    }\n\n    @apiMethod()\n    grabFrame(): HTMLImageElement {\n        return this.appMediator.grabFrame();\n    }\n\n    @apiMethod()\n    getThumbnail(time: number): ThumbnailCueInterface { \n        return this.contentPlaybackStateProxy.getThumbnail(time);\n    }\n\n    @apiMethod()\n    getContainerRect(): ClientRect | null {\n        return this.appMediator.getContainerRect();\n    }\n\n    @apiMethod()\n    registerPlugins(pc: PluginConfigInterface[], callback?: () => void): Promise<void> {\n        return new Promise((resolve, reject) => {\n            this.transmitExtRequest(NotificationName.LOAD_PLUGINS, {\n                plugins: pc,\n                callback: () => {\n                    if (typeof callback === 'function') {\n                        callback();\n                    }\n                    resolve();\n                }\n            });\n        });\n    }\n\n    @apiMethod()\n    removePlugin(name: string): void {\n        this.transmitExtRequest(NotificationName.REMOVE_PLUGIN, {\n            name: name\n        });\n    }\n\n    @apiMethod()\n    getPlugin(name: string): void {\n        return this.appMediator.getPlugin(name);\n    }\n\n    @apiMethod()\n    stop(): Promise<void> {\n        const note = { name: NotificationName.STOP, type: NotificationType.EXTERNAL };\n        return this.sendAsyncNotification(note, [PlayerEvent.RESOURCE_INTERRUPTED, PlayerEvent.RESOURCE_END]);\n    }\n\n    @apiMethod()\n    goLive(): void {\n        if (this.streamType && this.streamType !== StreamType.VOD) {\n            this.transmitExtRequest(NotificationName.SEEK_TO_LIVE);\n        }\n    }\n\n    @apiMethod()\n    focus(options?: { preventScroll: boolean }): void {\n        const main = this.dom.getMain();\n        if (main) {\n            main.focus(options);\n        }\n    }\n\n    @apiMethod()\n    blur(): void {\n        const main = this.dom.getMain();\n        if (main) {\n            main.blur();\n        }\n    }\n\n    @apiMethod()\n    getConfigAsJson(spacing?: number): string {\n        return this.appMediator.getConfigAsJson(spacing);\n    }\n\n    @apiMethod()\n    getAutoplayCapabilities(): Promise<AutoplayInfoInterface> {\n        return this.appMediator.getAutoplayCapabilities();\n    }\n\n    @apiMethod()\n    suspendPlayback(): void {\n        if (!this.appMediator.isPlaybackSuspended()) {\n            this.pause().then(() => {\n                this.transmitExtRequest(NotificationName.SUSPEND_PLAYBACK);\n            });\n        }\n    }\n\n    @apiMethod()\n    resumePlayback(): void {\n        if (this.appMediator.isPlaybackSuspended()) {\n            this.transmitExtRequest(NotificationName.RESUME_PLAYBACK);\n        }\n    }\n\n    // end methods\n    ////////////////////\n    // END PUBLIC API //\n    ////////////////////\n\n    /**\n    * @ignore\n    */\n    sendEvent(name: string, data: StrAnyDict): void {\n        this.emit(name, data);\n    }\n\n    /**\n    * @ignore\n    */\n    sendErrorEvent(event: EventInterface): void {\n        this.dispatchEvt(event);\n    }\n\n    private addNativePlugins(pluginsArray: PluginConfigInterface[], playerOptions: PlayerOptionsInterface): void {\n        const bi = <BuildInfoServiceInterface>this.facade.retrieveService(ServiceName.BuildInfo),\n            ver = bi.playerVersion,\n            pi = playerOptions.nativePlugins;\n\n        let i = pi && pi.length || 0, cfg;\n        while (i--) {\n            switch (pi[i]) {\n                case NativePlugin.REPLAY:\n                    cfg = AppResources.nativePluginConfig.replay;\n\n                    cfg.url = cfg.url.replace('{{VER}}', ver);\n                    pluginsArray.push(AppResources.nativePluginConfig.replay);\n\n                    break;\n\n                case NativePlugin.DIAGNOSTIC:\n                    cfg = AppResources.nativePluginConfig.diagnostic;\n\n                    cfg.url = cfg.url.replace('{{VER}}', ver);\n                    pluginsArray.push(AppResources.nativePluginConfig.diagnostic);\n\n                    break;\n            }\n        }\n    }\n\n    private get contentPlaybackStateProxy(): ContentPlaybackStateProxy {\n        if (!this.pContentPlaybackStateProxy) {\n            this.pContentPlaybackStateProxy = <ContentPlaybackStateProxy>this.facade.retrieveProxy(ProxyName.ContentPlaybackStateProxy);\n        }\n        return this.pContentPlaybackStateProxy;\n    }\n\n    private get localization(): LocalizationInterface {\n        return this.facade.retrieveProxy(ProxyName.LocalizationProxy) as LocalizationProxy;\n    }\n\n    private get dom(): PlayerDomProxyInterface {\n        return this.facade.retrieveProxy(ProxyName.PlayerDomProxy) as PlayerDomProxy;\n    }\n\n    private transmitExtRequest(name: NotificationName, data?: any): void {\n        this.sendNotification(name, data, NotificationType.EXTERNAL);\n    }\n\n    private log(message: string, logLevelOverride?: LogLevel): void {\n        const lv = logLevelOverride ? logLevelOverride : LogLevel.DEBUG;\n        this.facade.log(lv, message)\n    }\n\n    private init(): void {\n\n        const gServices = this.opts.globalServices,\n            logLvl = this.opts.playerOptions.logLevel ? this.opts.playerOptions.logLevel : LogLevel.OFF;\n\n        this.registerGlobalServices(gServices);\n        this.createLoggingService(logLvl);\n        this.createAutoplayCapabilitiesService();\n        this.createApplicationMediator(MediatorName.APPLICATION);\n\n        const sys = <SystemServiceInterface>gServices[ServiceName.System],\n            isWebMaf = sys.isWebMaf,\n            bootCom = isWebMaf ? NotificationName.BOOT_WEBMAF_APP : NotificationName.BOOT_APP;\n\n        delete this.opts.globalServices;\n\n        this.sendNotification(bootCom, {\n            playerOptions: this.opts.playerOptions || null,\n            app: this\n        }, NotificationType.INTERNAL);\n    }\n\n    private sendAsyncNotification(notification: NotificationInterface, event: string[], errorEvent: string[] = []): Promise<any> {\n        return new Promise((resolve, reject) => {\n            errorEvent.push(PlayerEvent.FATAL_ERROR);\n\n            const success = (event: EventInterface) => {\n                remove(); //eslint-disable-line\n                resolve(event);\n            };\n\n            const fail = (error: any) => {\n                remove(); //eslint-disable-line\n                reject(error);\n            };\n\n            const remove = () => {\n                event.forEach(type => this.off(type, success));\n                errorEvent.forEach(type => this.off(type, fail));\n            };\n\n            try {\n                event.forEach(type => this.on(type, success));\n                errorEvent.forEach(type => this.on(type, fail));\n                this.sendNotification(notification.name, notification.body, notification.type);\n            }\n            catch (error) {\n                fail(error);\n            }\n        });\n    }\n}\n","import { Logger } from '../core/Logger';\nimport { Util } from '../core/Util';\nimport { ServiceName } from '../enum/ServiceName';\nimport { MediaCapabilitiesServiceInterface, ServiceCollection, SystemServiceInterface } from '../iface';\nimport { BuildInfoInterface } from '../iface/BuildInfoInterface';\nimport { EventInterface } from '../iface/EventInterface';\nimport { PlayerOptionsInterface } from '../iface/PlayerOptionsInterface';\nimport { ResourceConfigurationInterface } from '../iface/ResourceConfigurationInterface';\nimport { SystemInfoApiInterface } from '../iface/SystemInfoApiInterface';\nimport { VideoPlayerInterface } from '../iface/VideoPlayerInterface';\nimport { VideoPlayerReadyCallback } from '../iface/VideoPlayerReadyCallback';\nimport { BuildInfoService } from '../service/BuildInfoService';\nimport { MediaCapabilitiesService } from '../service/MediaCapabilitiesService';\nimport { SystemService } from '../service/SystemService';\nimport { MediaCapabilities } from '../util/MediaCapabilities';\nimport { System } from '../util/System';\nimport { ResourceConfiguration } from './ResourceConfiguration';\nimport { VideoPlayer } from './VideoPlayer';\n\n\ninterface PlayerRequestObject {\n    options: PlayerOptionsInterface,\n    callback: VideoPlayerReadyCallback\n}\n\nexport class Shell {\n    private static serviceCollection: ServiceCollection = null;\n    private static playerCollection: Record<string, VideoPlayerInterface> = {};\n    private static initialized: boolean = false;\n    private static initializing: boolean = null;\n    private static pendingPlayerRequests: PlayerRequestObject[] = [];\n\n    protected constructor() { }\n\n    static createVideoPlayer(options: PlayerOptionsInterface, callback: VideoPlayerReadyCallback, buildInfo: BuildInfoInterface): void {\n        if (this.initialized) {\n            this.createVideoPlayerApp({ options, callback });\n            return;\n        }\n        else {\n            this.pendingPlayerRequests.push({ options, callback });\n        }\n\n        if (this.initializing === null) {\n            this.initializing = true;\n            this.initialize(buildInfo);\n        }\n    }\n\n    static createVideoPlayerApp(pro: PlayerRequestObject) {\n        const c = pro.options.container,\n            sys = <SystemServiceInterface>this.serviceCollection[ServiceName.System];\n\n        let ok = false;\n\n        if (sys.isWebMaf) {\n            ok = true;\n        }\n        else if (\n            c !== null && c !== undefined &&\n            (\n                c.constructor === HTMLDivElement ||\n                (typeof c == 'object' && typeof c.getBoundingClientRect === 'function') ||\n                (typeof c == 'string' && document.querySelector(c) != null)\n            )\n        ) {\n            ok = true;\n        }\n\n        if (!ok) {\n            const msg = 'Invalid player configuration: Missing presentation container.';\n            Logger.error(msg);\n            pro.callback(null, { message: msg });\n        }\n\n        const vp = new VideoPlayer({\n            globalServices: this.serviceCollection,\n            playerOptions: pro.options\n        });\n\n        this.playerCollection[vp.appId] = vp;\n\n        vp\n            .initialize()\n            .then(api => pro.callback(api, null))\n            .catch(error => pro.callback(null, error));\n    }\n\n    static removeVideoPlayer(playerId: string): Promise<void> {\n        const p = this.playerCollection[playerId];\n        if (!p) {\n            return Promise.resolve();\n        }\n\n        // @ts-ignore\n        return p.destroy()\n            .then(() => {\n                delete this.playerCollection[playerId];\n                Logger.log(`[CVP] Player with id ${playerId} removed.`);\n            });\n    }\n\n    static createResourceConfig(config?: Partial<ResourceConfigurationInterface>): ResourceConfigurationInterface {\n        return new ResourceConfiguration(config);\n    }\n\n    static getSysInfoForUser(): SystemInfoApiInterface {\n        if (this.serviceCollection === null) {\n            return null;\n        }\n\n        const info = Util.assign({}, System.info),\n            mc = (<MediaCapabilitiesServiceInterface>this.serviceCollection[ServiceName.MediaCapabilities]).capabilities;\n\n        info.hasMediaSource = mc.hasMediaSource;\n        info.supportsNativeHls = mc.supportsNativeHls;\n\n        return <SystemInfoApiInterface>info;\n    }\n\n    private static processPending(): void {\n        const n = this.pendingPlayerRequests.length;\n\n        for (let i = 0; i < n; i++) {\n            this.createVideoPlayerApp(this.pendingPlayerRequests[i]);\n            this.pendingPlayerRequests[i] = null;\n        }\n        this.pendingPlayerRequests = [];\n    }\n\n    private static createServices(mediaCaps: MediaCapabilities, buildInfo: BuildInfoInterface): void {\n        const s: ServiceCollection = {};\n\n        s[ServiceName.System] = SystemService.getInstance(ServiceName.System);\n        s[ServiceName.MediaCapabilities] = MediaCapabilitiesService.getInstance(ServiceName.MediaCapabilities, mediaCaps);\n        s[ServiceName.BuildInfo] = BuildInfoService.getInstance(ServiceName.BuildInfo, buildInfo);\n\n        this.serviceCollection = s;\n    }\n\n    private static initialize(buildInfo: BuildInfoInterface) {\n        new MediaCapabilities({\n            onComplete: (e: EventInterface) => {\n                // @ts-ignore\n                this.createServices(e.target as MediaCapabilities, buildInfo);\n                this.initialized = true;\n                this.initializing = false;\n                this.processPending();\n            }\n        });\n    }\n}\n","export enum LocalizedLanguage {\n\tEN = \"English\",\n\tES = \"Español\",\n\tFR = \"Français\",\n\tPT = \"Português\",\n\tDE = \"Deutsche\",\n\tPL = \"Polski\",\n\tJA = \"日本人\",\n\tKO = \"한국어\",\n\tZH = \"简体中文\",\n\tIT = \"Italiano\",\n\tRU = \"Русский\"\n}\n","import ObjectAssign from 'es6-object-assign';\nimport \"es6-promise/auto\";\nimport { Shell } from \"./app/Shell\";\nimport { BaseClass } from \"./core/BaseClass\";\nimport { CoreEvent } from \"./core/CoreEvent\";\nimport { Emitter } from \"./core/Emitter\";\nimport { QueryString } from \"./core/QueryString\";\nimport { request } from './core/Request';\nimport { Util } from \"./core/Util\";\nimport { AdContext } from \"./enum/AdContext\";\nimport { Autoplay } from \"./enum/Autoplay\";\nimport { Browser } from './enum/Browser';\nimport { Device } from './enum/Device';\nimport { ErrorCode } from './enum/ErrorCode';\nimport { KeyboardScope } from './enum/KeyboardScope';\nimport { LocalizationId } from \"./enum/LocalizationId\";\nimport { LocalizedLanguage } from \"./enum/LocalizedLanguage\";\nimport { LogLevel } from \"./enum/LogLevel\";\nimport { NativePlugin } from './enum/NativePlugin';\nimport { Os } from './enum/Os';\nimport { PerformanceMode } from \"./enum/PerformanceMode\";\nimport { Platform } from './enum/Platform';\nimport { PlaybackState } from \"./enum/PlaybackState\";\nimport { PlayerEvent } from './enum/PlayerEvent';\nimport { PluginPriority } from \"./enum/PluginPriority\";\nimport { QualityCategory } from './enum/QualityCategory';\nimport { StreamType } from \"./enum/StreamType\";\nimport { BuildInfoInterface } from \"./iface/BuildInfoInterface\";\nimport { PlayerOptionsInterface } from \"./iface/PlayerOptionsInterface\";\nimport { ResourceConfigurationInterface } from \"./iface/ResourceConfigurationInterface\";\nimport { StrAnyDict } from \"./iface/StrAnyDict\";\nimport { SystemInfoApiInterface } from \"./iface/SystemInfoApiInterface\";\nimport { VideoPlayerInterface } from \"./iface/VideoPlayerInterface\";\nimport { VideoPlayerReadyCallback } from './iface/VideoPlayerReadyCallback';\nimport { PlaybackAdapterType } from \"./playback/enum/PlaybackAdapterType\";\nimport { ThumbnailTrackSurface } from './playback/surface/ThumbnailTrackSurface';\n\nObjectAssign.polyfill();\n\nconst bi = (function () {\n    const frag = '{__',\n        i = {\n            env: '{__ENV__}',\n            playerVersion: '{__PLAYER_VER__}',\n            playerName: '{__PLAYER_NAME__}',\n            buildTime: '{__BUILD_TIME__}',\n        };\n    i.playerName = i.playerName.indexOf(frag) < 0 ? i.playerName : 'CBSi Video Player (CVP)';\n    i.playerVersion = i.playerVersion.indexOf(frag) < 0 ? i.playerVersion : '-dev';\n    i.buildTime = i.buildTime.indexOf(frag) < 0 ? i.buildTime : (new Date()).toLocaleDateString();\n\n    console && console.log(`${i.playerName}; Ver. ${i.playerVersion}  ${i.buildTime}`);\n\n    return i;\n}());\n\nexport default {\n\n    createVideoPlayer(options: PlayerOptionsInterface, callback?: VideoPlayerReadyCallback): Promise<VideoPlayerInterface> {\n        return new Promise((resolve, reject) => {\n            Shell.createVideoPlayer(options, (player: VideoPlayerInterface, error: StrAnyDict) => {\n                if (Util.isFunction(callback)) {\n                    callback(player, error);\n                }\n\n                if (error != null) {\n                    reject(error);\n                }\n                else {\n                    resolve(player);\n                }\n            }, this.buildInfo);\n        });\n    },\n\n    removeVideoPlayer(playerId: string): Promise<void> {\n        return Shell.removeVideoPlayer(playerId);\n    },\n\n    createResourceConfig(config?: Partial<ResourceConfigurationInterface>): ResourceConfigurationInterface {\n        return Shell.createResourceConfig(config);\n    },\n\n    get buildInfo(): BuildInfoInterface {\n        return bi;\n    },\n\n    get systemInfo(): SystemInfoApiInterface | null {\n        return Shell.getSysInfoForUser();\n    },\n\n    core: {\n        BaseClass: BaseClass,\n        CoreEvent: CoreEvent,\n        Emitter: Emitter,\n    },\n\n    util: {\n        QueryString: QueryString,\n        Util: { ...Util, request, renderThumbnail: ThumbnailTrackSurface.renderThumbnail },\n    },\n\n    AdContext: AdContext,\n    Autoplay: Autoplay,\n    Browser: Browser,\n    Device: Device,\n    ErrorCode: ErrorCode,\n    KeyboardScope: KeyboardScope,\n    LocalizationId: LocalizationId,\n    LocalizedLanguage: LocalizedLanguage,\n    LogLevel: LogLevel,\n    NativePlugin: NativePlugin,\n    Os: Os,\n    PerformanceMode: PerformanceMode,\n    Platform: Platform,\n    PlaybackAdapterType: PlaybackAdapterType,\n    PlaybackState: PlaybackState,\n    PlayerEvent: PlayerEvent,\n    PluginPriority: PluginPriority,\n    QualityCategory: QualityCategory,\n    StreamType: StreamType,\n};\n"],"names":["require","resolve","_resolve","then","originalThen","originalResolve","Promise","reject","_reject","Resolve","Reject","global","require$$0","MimeType_1","tslib_1","MediaDecodeConfigs_1","cookies","require$$1","defaults","InterceptorManager","Cancel","Axios","require$$2","require$$3","QualityMap_1","event_map_1","KeyCode_1","ApiDecorators_1","Proxy_1","build_info_config_1","ad_break_info_config_1","ad_item_config_1","content_playback_state_config_1","player_dom_config_1","player_options_config_1","presentation_state_config_1","Generator_1","PlayerDom_1","cfg","cfg_1","Request_1","gam_static_params_1","DaiProxyApi_1","command_map_1"],"mappings":"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"}